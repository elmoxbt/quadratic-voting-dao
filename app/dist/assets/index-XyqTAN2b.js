var m2=Object.defineProperty;var y2=(n,e,t)=>e in n?m2(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var $t=(n,e,t)=>y2(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var or=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oi(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Id(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var Z1={exports:{}},xd={},X1={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tl=Symbol.for("react.element"),w2=Symbol.for("react.portal"),v2=Symbol.for("react.fragment"),_2=Symbol.for("react.strict_mode"),E2=Symbol.for("react.profiler"),b2=Symbol.for("react.provider"),S2=Symbol.for("react.context"),R2=Symbol.for("react.forward_ref"),A2=Symbol.for("react.suspense"),k2=Symbol.for("react.memo"),I2=Symbol.for("react.lazy"),Gm=Symbol.iterator;function x2(n){return n===null||typeof n!="object"?null:(n=Gm&&n[Gm]||n["@@iterator"],typeof n=="function"?n:null)}var Q1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J1=Object.assign,ev={};function xa(n,e,t){this.props=n,this.context=e,this.refs=ev,this.updater=t||Q1}xa.prototype.isReactComponent={};xa.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};xa.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function tv(){}tv.prototype=xa.prototype;function j0(n,e,t){this.props=n,this.context=e,this.refs=ev,this.updater=t||Q1}var K0=j0.prototype=new tv;K0.constructor=j0;J1(K0,xa.prototype);K0.isPureReactComponent=!0;var qm=Array.isArray,nv=Object.prototype.hasOwnProperty,V0={current:null},rv={key:!0,ref:!0,__self:!0,__source:!0};function iv(n,e,t){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)nv.call(e,r)&&!rv.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];i.children=c}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:tl,type:n,key:o,ref:s,props:i,_owner:V0.current}}function T2(n,e){return{$$typeof:tl,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function $0(n){return typeof n=="object"&&n!==null&&n.$$typeof===tl}function C2(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var Ym=/\/+/g;function Wf(n,e){return typeof n=="object"&&n!==null&&n.key!=null?C2(""+n.key):e.toString(36)}function nu(n,e,t,r,i){var o=typeof n;(o==="undefined"||o==="boolean")&&(n=null);var s=!1;if(n===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(n.$$typeof){case tl:case w2:s=!0}}if(s)return s=n,i=i(s),n=r===""?"."+Wf(s,0):r,qm(i)?(t="",n!=null&&(t=n.replace(Ym,"$&/")+"/"),nu(i,e,t,"",function(l){return l})):i!=null&&($0(i)&&(i=T2(i,t+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Ym,"$&/")+"/")+n)),e.push(i)),1;if(s=0,r=r===""?".":r+":",qm(n))for(var a=0;a<n.length;a++){o=n[a];var c=r+Wf(o,a);s+=nu(o,e,t,c,i)}else if(c=x2(n),typeof c=="function")for(n=c.call(n),a=0;!(o=n.next()).done;)o=o.value,c=r+Wf(o,a++),s+=nu(o,e,t,c,i);else if(o==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function bl(n,e,t){if(n==null)return n;var r=[],i=0;return nu(n,r,"","",function(o){return e.call(t,o,i++)}),r}function N2(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Bn={current:null},ru={transition:null},O2={ReactCurrentDispatcher:Bn,ReactCurrentBatchConfig:ru,ReactCurrentOwner:V0};function ov(){throw Error("act(...) is not supported in production builds of React.")}Oe.Children={map:bl,forEach:function(n,e,t){bl(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return bl(n,function(){e++}),e},toArray:function(n){return bl(n,function(e){return e})||[]},only:function(n){if(!$0(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Oe.Component=xa;Oe.Fragment=v2;Oe.Profiler=E2;Oe.PureComponent=j0;Oe.StrictMode=_2;Oe.Suspense=A2;Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O2;Oe.act=ov;Oe.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=J1({},n.props),i=n.key,o=n.ref,s=n._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=V0.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(c in e)nv.call(e,c)&&!rv.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=t;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:tl,type:n.type,key:i,ref:o,props:r,_owner:s}};Oe.createContext=function(n){return n={$$typeof:S2,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:b2,_context:n},n.Consumer=n};Oe.createElement=iv;Oe.createFactory=function(n){var e=iv.bind(null,n);return e.type=n,e};Oe.createRef=function(){return{current:null}};Oe.forwardRef=function(n){return{$$typeof:R2,render:n}};Oe.isValidElement=$0;Oe.lazy=function(n){return{$$typeof:I2,_payload:{_status:-1,_result:n},_init:N2}};Oe.memo=function(n,e){return{$$typeof:k2,type:n,compare:e===void 0?null:e}};Oe.startTransition=function(n){var e=ru.transition;ru.transition={};try{n()}finally{ru.transition=e}};Oe.unstable_act=ov;Oe.useCallback=function(n,e){return Bn.current.useCallback(n,e)};Oe.useContext=function(n){return Bn.current.useContext(n)};Oe.useDebugValue=function(){};Oe.useDeferredValue=function(n){return Bn.current.useDeferredValue(n)};Oe.useEffect=function(n,e){return Bn.current.useEffect(n,e)};Oe.useId=function(){return Bn.current.useId()};Oe.useImperativeHandle=function(n,e,t){return Bn.current.useImperativeHandle(n,e,t)};Oe.useInsertionEffect=function(n,e){return Bn.current.useInsertionEffect(n,e)};Oe.useLayoutEffect=function(n,e){return Bn.current.useLayoutEffect(n,e)};Oe.useMemo=function(n,e){return Bn.current.useMemo(n,e)};Oe.useReducer=function(n,e,t){return Bn.current.useReducer(n,e,t)};Oe.useRef=function(n){return Bn.current.useRef(n)};Oe.useState=function(n){return Bn.current.useState(n)};Oe.useSyncExternalStore=function(n,e,t){return Bn.current.useSyncExternalStore(n,e,t)};Oe.useTransition=function(){return Bn.current.useTransition()};Oe.version="18.3.1";X1.exports=Oe;var Q=X1.exports;const re=Oi(Q);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M2=Q,B2=Symbol.for("react.element"),L2=Symbol.for("react.fragment"),P2=Object.prototype.hasOwnProperty,D2=M2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,U2={key:!0,ref:!0,__self:!0,__source:!0};function sv(n,e,t){var r,i={},o=null,s=null;t!==void 0&&(o=""+t),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)P2.call(e,r)&&!U2.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:B2,type:n,key:o,ref:s,props:i,_owner:D2.current}}xd.Fragment=L2;xd.jsx=sv;xd.jsxs=sv;Z1.exports=xd;var X=Z1.exports,ip={},av={exports:{}},ar={},cv={exports:{}},lv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(I,O){var P=I.length;I.push(O);e:for(;0<P;){var N=P-1>>>1,y=I[N];if(0<i(y,O))I[N]=O,I[P]=y,P=N;else break e}}function t(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var O=I[0],P=I.pop();if(P!==O){I[0]=P;e:for(var N=0,y=I.length,B=y>>>1;N<B;){var te=2*(N+1)-1,ne=I[te],ae=te+1,Re=I[ae];if(0>i(ne,P))ae<y&&0>i(Re,ne)?(I[N]=Re,I[ae]=P,N=ae):(I[N]=ne,I[te]=P,N=te);else if(ae<y&&0>i(Re,P))I[N]=Re,I[ae]=P,N=ae;else break e}}return O}function i(I,O){var P=I.sortIndex-O.sortIndex;return P!==0?P:I.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();n.unstable_now=function(){return s.now()-a}}var c=[],l=[],u=1,p=null,g=3,h=!1,w=!1,k=!1,A=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(I){for(var O=t(l);O!==null;){if(O.callback===null)r(l);else if(O.startTime<=I)r(l),O.sortIndex=O.expirationTime,e(c,O);else break;O=t(l)}}function x(I){if(k=!1,_(I),!w)if(t(c)!==null)w=!0,S(L);else{var O=t(l);O!==null&&T(x,O.startTime-I)}}function L(I,O){w=!1,k&&(k=!1,E(W),W=-1),h=!0;var P=g;try{for(_(O),p=t(c);p!==null&&(!(p.expirationTime>O)||I&&!q());){var N=p.callback;if(typeof N=="function"){p.callback=null,g=p.priorityLevel;var y=N(p.expirationTime<=O);O=n.unstable_now(),typeof y=="function"?p.callback=y:p===t(c)&&r(c),_(O)}else r(c);p=t(c)}if(p!==null)var B=!0;else{var te=t(l);te!==null&&T(x,te.startTime-O),B=!1}return B}finally{p=null,g=P,h=!1}}var U=!1,D=null,W=-1,z=5,H=-1;function q(){return!(n.unstable_now()-H<z)}function $(){if(D!==null){var I=n.unstable_now();H=I;var O=!0;try{O=D(!0,I)}finally{O?R():(U=!1,D=null)}}else U=!1}var R;if(typeof b=="function")R=function(){b($)};else if(typeof MessageChannel<"u"){var d=new MessageChannel,f=d.port2;d.port1.onmessage=$,R=function(){f.postMessage(null)}}else R=function(){A($,0)};function S(I){D=I,U||(U=!0,R())}function T(I,O){W=A(function(){I(n.unstable_now())},O)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(I){I.callback=null},n.unstable_continueExecution=function(){w||h||(w=!0,S(L))},n.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<I?Math.floor(1e3/I):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(I){switch(g){case 1:case 2:case 3:var O=3;break;default:O=g}var P=g;g=O;try{return I()}finally{g=P}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(I,O){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var P=g;g=I;try{return O()}finally{g=P}},n.unstable_scheduleCallback=function(I,O,P){var N=n.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?N+P:N):P=N,I){case 1:var y=-1;break;case 2:y=250;break;case 5:y=1073741823;break;case 4:y=1e4;break;default:y=5e3}return y=P+y,I={id:u++,callback:O,priorityLevel:I,startTime:P,expirationTime:y,sortIndex:-1},P>N?(I.sortIndex=P,e(l,I),t(c)===null&&I===t(l)&&(k?(E(W),W=-1):k=!0,T(x,P-N))):(I.sortIndex=y,e(c,I),w||h||(w=!0,S(L))),I},n.unstable_shouldYield=q,n.unstable_wrapCallback=function(I){var O=g;return function(){var P=g;g=O;try{return I.apply(this,arguments)}finally{g=P}}}})(lv);cv.exports=lv;var z2=cv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F2=Q,sr=z2;function ie(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var uv=new Set,Ic={};function fs(n,e){la(n,e),la(n+"Capture",e)}function la(n,e){for(Ic[n]=e,n=0;n<e.length;n++)uv.add(e[n])}var Ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),op=Object.prototype.hasOwnProperty,W2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zm={},Xm={};function H2(n){return op.call(Xm,n)?!0:op.call(Zm,n)?!1:W2.test(n)?Xm[n]=!0:(Zm[n]=!0,!1)}function j2(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function K2(n,e,t,r){if(e===null||typeof e>"u"||j2(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ln(n,e,t,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var wn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){wn[n]=new Ln(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];wn[e]=new Ln(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){wn[n]=new Ln(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){wn[n]=new Ln(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){wn[n]=new Ln(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){wn[n]=new Ln(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){wn[n]=new Ln(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){wn[n]=new Ln(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){wn[n]=new Ln(n,5,!1,n.toLowerCase(),null,!1,!1)});var G0=/[\-:]([a-z])/g;function q0(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(G0,q0);wn[e]=new Ln(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(G0,q0);wn[e]=new Ln(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(G0,q0);wn[e]=new Ln(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){wn[n]=new Ln(n,1,!1,n.toLowerCase(),null,!1,!1)});wn.xlinkHref=new Ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){wn[n]=new Ln(n,1,!1,n.toLowerCase(),null,!0,!0)});function Y0(n,e,t,r){var i=wn.hasOwnProperty(e)?wn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(K2(e,t,i,r)&&(t=null),r||i===null?H2(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Mi=F2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sl=Symbol.for("react.element"),Ls=Symbol.for("react.portal"),Ps=Symbol.for("react.fragment"),Z0=Symbol.for("react.strict_mode"),sp=Symbol.for("react.profiler"),dv=Symbol.for("react.provider"),fv=Symbol.for("react.context"),X0=Symbol.for("react.forward_ref"),ap=Symbol.for("react.suspense"),cp=Symbol.for("react.suspense_list"),Q0=Symbol.for("react.memo"),$i=Symbol.for("react.lazy"),hv=Symbol.for("react.offscreen"),Qm=Symbol.iterator;function Fa(n){return n===null||typeof n!="object"?null:(n=Qm&&n[Qm]||n["@@iterator"],typeof n=="function"?n:null)}var wt=Object.assign,Hf;function Qa(n){if(Hf===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Hf=e&&e[1]||""}return`
`+Hf+n}var jf=!1;function Kf(n,e){if(!n||jf)return"";jf=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(n,[],e)}else{try{e.call()}catch(l){r=l}n.call(e.prototype)}else{try{throw Error()}catch(l){r=l}n()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var c=`
`+i[s].replace(" at new "," at ");return n.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",n.displayName)),c}while(1<=s&&0<=a);break}}}finally{jf=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Qa(n):""}function V2(n){switch(n.tag){case 5:return Qa(n.type);case 16:return Qa("Lazy");case 13:return Qa("Suspense");case 19:return Qa("SuspenseList");case 0:case 2:case 15:return n=Kf(n.type,!1),n;case 11:return n=Kf(n.type.render,!1),n;case 1:return n=Kf(n.type,!0),n;default:return""}}function lp(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Ps:return"Fragment";case Ls:return"Portal";case sp:return"Profiler";case Z0:return"StrictMode";case ap:return"Suspense";case cp:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case fv:return(n.displayName||"Context")+".Consumer";case dv:return(n._context.displayName||"Context")+".Provider";case X0:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Q0:return e=n.displayName||null,e!==null?e:lp(n.type)||"Memo";case $i:e=n._payload,n=n._init;try{return lp(n(e))}catch{}}return null}function $2(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lp(e);case 8:return e===Z0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function vo(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function pv(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function G2(n){var e=pv(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,o=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Rl(n){n._valueTracker||(n._valueTracker=G2(n))}function gv(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=pv(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Bu(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function up(n,e){var t=e.checked;return wt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function Jm(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=vo(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function mv(n,e){e=e.checked,e!=null&&Y0(n,"checked",e,!1)}function dp(n,e){mv(n,e);var t=vo(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?fp(n,e.type,t):e.hasOwnProperty("defaultValue")&&fp(n,e.type,vo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function ey(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function fp(n,e,t){(e!=="number"||Bu(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Ja=Array.isArray;function Xs(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+vo(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function hp(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ie(91));return wt({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function ty(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(ie(92));if(Ja(t)){if(1<t.length)throw Error(ie(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:vo(t)}}function yv(n,e){var t=vo(e.value),r=vo(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function ny(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function wv(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pp(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?wv(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Al,vv=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Al=Al||document.createElement("div"),Al.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Al.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function xc(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var lc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},q2=["Webkit","ms","Moz","O"];Object.keys(lc).forEach(function(n){q2.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),lc[e]=lc[n]})});function _v(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||lc.hasOwnProperty(n)&&lc[n]?(""+e).trim():e+"px"}function Ev(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=_v(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var Y2=wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gp(n,e){if(e){if(Y2[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ie(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ie(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ie(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ie(62))}}function mp(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yp=null;function J0(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var wp=null,Qs=null,Js=null;function ry(n){if(n=il(n)){if(typeof wp!="function")throw Error(ie(280));var e=n.stateNode;e&&(e=Md(e),wp(n.stateNode,n.type,e))}}function bv(n){Qs?Js?Js.push(n):Js=[n]:Qs=n}function Sv(){if(Qs){var n=Qs,e=Js;if(Js=Qs=null,ry(n),e)for(n=0;n<e.length;n++)ry(e[n])}}function Rv(n,e){return n(e)}function Av(){}var Vf=!1;function kv(n,e,t){if(Vf)return n(e,t);Vf=!0;try{return Rv(n,e,t)}finally{Vf=!1,(Qs!==null||Js!==null)&&(Av(),Sv())}}function Tc(n,e){var t=n.stateNode;if(t===null)return null;var r=Md(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(ie(231,e,typeof t));return t}var vp=!1;if(Ri)try{var Wa={};Object.defineProperty(Wa,"passive",{get:function(){vp=!0}}),window.addEventListener("test",Wa,Wa),window.removeEventListener("test",Wa,Wa)}catch{vp=!1}function Z2(n,e,t,r,i,o,s,a,c){var l=Array.prototype.slice.call(arguments,3);try{e.apply(t,l)}catch(u){this.onError(u)}}var uc=!1,Lu=null,Pu=!1,_p=null,X2={onError:function(n){uc=!0,Lu=n}};function Q2(n,e,t,r,i,o,s,a,c){uc=!1,Lu=null,Z2.apply(X2,arguments)}function J2(n,e,t,r,i,o,s,a,c){if(Q2.apply(this,arguments),uc){if(uc){var l=Lu;uc=!1,Lu=null}else throw Error(ie(198));Pu||(Pu=!0,_p=l)}}function hs(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function Iv(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function iy(n){if(hs(n)!==n)throw Error(ie(188))}function ek(n){var e=n.alternate;if(!e){if(e=hs(n),e===null)throw Error(ie(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===t)return iy(i),n;if(o===r)return iy(i),e;o=o.sibling}throw Error(ie(188))}if(t.return!==r.return)t=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===t){s=!0,t=i,r=o;break}if(a===r){s=!0,r=i,t=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===t){s=!0,t=o,r=i;break}if(a===r){s=!0,r=o,t=i;break}a=a.sibling}if(!s)throw Error(ie(189))}}if(t.alternate!==r)throw Error(ie(190))}if(t.tag!==3)throw Error(ie(188));return t.stateNode.current===t?n:e}function xv(n){return n=ek(n),n!==null?Tv(n):null}function Tv(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=Tv(n);if(e!==null)return e;n=n.sibling}return null}var Cv=sr.unstable_scheduleCallback,oy=sr.unstable_cancelCallback,tk=sr.unstable_shouldYield,nk=sr.unstable_requestPaint,Ct=sr.unstable_now,rk=sr.unstable_getCurrentPriorityLevel,eg=sr.unstable_ImmediatePriority,Nv=sr.unstable_UserBlockingPriority,Du=sr.unstable_NormalPriority,ik=sr.unstable_LowPriority,Ov=sr.unstable_IdlePriority,Td=null,Yr=null;function ok(n){if(Yr&&typeof Yr.onCommitFiberRoot=="function")try{Yr.onCommitFiberRoot(Td,n,void 0,(n.current.flags&128)===128)}catch{}}var Or=Math.clz32?Math.clz32:ck,sk=Math.log,ak=Math.LN2;function ck(n){return n>>>=0,n===0?32:31-(sk(n)/ak|0)|0}var kl=64,Il=4194304;function ec(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Uu(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,o=n.pingedLanes,s=t&268435455;if(s!==0){var a=s&~i;a!==0?r=ec(a):(o&=s,o!==0&&(r=ec(o)))}else s=t&~i,s!==0?r=ec(s):o!==0&&(r=ec(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Or(e),i=1<<t,r|=n[t],e&=~i;return r}function lk(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uk(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,o=n.pendingLanes;0<o;){var s=31-Or(o),a=1<<s,c=i[s];c===-1?(!(a&t)||a&r)&&(i[s]=lk(a,e)):c<=e&&(n.expiredLanes|=a),o&=~a}}function Ep(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Mv(){var n=kl;return kl<<=1,!(kl&4194240)&&(kl=64),n}function $f(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function nl(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Or(e),n[e]=t}function dk(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Or(t),o=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~o}}function tg(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Or(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var Ke=0;function Bv(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Lv,ng,Pv,Dv,Uv,bp=!1,xl=[],ao=null,co=null,lo=null,Cc=new Map,Nc=new Map,Zi=[],fk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sy(n,e){switch(n){case"focusin":case"focusout":ao=null;break;case"dragenter":case"dragleave":co=null;break;case"mouseover":case"mouseout":lo=null;break;case"pointerover":case"pointerout":Cc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nc.delete(e.pointerId)}}function Ha(n,e,t,r,i,o){return n===null||n.nativeEvent!==o?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=il(e),e!==null&&ng(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function hk(n,e,t,r,i){switch(e){case"focusin":return ao=Ha(ao,n,e,t,r,i),!0;case"dragenter":return co=Ha(co,n,e,t,r,i),!0;case"mouseover":return lo=Ha(lo,n,e,t,r,i),!0;case"pointerover":var o=i.pointerId;return Cc.set(o,Ha(Cc.get(o)||null,n,e,t,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Nc.set(o,Ha(Nc.get(o)||null,n,e,t,r,i)),!0}return!1}function zv(n){var e=zo(n.target);if(e!==null){var t=hs(e);if(t!==null){if(e=t.tag,e===13){if(e=Iv(t),e!==null){n.blockedOn=e,Uv(n.priority,function(){Pv(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function iu(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Sp(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);yp=r,t.target.dispatchEvent(r),yp=null}else return e=il(t),e!==null&&ng(e),n.blockedOn=t,!1;e.shift()}return!0}function ay(n,e,t){iu(n)&&t.delete(e)}function pk(){bp=!1,ao!==null&&iu(ao)&&(ao=null),co!==null&&iu(co)&&(co=null),lo!==null&&iu(lo)&&(lo=null),Cc.forEach(ay),Nc.forEach(ay)}function ja(n,e){n.blockedOn===e&&(n.blockedOn=null,bp||(bp=!0,sr.unstable_scheduleCallback(sr.unstable_NormalPriority,pk)))}function Oc(n){function e(i){return ja(i,n)}if(0<xl.length){ja(xl[0],n);for(var t=1;t<xl.length;t++){var r=xl[t];r.blockedOn===n&&(r.blockedOn=null)}}for(ao!==null&&ja(ao,n),co!==null&&ja(co,n),lo!==null&&ja(lo,n),Cc.forEach(e),Nc.forEach(e),t=0;t<Zi.length;t++)r=Zi[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Zi.length&&(t=Zi[0],t.blockedOn===null);)zv(t),t.blockedOn===null&&Zi.shift()}var ea=Mi.ReactCurrentBatchConfig,zu=!0;function gk(n,e,t,r){var i=Ke,o=ea.transition;ea.transition=null;try{Ke=1,rg(n,e,t,r)}finally{Ke=i,ea.transition=o}}function mk(n,e,t,r){var i=Ke,o=ea.transition;ea.transition=null;try{Ke=4,rg(n,e,t,r)}finally{Ke=i,ea.transition=o}}function rg(n,e,t,r){if(zu){var i=Sp(n,e,t,r);if(i===null)nh(n,e,r,Fu,t),sy(n,r);else if(hk(i,n,e,t,r))r.stopPropagation();else if(sy(n,r),e&4&&-1<fk.indexOf(n)){for(;i!==null;){var o=il(i);if(o!==null&&Lv(o),o=Sp(n,e,t,r),o===null&&nh(n,e,r,Fu,t),o===i)break;i=o}i!==null&&r.stopPropagation()}else nh(n,e,r,null,t)}}var Fu=null;function Sp(n,e,t,r){if(Fu=null,n=J0(r),n=zo(n),n!==null)if(e=hs(n),e===null)n=null;else if(t=e.tag,t===13){if(n=Iv(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Fu=n,null}function Fv(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rk()){case eg:return 1;case Nv:return 4;case Du:case ik:return 16;case Ov:return 536870912;default:return 16}default:return 16}}var eo=null,ig=null,ou=null;function Wv(){if(ou)return ou;var n,e=ig,t=e.length,r,i="value"in eo?eo.value:eo.textContent,o=i.length;for(n=0;n<t&&e[n]===i[n];n++);var s=t-n;for(r=1;r<=s&&e[t-r]===i[o-r];r++);return ou=i.slice(n,1<r?1-r:void 0)}function su(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Tl(){return!0}function cy(){return!1}function cr(n){function e(t,r,i,o,s){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Tl:cy,this.isPropagationStopped=cy,this}return wt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Tl)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Tl)},persist:function(){},isPersistent:Tl}),e}var Ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},og=cr(Ta),rl=wt({},Ta,{view:0,detail:0}),yk=cr(rl),Gf,qf,Ka,Cd=wt({},rl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sg,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ka&&(Ka&&n.type==="mousemove"?(Gf=n.screenX-Ka.screenX,qf=n.screenY-Ka.screenY):qf=Gf=0,Ka=n),Gf)},movementY:function(n){return"movementY"in n?n.movementY:qf}}),ly=cr(Cd),wk=wt({},Cd,{dataTransfer:0}),vk=cr(wk),_k=wt({},rl,{relatedTarget:0}),Yf=cr(_k),Ek=wt({},Ta,{animationName:0,elapsedTime:0,pseudoElement:0}),bk=cr(Ek),Sk=wt({},Ta,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Rk=cr(Sk),Ak=wt({},Ta,{data:0}),uy=cr(Ak),kk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ik={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tk(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=xk[n])?!!e[n]:!1}function sg(){return Tk}var Ck=wt({},rl,{key:function(n){if(n.key){var e=kk[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=su(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ik[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sg,charCode:function(n){return n.type==="keypress"?su(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?su(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Nk=cr(Ck),Ok=wt({},Cd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dy=cr(Ok),Mk=wt({},rl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sg}),Bk=cr(Mk),Lk=wt({},Ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pk=cr(Lk),Dk=wt({},Cd,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Uk=cr(Dk),zk=[9,13,27,32],ag=Ri&&"CompositionEvent"in window,dc=null;Ri&&"documentMode"in document&&(dc=document.documentMode);var Fk=Ri&&"TextEvent"in window&&!dc,Hv=Ri&&(!ag||dc&&8<dc&&11>=dc),fy=" ",hy=!1;function jv(n,e){switch(n){case"keyup":return zk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kv(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ds=!1;function Wk(n,e){switch(n){case"compositionend":return Kv(e);case"keypress":return e.which!==32?null:(hy=!0,fy);case"textInput":return n=e.data,n===fy&&hy?null:n;default:return null}}function Hk(n,e){if(Ds)return n==="compositionend"||!ag&&jv(n,e)?(n=Wv(),ou=ig=eo=null,Ds=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Hv&&e.locale!=="ko"?null:e.data;default:return null}}var jk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function py(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!jk[n.type]:e==="textarea"}function Vv(n,e,t,r){bv(r),e=Wu(e,"onChange"),0<e.length&&(t=new og("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var fc=null,Mc=null;function Kk(n){n_(n,0)}function Nd(n){var e=Fs(n);if(gv(e))return n}function Vk(n,e){if(n==="change")return e}var $v=!1;if(Ri){var Zf;if(Ri){var Xf="oninput"in document;if(!Xf){var gy=document.createElement("div");gy.setAttribute("oninput","return;"),Xf=typeof gy.oninput=="function"}Zf=Xf}else Zf=!1;$v=Zf&&(!document.documentMode||9<document.documentMode)}function my(){fc&&(fc.detachEvent("onpropertychange",Gv),Mc=fc=null)}function Gv(n){if(n.propertyName==="value"&&Nd(Mc)){var e=[];Vv(e,Mc,n,J0(n)),kv(Kk,e)}}function $k(n,e,t){n==="focusin"?(my(),fc=e,Mc=t,fc.attachEvent("onpropertychange",Gv)):n==="focusout"&&my()}function Gk(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Nd(Mc)}function qk(n,e){if(n==="click")return Nd(e)}function Yk(n,e){if(n==="input"||n==="change")return Nd(e)}function Zk(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Lr=typeof Object.is=="function"?Object.is:Zk;function Bc(n,e){if(Lr(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!op.call(e,i)||!Lr(n[i],e[i]))return!1}return!0}function yy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function wy(n,e){var t=yy(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=yy(t)}}function qv(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?qv(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function Yv(){for(var n=window,e=Bu();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Bu(n.document)}return e}function cg(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function Xk(n){var e=Yv(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&qv(t.ownerDocument.documentElement,t)){if(r!==null&&cg(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!n.extend&&o>r&&(i=r,r=o,o=i),i=wy(t,o);var s=wy(t,r);i&&s&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==s.node||n.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),o>r?(n.addRange(e),n.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Qk=Ri&&"documentMode"in document&&11>=document.documentMode,Us=null,Rp=null,hc=null,Ap=!1;function vy(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Ap||Us==null||Us!==Bu(r)||(r=Us,"selectionStart"in r&&cg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hc&&Bc(hc,r)||(hc=r,r=Wu(Rp,"onSelect"),0<r.length&&(e=new og("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Us)))}function Cl(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var zs={animationend:Cl("Animation","AnimationEnd"),animationiteration:Cl("Animation","AnimationIteration"),animationstart:Cl("Animation","AnimationStart"),transitionend:Cl("Transition","TransitionEnd")},Qf={},Zv={};Ri&&(Zv=document.createElement("div").style,"AnimationEvent"in window||(delete zs.animationend.animation,delete zs.animationiteration.animation,delete zs.animationstart.animation),"TransitionEvent"in window||delete zs.transitionend.transition);function Od(n){if(Qf[n])return Qf[n];if(!zs[n])return n;var e=zs[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in Zv)return Qf[n]=e[t];return n}var Xv=Od("animationend"),Qv=Od("animationiteration"),Jv=Od("animationstart"),e_=Od("transitionend"),t_=new Map,_y="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ro(n,e){t_.set(n,e),fs(e,[n])}for(var Jf=0;Jf<_y.length;Jf++){var eh=_y[Jf],Jk=eh.toLowerCase(),eI=eh[0].toUpperCase()+eh.slice(1);Ro(Jk,"on"+eI)}Ro(Xv,"onAnimationEnd");Ro(Qv,"onAnimationIteration");Ro(Jv,"onAnimationStart");Ro("dblclick","onDoubleClick");Ro("focusin","onFocus");Ro("focusout","onBlur");Ro(e_,"onTransitionEnd");la("onMouseEnter",["mouseout","mouseover"]);la("onMouseLeave",["mouseout","mouseover"]);la("onPointerEnter",["pointerout","pointerover"]);la("onPointerLeave",["pointerout","pointerover"]);fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fs("onBeforeInput",["compositionend","keypress","textInput","paste"]);fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tI=new Set("cancel close invalid load scroll toggle".split(" ").concat(tc));function Ey(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,J2(r,e,void 0,n),n.currentTarget=null}function n_(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==o&&i.isPropagationStopped())break e;Ey(i,a,l),o=c}else for(s=0;s<r.length;s++){if(a=r[s],c=a.instance,l=a.currentTarget,a=a.listener,c!==o&&i.isPropagationStopped())break e;Ey(i,a,l),o=c}}}if(Pu)throw n=_p,Pu=!1,_p=null,n}function rt(n,e){var t=e[Cp];t===void 0&&(t=e[Cp]=new Set);var r=n+"__bubble";t.has(r)||(r_(e,n,2,!1),t.add(r))}function th(n,e,t){var r=0;e&&(r|=4),r_(t,n,r,e)}var Nl="_reactListening"+Math.random().toString(36).slice(2);function Lc(n){if(!n[Nl]){n[Nl]=!0,uv.forEach(function(t){t!=="selectionchange"&&(tI.has(t)||th(t,!1,n),th(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Nl]||(e[Nl]=!0,th("selectionchange",!1,e))}}function r_(n,e,t,r){switch(Fv(e)){case 1:var i=gk;break;case 4:i=mk;break;default:i=rg}t=i.bind(null,e,t,n),i=void 0,!vp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function nh(n,e,t,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;a!==null;){if(s=zo(a),s===null)return;if(c=s.tag,c===5||c===6){r=o=s;continue e}a=a.parentNode}}r=r.return}kv(function(){var l=o,u=J0(t),p=[];e:{var g=t_.get(n);if(g!==void 0){var h=og,w=n;switch(n){case"keypress":if(su(t)===0)break e;case"keydown":case"keyup":h=Nk;break;case"focusin":w="focus",h=Yf;break;case"focusout":w="blur",h=Yf;break;case"beforeblur":case"afterblur":h=Yf;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=ly;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=vk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Bk;break;case Xv:case Qv:case Jv:h=bk;break;case e_:h=Pk;break;case"scroll":h=yk;break;case"wheel":h=Uk;break;case"copy":case"cut":case"paste":h=Rk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=dy}var k=(e&4)!==0,A=!k&&n==="scroll",E=k?g!==null?g+"Capture":null:g;k=[];for(var b=l,_;b!==null;){_=b;var x=_.stateNode;if(_.tag===5&&x!==null&&(_=x,E!==null&&(x=Tc(b,E),x!=null&&k.push(Pc(b,x,_)))),A)break;b=b.return}0<k.length&&(g=new h(g,w,null,t,u),p.push({event:g,listeners:k}))}}if(!(e&7)){e:{if(g=n==="mouseover"||n==="pointerover",h=n==="mouseout"||n==="pointerout",g&&t!==yp&&(w=t.relatedTarget||t.fromElement)&&(zo(w)||w[Ai]))break e;if((h||g)&&(g=u.window===u?u:(g=u.ownerDocument)?g.defaultView||g.parentWindow:window,h?(w=t.relatedTarget||t.toElement,h=l,w=w?zo(w):null,w!==null&&(A=hs(w),w!==A||w.tag!==5&&w.tag!==6)&&(w=null)):(h=null,w=l),h!==w)){if(k=ly,x="onMouseLeave",E="onMouseEnter",b="mouse",(n==="pointerout"||n==="pointerover")&&(k=dy,x="onPointerLeave",E="onPointerEnter",b="pointer"),A=h==null?g:Fs(h),_=w==null?g:Fs(w),g=new k(x,b+"leave",h,t,u),g.target=A,g.relatedTarget=_,x=null,zo(u)===l&&(k=new k(E,b+"enter",w,t,u),k.target=_,k.relatedTarget=A,x=k),A=x,h&&w)t:{for(k=h,E=w,b=0,_=k;_;_=Es(_))b++;for(_=0,x=E;x;x=Es(x))_++;for(;0<b-_;)k=Es(k),b--;for(;0<_-b;)E=Es(E),_--;for(;b--;){if(k===E||E!==null&&k===E.alternate)break t;k=Es(k),E=Es(E)}k=null}else k=null;h!==null&&by(p,g,h,k,!1),w!==null&&A!==null&&by(p,A,w,k,!0)}}e:{if(g=l?Fs(l):window,h=g.nodeName&&g.nodeName.toLowerCase(),h==="select"||h==="input"&&g.type==="file")var L=Vk;else if(py(g))if($v)L=Yk;else{L=Gk;var U=$k}else(h=g.nodeName)&&h.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(L=qk);if(L&&(L=L(n,l))){Vv(p,L,t,u);break e}U&&U(n,g,l),n==="focusout"&&(U=g._wrapperState)&&U.controlled&&g.type==="number"&&fp(g,"number",g.value)}switch(U=l?Fs(l):window,n){case"focusin":(py(U)||U.contentEditable==="true")&&(Us=U,Rp=l,hc=null);break;case"focusout":hc=Rp=Us=null;break;case"mousedown":Ap=!0;break;case"contextmenu":case"mouseup":case"dragend":Ap=!1,vy(p,t,u);break;case"selectionchange":if(Qk)break;case"keydown":case"keyup":vy(p,t,u)}var D;if(ag)e:{switch(n){case"compositionstart":var W="onCompositionStart";break e;case"compositionend":W="onCompositionEnd";break e;case"compositionupdate":W="onCompositionUpdate";break e}W=void 0}else Ds?jv(n,t)&&(W="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(W="onCompositionStart");W&&(Hv&&t.locale!=="ko"&&(Ds||W!=="onCompositionStart"?W==="onCompositionEnd"&&Ds&&(D=Wv()):(eo=u,ig="value"in eo?eo.value:eo.textContent,Ds=!0)),U=Wu(l,W),0<U.length&&(W=new uy(W,n,null,t,u),p.push({event:W,listeners:U}),D?W.data=D:(D=Kv(t),D!==null&&(W.data=D)))),(D=Fk?Wk(n,t):Hk(n,t))&&(l=Wu(l,"onBeforeInput"),0<l.length&&(u=new uy("onBeforeInput","beforeinput",null,t,u),p.push({event:u,listeners:l}),u.data=D))}n_(p,e)})}function Pc(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Wu(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Tc(n,t),o!=null&&r.unshift(Pc(n,o,i)),o=Tc(n,e),o!=null&&r.push(Pc(n,o,i))),n=n.return}return r}function Es(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function by(n,e,t,r,i){for(var o=e._reactName,s=[];t!==null&&t!==r;){var a=t,c=a.alternate,l=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&l!==null&&(a=l,i?(c=Tc(t,o),c!=null&&s.unshift(Pc(t,c,a))):i||(c=Tc(t,o),c!=null&&s.push(Pc(t,c,a)))),t=t.return}s.length!==0&&n.push({event:e,listeners:s})}var nI=/\r\n?/g,rI=/\u0000|\uFFFD/g;function Sy(n){return(typeof n=="string"?n:""+n).replace(nI,`
`).replace(rI,"")}function Ol(n,e,t){if(e=Sy(e),Sy(n)!==e&&t)throw Error(ie(425))}function Hu(){}var kp=null,Ip=null;function xp(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Tp=typeof setTimeout=="function"?setTimeout:void 0,iI=typeof clearTimeout=="function"?clearTimeout:void 0,Ry=typeof Promise=="function"?Promise:void 0,oI=typeof queueMicrotask=="function"?queueMicrotask:typeof Ry<"u"?function(n){return Ry.resolve(null).then(n).catch(sI)}:Tp;function sI(n){setTimeout(function(){throw n})}function rh(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),Oc(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);Oc(e)}function uo(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function Ay(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Ca=Math.random().toString(36).slice(2),jr="__reactFiber$"+Ca,Dc="__reactProps$"+Ca,Ai="__reactContainer$"+Ca,Cp="__reactEvents$"+Ca,aI="__reactListeners$"+Ca,cI="__reactHandles$"+Ca;function zo(n){var e=n[jr];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Ai]||t[jr]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=Ay(n);n!==null;){if(t=n[jr])return t;n=Ay(n)}return e}n=t,t=n.parentNode}return null}function il(n){return n=n[jr]||n[Ai],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Fs(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(ie(33))}function Md(n){return n[Dc]||null}var Np=[],Ws=-1;function Ao(n){return{current:n}}function it(n){0>Ws||(n.current=Np[Ws],Np[Ws]=null,Ws--)}function et(n,e){Ws++,Np[Ws]=n.current,n.current=e}var _o={},xn=Ao(_o),$n=Ao(!1),rs=_o;function ua(n,e){var t=n.type.contextTypes;if(!t)return _o;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in t)i[o]=e[o];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Gn(n){return n=n.childContextTypes,n!=null}function ju(){it($n),it(xn)}function ky(n,e,t){if(xn.current!==_o)throw Error(ie(168));et(xn,e),et($n,t)}function i_(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ie(108,$2(n)||"Unknown",i));return wt({},t,r)}function Ku(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||_o,rs=xn.current,et(xn,n),et($n,$n.current),!0}function Iy(n,e,t){var r=n.stateNode;if(!r)throw Error(ie(169));t?(n=i_(n,e,rs),r.__reactInternalMemoizedMergedChildContext=n,it($n),it(xn),et(xn,n)):it($n),et($n,t)}var di=null,Bd=!1,ih=!1;function o_(n){di===null?di=[n]:di.push(n)}function lI(n){Bd=!0,o_(n)}function ko(){if(!ih&&di!==null){ih=!0;var n=0,e=Ke;try{var t=di;for(Ke=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}di=null,Bd=!1}catch(i){throw di!==null&&(di=di.slice(n+1)),Cv(eg,ko),i}finally{Ke=e,ih=!1}}return null}var Hs=[],js=0,Vu=null,$u=0,pr=[],gr=0,is=null,vi=1,_i="";function Co(n,e){Hs[js++]=$u,Hs[js++]=Vu,Vu=n,$u=e}function s_(n,e,t){pr[gr++]=vi,pr[gr++]=_i,pr[gr++]=is,is=n;var r=vi;n=_i;var i=32-Or(r)-1;r&=~(1<<i),t+=1;var o=32-Or(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,vi=1<<32-Or(e)+i|t<<i|r,_i=o+n}else vi=1<<o|t<<i|r,_i=n}function lg(n){n.return!==null&&(Co(n,1),s_(n,1,0))}function ug(n){for(;n===Vu;)Vu=Hs[--js],Hs[js]=null,$u=Hs[--js],Hs[js]=null;for(;n===is;)is=pr[--gr],pr[gr]=null,_i=pr[--gr],pr[gr]=null,vi=pr[--gr],pr[gr]=null}var ir=null,rr=null,lt=!1,xr=null;function a_(n,e){var t=mr(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function xy(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,ir=n,rr=uo(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,ir=n,rr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=is!==null?{id:vi,overflow:_i}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=mr(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,ir=n,rr=null,!0):!1;default:return!1}}function Op(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Mp(n){if(lt){var e=rr;if(e){var t=e;if(!xy(n,e)){if(Op(n))throw Error(ie(418));e=uo(t.nextSibling);var r=ir;e&&xy(n,e)?a_(r,t):(n.flags=n.flags&-4097|2,lt=!1,ir=n)}}else{if(Op(n))throw Error(ie(418));n.flags=n.flags&-4097|2,lt=!1,ir=n}}}function Ty(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;ir=n}function Ml(n){if(n!==ir)return!1;if(!lt)return Ty(n),lt=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!xp(n.type,n.memoizedProps)),e&&(e=rr)){if(Op(n))throw c_(),Error(ie(418));for(;e;)a_(n,e),e=uo(e.nextSibling)}if(Ty(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(ie(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){rr=uo(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}rr=null}}else rr=ir?uo(n.stateNode.nextSibling):null;return!0}function c_(){for(var n=rr;n;)n=uo(n.nextSibling)}function da(){rr=ir=null,lt=!1}function dg(n){xr===null?xr=[n]:xr.push(n)}var uI=Mi.ReactCurrentBatchConfig;function Va(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(ie(309));var r=t.stateNode}if(!r)throw Error(ie(147,n));var i=r,o=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof n!="string")throw Error(ie(284));if(!t._owner)throw Error(ie(290,n))}return n}function Bl(n,e){throw n=Object.prototype.toString.call(e),Error(ie(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function Cy(n){var e=n._init;return e(n._payload)}function l_(n){function e(E,b){if(n){var _=E.deletions;_===null?(E.deletions=[b],E.flags|=16):_.push(b)}}function t(E,b){if(!n)return null;for(;b!==null;)e(E,b),b=b.sibling;return null}function r(E,b){for(E=new Map;b!==null;)b.key!==null?E.set(b.key,b):E.set(b.index,b),b=b.sibling;return E}function i(E,b){return E=go(E,b),E.index=0,E.sibling=null,E}function o(E,b,_){return E.index=_,n?(_=E.alternate,_!==null?(_=_.index,_<b?(E.flags|=2,b):_):(E.flags|=2,b)):(E.flags|=1048576,b)}function s(E){return n&&E.alternate===null&&(E.flags|=2),E}function a(E,b,_,x){return b===null||b.tag!==6?(b=dh(_,E.mode,x),b.return=E,b):(b=i(b,_),b.return=E,b)}function c(E,b,_,x){var L=_.type;return L===Ps?u(E,b,_.props.children,x,_.key):b!==null&&(b.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===$i&&Cy(L)===b.type)?(x=i(b,_.props),x.ref=Va(E,b,_),x.return=E,x):(x=hu(_.type,_.key,_.props,null,E.mode,x),x.ref=Va(E,b,_),x.return=E,x)}function l(E,b,_,x){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=fh(_,E.mode,x),b.return=E,b):(b=i(b,_.children||[]),b.return=E,b)}function u(E,b,_,x,L){return b===null||b.tag!==7?(b=es(_,E.mode,x,L),b.return=E,b):(b=i(b,_),b.return=E,b)}function p(E,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return b=dh(""+b,E.mode,_),b.return=E,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Sl:return _=hu(b.type,b.key,b.props,null,E.mode,_),_.ref=Va(E,null,b),_.return=E,_;case Ls:return b=fh(b,E.mode,_),b.return=E,b;case $i:var x=b._init;return p(E,x(b._payload),_)}if(Ja(b)||Fa(b))return b=es(b,E.mode,_,null),b.return=E,b;Bl(E,b)}return null}function g(E,b,_,x){var L=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return L!==null?null:a(E,b,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Sl:return _.key===L?c(E,b,_,x):null;case Ls:return _.key===L?l(E,b,_,x):null;case $i:return L=_._init,g(E,b,L(_._payload),x)}if(Ja(_)||Fa(_))return L!==null?null:u(E,b,_,x,null);Bl(E,_)}return null}function h(E,b,_,x,L){if(typeof x=="string"&&x!==""||typeof x=="number")return E=E.get(_)||null,a(b,E,""+x,L);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Sl:return E=E.get(x.key===null?_:x.key)||null,c(b,E,x,L);case Ls:return E=E.get(x.key===null?_:x.key)||null,l(b,E,x,L);case $i:var U=x._init;return h(E,b,_,U(x._payload),L)}if(Ja(x)||Fa(x))return E=E.get(_)||null,u(b,E,x,L,null);Bl(b,x)}return null}function w(E,b,_,x){for(var L=null,U=null,D=b,W=b=0,z=null;D!==null&&W<_.length;W++){D.index>W?(z=D,D=null):z=D.sibling;var H=g(E,D,_[W],x);if(H===null){D===null&&(D=z);break}n&&D&&H.alternate===null&&e(E,D),b=o(H,b,W),U===null?L=H:U.sibling=H,U=H,D=z}if(W===_.length)return t(E,D),lt&&Co(E,W),L;if(D===null){for(;W<_.length;W++)D=p(E,_[W],x),D!==null&&(b=o(D,b,W),U===null?L=D:U.sibling=D,U=D);return lt&&Co(E,W),L}for(D=r(E,D);W<_.length;W++)z=h(D,E,W,_[W],x),z!==null&&(n&&z.alternate!==null&&D.delete(z.key===null?W:z.key),b=o(z,b,W),U===null?L=z:U.sibling=z,U=z);return n&&D.forEach(function(q){return e(E,q)}),lt&&Co(E,W),L}function k(E,b,_,x){var L=Fa(_);if(typeof L!="function")throw Error(ie(150));if(_=L.call(_),_==null)throw Error(ie(151));for(var U=L=null,D=b,W=b=0,z=null,H=_.next();D!==null&&!H.done;W++,H=_.next()){D.index>W?(z=D,D=null):z=D.sibling;var q=g(E,D,H.value,x);if(q===null){D===null&&(D=z);break}n&&D&&q.alternate===null&&e(E,D),b=o(q,b,W),U===null?L=q:U.sibling=q,U=q,D=z}if(H.done)return t(E,D),lt&&Co(E,W),L;if(D===null){for(;!H.done;W++,H=_.next())H=p(E,H.value,x),H!==null&&(b=o(H,b,W),U===null?L=H:U.sibling=H,U=H);return lt&&Co(E,W),L}for(D=r(E,D);!H.done;W++,H=_.next())H=h(D,E,W,H.value,x),H!==null&&(n&&H.alternate!==null&&D.delete(H.key===null?W:H.key),b=o(H,b,W),U===null?L=H:U.sibling=H,U=H);return n&&D.forEach(function($){return e(E,$)}),lt&&Co(E,W),L}function A(E,b,_,x){if(typeof _=="object"&&_!==null&&_.type===Ps&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Sl:e:{for(var L=_.key,U=b;U!==null;){if(U.key===L){if(L=_.type,L===Ps){if(U.tag===7){t(E,U.sibling),b=i(U,_.props.children),b.return=E,E=b;break e}}else if(U.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===$i&&Cy(L)===U.type){t(E,U.sibling),b=i(U,_.props),b.ref=Va(E,U,_),b.return=E,E=b;break e}t(E,U);break}else e(E,U);U=U.sibling}_.type===Ps?(b=es(_.props.children,E.mode,x,_.key),b.return=E,E=b):(x=hu(_.type,_.key,_.props,null,E.mode,x),x.ref=Va(E,b,_),x.return=E,E=x)}return s(E);case Ls:e:{for(U=_.key;b!==null;){if(b.key===U)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){t(E,b.sibling),b=i(b,_.children||[]),b.return=E,E=b;break e}else{t(E,b);break}else e(E,b);b=b.sibling}b=fh(_,E.mode,x),b.return=E,E=b}return s(E);case $i:return U=_._init,A(E,b,U(_._payload),x)}if(Ja(_))return w(E,b,_,x);if(Fa(_))return k(E,b,_,x);Bl(E,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,b!==null&&b.tag===6?(t(E,b.sibling),b=i(b,_),b.return=E,E=b):(t(E,b),b=dh(_,E.mode,x),b.return=E,E=b),s(E)):t(E,b)}return A}var fa=l_(!0),u_=l_(!1),Gu=Ao(null),qu=null,Ks=null,fg=null;function hg(){fg=Ks=qu=null}function pg(n){var e=Gu.current;it(Gu),n._currentValue=e}function Bp(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function ta(n,e){qu=n,fg=Ks=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(jn=!0),n.firstContext=null)}function vr(n){var e=n._currentValue;if(fg!==n)if(n={context:n,memoizedValue:e,next:null},Ks===null){if(qu===null)throw Error(ie(308));Ks=n,qu.dependencies={lanes:0,firstContext:n}}else Ks=Ks.next=n;return e}var Fo=null;function gg(n){Fo===null?Fo=[n]:Fo.push(n)}function d_(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,gg(e)):(t.next=i.next,i.next=t),e.interleaved=t,ki(n,r)}function ki(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Gi=!1;function mg(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function f_(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Si(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function fo(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,De&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ki(n,t)}return i=r.interleaved,i===null?(e.next=e,gg(r)):(e.next=i.next,i.next=e),r.interleaved=e,ki(n,t)}function au(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,tg(n,t)}}function Ny(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,o=null;if(t=t.firstBaseUpdate,t!==null){do{var s={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};o===null?i=o=s:o=o.next=s,t=t.next}while(t!==null);o===null?i=o=e:o=o.next=e}else i=o=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Yu(n,e,t,r){var i=n.updateQueue;Gi=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,l=c.next;c.next=null,s===null?o=l:s.next=l,s=c;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(o!==null){var p=i.baseState;s=0,u=l=c=null,a=o;do{var g=a.lane,h=a.eventTime;if((r&g)===g){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=n,k=a;switch(g=e,h=t,k.tag){case 1:if(w=k.payload,typeof w=="function"){p=w.call(h,p,g);break e}p=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=k.payload,g=typeof w=="function"?w.call(h,p,g):w,g==null)break e;p=wt({},p,g);break e;case 2:Gi=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,g=i.effects,g===null?i.effects=[a]:g.push(a))}else h={eventTime:h,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=h,c=p):u=u.next=h,s|=g;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;g=a,a=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(u===null&&(c=p),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);ss|=s,n.lanes=s,n.memoizedState=p}}function Oy(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(ie(191,i));i.call(r)}}}var ol={},Zr=Ao(ol),Uc=Ao(ol),zc=Ao(ol);function Wo(n){if(n===ol)throw Error(ie(174));return n}function yg(n,e){switch(et(zc,e),et(Uc,n),et(Zr,ol),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pp(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=pp(e,n)}it(Zr),et(Zr,e)}function ha(){it(Zr),it(Uc),it(zc)}function h_(n){Wo(zc.current);var e=Wo(Zr.current),t=pp(e,n.type);e!==t&&(et(Uc,n),et(Zr,t))}function wg(n){Uc.current===n&&(it(Zr),it(Uc))}var gt=Ao(0);function Zu(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var oh=[];function vg(){for(var n=0;n<oh.length;n++)oh[n]._workInProgressVersionPrimary=null;oh.length=0}var cu=Mi.ReactCurrentDispatcher,sh=Mi.ReactCurrentBatchConfig,os=0,yt=null,en=null,cn=null,Xu=!1,pc=!1,Fc=0,dI=0;function vn(){throw Error(ie(321))}function _g(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Lr(n[t],e[t]))return!1;return!0}function Eg(n,e,t,r,i,o){if(os=o,yt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,cu.current=n===null||n.memoizedState===null?gI:mI,n=t(r,i),pc){o=0;do{if(pc=!1,Fc=0,25<=o)throw Error(ie(301));o+=1,cn=en=null,e.updateQueue=null,cu.current=yI,n=t(r,i)}while(pc)}if(cu.current=Qu,e=en!==null&&en.next!==null,os=0,cn=en=yt=null,Xu=!1,e)throw Error(ie(300));return n}function bg(){var n=Fc!==0;return Fc=0,n}function Wr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?yt.memoizedState=cn=n:cn=cn.next=n,cn}function _r(){if(en===null){var n=yt.alternate;n=n!==null?n.memoizedState:null}else n=en.next;var e=cn===null?yt.memoizedState:cn.next;if(e!==null)cn=e,en=n;else{if(n===null)throw Error(ie(310));en=n,n={memoizedState:en.memoizedState,baseState:en.baseState,baseQueue:en.baseQueue,queue:en.queue,next:null},cn===null?yt.memoizedState=cn=n:cn=cn.next=n}return cn}function Wc(n,e){return typeof e=="function"?e(n):e}function ah(n){var e=_r(),t=e.queue;if(t===null)throw Error(ie(311));t.lastRenderedReducer=n;var r=en,i=r.baseQueue,o=t.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,t.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,c=null,l=o;do{var u=l.lane;if((os&u)===u)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:n(r,l.action);else{var p={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(a=c=p,s=r):c=c.next=p,yt.lanes|=u,ss|=u}l=l.next}while(l!==null&&l!==o);c===null?s=r:c.next=a,Lr(r,e.memoizedState)||(jn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=c,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do o=i.lane,yt.lanes|=o,ss|=o,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function ch(n){var e=_r(),t=e.queue;if(t===null)throw Error(ie(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,o=e.memoizedState;if(i!==null){t.pending=null;var s=i=i.next;do o=n(o,s.action),s=s.next;while(s!==i);Lr(o,e.memoizedState)||(jn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),t.lastRenderedState=o}return[o,r]}function p_(){}function g_(n,e){var t=yt,r=_r(),i=e(),o=!Lr(r.memoizedState,i);if(o&&(r.memoizedState=i,jn=!0),r=r.queue,Sg(w_.bind(null,t,r,n),[n]),r.getSnapshot!==e||o||cn!==null&&cn.memoizedState.tag&1){if(t.flags|=2048,Hc(9,y_.bind(null,t,r,i,e),void 0,null),ln===null)throw Error(ie(349));os&30||m_(t,e,i)}return i}function m_(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=yt.updateQueue,e===null?(e={lastEffect:null,stores:null},yt.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function y_(n,e,t,r){e.value=t,e.getSnapshot=r,v_(e)&&__(n)}function w_(n,e,t){return t(function(){v_(e)&&__(n)})}function v_(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Lr(n,t)}catch{return!0}}function __(n){var e=ki(n,1);e!==null&&Mr(e,n,1,-1)}function My(n){var e=Wr();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wc,lastRenderedState:n},e.queue=n,n=n.dispatch=pI.bind(null,yt,n),[e.memoizedState,n]}function Hc(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=yt.updateQueue,e===null?(e={lastEffect:null,stores:null},yt.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function E_(){return _r().memoizedState}function lu(n,e,t,r){var i=Wr();yt.flags|=n,i.memoizedState=Hc(1|e,t,void 0,r===void 0?null:r)}function Ld(n,e,t,r){var i=_r();r=r===void 0?null:r;var o=void 0;if(en!==null){var s=en.memoizedState;if(o=s.destroy,r!==null&&_g(r,s.deps)){i.memoizedState=Hc(e,t,o,r);return}}yt.flags|=n,i.memoizedState=Hc(1|e,t,o,r)}function By(n,e){return lu(8390656,8,n,e)}function Sg(n,e){return Ld(2048,8,n,e)}function b_(n,e){return Ld(4,2,n,e)}function S_(n,e){return Ld(4,4,n,e)}function R_(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function A_(n,e,t){return t=t!=null?t.concat([n]):null,Ld(4,4,R_.bind(null,e,n),t)}function Rg(){}function k_(n,e){var t=_r();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&_g(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function I_(n,e){var t=_r();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&_g(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function x_(n,e,t){return os&21?(Lr(t,e)||(t=Mv(),yt.lanes|=t,ss|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,jn=!0),n.memoizedState=t)}function fI(n,e){var t=Ke;Ke=t!==0&&4>t?t:4,n(!0);var r=sh.transition;sh.transition={};try{n(!1),e()}finally{Ke=t,sh.transition=r}}function T_(){return _r().memoizedState}function hI(n,e,t){var r=po(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},C_(n))N_(e,t);else if(t=d_(n,e,t,r),t!==null){var i=On();Mr(t,n,r,i),O_(t,e,r)}}function pI(n,e,t){var r=po(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(C_(n))N_(e,i);else{var o=n.alternate;if(n.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,t);if(i.hasEagerState=!0,i.eagerState=a,Lr(a,s)){var c=e.interleaved;c===null?(i.next=i,gg(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}t=d_(n,e,i,r),t!==null&&(i=On(),Mr(t,n,r,i),O_(t,e,r))}}function C_(n){var e=n.alternate;return n===yt||e!==null&&e===yt}function N_(n,e){pc=Xu=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function O_(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,tg(n,t)}}var Qu={readContext:vr,useCallback:vn,useContext:vn,useEffect:vn,useImperativeHandle:vn,useInsertionEffect:vn,useLayoutEffect:vn,useMemo:vn,useReducer:vn,useRef:vn,useState:vn,useDebugValue:vn,useDeferredValue:vn,useTransition:vn,useMutableSource:vn,useSyncExternalStore:vn,useId:vn,unstable_isNewReconciler:!1},gI={readContext:vr,useCallback:function(n,e){return Wr().memoizedState=[n,e===void 0?null:e],n},useContext:vr,useEffect:By,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,lu(4194308,4,R_.bind(null,e,n),t)},useLayoutEffect:function(n,e){return lu(4194308,4,n,e)},useInsertionEffect:function(n,e){return lu(4,2,n,e)},useMemo:function(n,e){var t=Wr();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Wr();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=hI.bind(null,yt,n),[r.memoizedState,n]},useRef:function(n){var e=Wr();return n={current:n},e.memoizedState=n},useState:My,useDebugValue:Rg,useDeferredValue:function(n){return Wr().memoizedState=n},useTransition:function(){var n=My(!1),e=n[0];return n=fI.bind(null,n[1]),Wr().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=yt,i=Wr();if(lt){if(t===void 0)throw Error(ie(407));t=t()}else{if(t=e(),ln===null)throw Error(ie(349));os&30||m_(r,e,t)}i.memoizedState=t;var o={value:t,getSnapshot:e};return i.queue=o,By(w_.bind(null,r,o,n),[n]),r.flags|=2048,Hc(9,y_.bind(null,r,o,t,e),void 0,null),t},useId:function(){var n=Wr(),e=ln.identifierPrefix;if(lt){var t=_i,r=vi;t=(r&~(1<<32-Or(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Fc++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=dI++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},mI={readContext:vr,useCallback:k_,useContext:vr,useEffect:Sg,useImperativeHandle:A_,useInsertionEffect:b_,useLayoutEffect:S_,useMemo:I_,useReducer:ah,useRef:E_,useState:function(){return ah(Wc)},useDebugValue:Rg,useDeferredValue:function(n){var e=_r();return x_(e,en.memoizedState,n)},useTransition:function(){var n=ah(Wc)[0],e=_r().memoizedState;return[n,e]},useMutableSource:p_,useSyncExternalStore:g_,useId:T_,unstable_isNewReconciler:!1},yI={readContext:vr,useCallback:k_,useContext:vr,useEffect:Sg,useImperativeHandle:A_,useInsertionEffect:b_,useLayoutEffect:S_,useMemo:I_,useReducer:ch,useRef:E_,useState:function(){return ch(Wc)},useDebugValue:Rg,useDeferredValue:function(n){var e=_r();return en===null?e.memoizedState=n:x_(e,en.memoizedState,n)},useTransition:function(){var n=ch(Wc)[0],e=_r().memoizedState;return[n,e]},useMutableSource:p_,useSyncExternalStore:g_,useId:T_,unstable_isNewReconciler:!1};function Ar(n,e){if(n&&n.defaultProps){e=wt({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function Lp(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:wt({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Pd={isMounted:function(n){return(n=n._reactInternals)?hs(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=On(),i=po(n),o=Si(r,i);o.payload=e,t!=null&&(o.callback=t),e=fo(n,o,i),e!==null&&(Mr(e,n,i,r),au(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=On(),i=po(n),o=Si(r,i);o.tag=1,o.payload=e,t!=null&&(o.callback=t),e=fo(n,o,i),e!==null&&(Mr(e,n,i,r),au(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=On(),r=po(n),i=Si(t,r);i.tag=2,e!=null&&(i.callback=e),e=fo(n,i,r),e!==null&&(Mr(e,n,r,t),au(e,n,r))}};function Ly(n,e,t,r,i,o,s){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Bc(t,r)||!Bc(i,o):!0}function M_(n,e,t){var r=!1,i=_o,o=e.contextType;return typeof o=="object"&&o!==null?o=vr(o):(i=Gn(e)?rs:xn.current,r=e.contextTypes,o=(r=r!=null)?ua(n,i):_o),e=new e(t,o),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Pd,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=o),e}function Py(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&Pd.enqueueReplaceState(e,e.state,null)}function Pp(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},mg(n);var o=e.contextType;typeof o=="object"&&o!==null?i.context=vr(o):(o=Gn(e)?rs:xn.current,i.context=ua(n,o)),i.state=n.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Lp(n,e,o,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Pd.enqueueReplaceState(i,i.state,null),Yu(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function pa(n,e){try{var t="",r=e;do t+=V2(r),r=r.return;while(r);var i=t}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:n,source:e,stack:i,digest:null}}function lh(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function Dp(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var wI=typeof WeakMap=="function"?WeakMap:Map;function B_(n,e,t){t=Si(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){ed||(ed=!0,Gp=r),Dp(n,e)},t}function L_(n,e,t){t=Si(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){Dp(n,e)}}var o=n.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){Dp(n,e),typeof r!="function"&&(ho===null?ho=new Set([this]):ho.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),t}function Dy(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new wI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=OI.bind(null,n,e,t),e.then(n,n))}function Uy(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function zy(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Si(-1,1),e.tag=2,fo(t,e,1))),t.lanes|=1),n)}var vI=Mi.ReactCurrentOwner,jn=!1;function Cn(n,e,t,r){e.child=n===null?u_(e,null,t,r):fa(e,n.child,t,r)}function Fy(n,e,t,r,i){t=t.render;var o=e.ref;return ta(e,i),r=Eg(n,e,t,r,o,i),t=bg(),n!==null&&!jn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Ii(n,e,i)):(lt&&t&&lg(e),e.flags|=1,Cn(n,e,r,i),e.child)}function Wy(n,e,t,r,i){if(n===null){var o=t.type;return typeof o=="function"&&!Og(o)&&o.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=o,P_(n,e,o,r,i)):(n=hu(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(o=n.child,!(n.lanes&i)){var s=o.memoizedProps;if(t=t.compare,t=t!==null?t:Bc,t(s,r)&&n.ref===e.ref)return Ii(n,e,i)}return e.flags|=1,n=go(o,r),n.ref=e.ref,n.return=e,e.child=n}function P_(n,e,t,r,i){if(n!==null){var o=n.memoizedProps;if(Bc(o,r)&&n.ref===e.ref)if(jn=!1,e.pendingProps=r=o,(n.lanes&i)!==0)n.flags&131072&&(jn=!0);else return e.lanes=n.lanes,Ii(n,e,i)}return Up(n,e,t,r,i)}function D_(n,e,t){var r=e.pendingProps,i=r.children,o=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},et($s,Jn),Jn|=t;else{if(!(t&1073741824))return n=o!==null?o.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,et($s,Jn),Jn|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:t,et($s,Jn),Jn|=r}else o!==null?(r=o.baseLanes|t,e.memoizedState=null):r=t,et($s,Jn),Jn|=r;return Cn(n,e,i,t),e.child}function U_(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Up(n,e,t,r,i){var o=Gn(t)?rs:xn.current;return o=ua(e,o),ta(e,i),t=Eg(n,e,t,r,o,i),r=bg(),n!==null&&!jn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Ii(n,e,i)):(lt&&r&&lg(e),e.flags|=1,Cn(n,e,t,i),e.child)}function Hy(n,e,t,r,i){if(Gn(t)){var o=!0;Ku(e)}else o=!1;if(ta(e,i),e.stateNode===null)uu(n,e),M_(e,t,r),Pp(e,t,r,i),r=!0;else if(n===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var c=s.context,l=t.contextType;typeof l=="object"&&l!==null?l=vr(l):(l=Gn(t)?rs:xn.current,l=ua(e,l));var u=t.getDerivedStateFromProps,p=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||c!==l)&&Py(e,s,r,l),Gi=!1;var g=e.memoizedState;s.state=g,Yu(e,r,s,i),c=e.memoizedState,a!==r||g!==c||$n.current||Gi?(typeof u=="function"&&(Lp(e,t,u,r),c=e.memoizedState),(a=Gi||Ly(e,t,a,r,g,c,l))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),s.props=r,s.state=c,s.context=l,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,f_(n,e),a=e.memoizedProps,l=e.type===e.elementType?a:Ar(e.type,a),s.props=l,p=e.pendingProps,g=s.context,c=t.contextType,typeof c=="object"&&c!==null?c=vr(c):(c=Gn(t)?rs:xn.current,c=ua(e,c));var h=t.getDerivedStateFromProps;(u=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==p||g!==c)&&Py(e,s,r,c),Gi=!1,g=e.memoizedState,s.state=g,Yu(e,r,s,i);var w=e.memoizedState;a!==p||g!==w||$n.current||Gi?(typeof h=="function"&&(Lp(e,t,h,r),w=e.memoizedState),(l=Gi||Ly(e,t,l,r,g,w,c)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,w,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,w,c)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===n.memoizedProps&&g===n.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&g===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),s.props=r,s.state=w,s.context=c,r=l):(typeof s.componentDidUpdate!="function"||a===n.memoizedProps&&g===n.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&g===n.memoizedState||(e.flags|=1024),r=!1)}return zp(n,e,t,r,o,i)}function zp(n,e,t,r,i,o){U_(n,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Iy(e,t,!1),Ii(n,e,o);r=e.stateNode,vI.current=e;var a=s&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&s?(e.child=fa(e,n.child,null,o),e.child=fa(e,null,a,o)):Cn(n,e,a,o),e.memoizedState=r.state,i&&Iy(e,t,!0),e.child}function z_(n){var e=n.stateNode;e.pendingContext?ky(n,e.pendingContext,e.pendingContext!==e.context):e.context&&ky(n,e.context,!1),yg(n,e.containerInfo)}function jy(n,e,t,r,i){return da(),dg(i),e.flags|=256,Cn(n,e,t,r),e.child}var Fp={dehydrated:null,treeContext:null,retryLane:0};function Wp(n){return{baseLanes:n,cachePool:null,transitions:null}}function F_(n,e,t){var r=e.pendingProps,i=gt.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),et(gt,i&1),n===null)return Mp(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,n=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=zd(s,r,0,null),n=es(n,r,t,null),o.return=e,n.return=e,o.sibling=n,e.child=o,e.child.memoizedState=Wp(t),e.memoizedState=Fp,n):Ag(e,s));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return _I(n,e,s,r,a,i,t);if(o){o=r.fallback,s=e.mode,i=n.child,a=i.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=go(i,c),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=go(a,o):(o=es(o,s,t,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=n.child.memoizedState,s=s===null?Wp(t):{baseLanes:s.baseLanes|t,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=n.childLanes&~t,e.memoizedState=Fp,r}return o=n.child,n=o.sibling,r=go(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function Ag(n,e){return e=zd({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Ll(n,e,t,r){return r!==null&&dg(r),fa(e,n.child,null,t),n=Ag(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function _I(n,e,t,r,i,o,s){if(t)return e.flags&256?(e.flags&=-257,r=lh(Error(ie(422))),Ll(n,e,s,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=zd({mode:"visible",children:r.children},i,0,null),o=es(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&fa(e,n.child,null,s),e.child.memoizedState=Wp(s),e.memoizedState=Fp,o);if(!(e.mode&1))return Ll(n,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ie(419)),r=lh(o,r,void 0),Ll(n,e,s,r)}if(a=(s&n.childLanes)!==0,jn||a){if(r=ln,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ki(n,i),Mr(r,n,i,-1))}return Ng(),r=lh(Error(ie(421))),Ll(n,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=MI.bind(null,n),i._reactRetry=e,null):(n=o.treeContext,rr=uo(i.nextSibling),ir=e,lt=!0,xr=null,n!==null&&(pr[gr++]=vi,pr[gr++]=_i,pr[gr++]=is,vi=n.id,_i=n.overflow,is=e),e=Ag(e,r.children),e.flags|=4096,e)}function Ky(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),Bp(n.return,e,t)}function uh(n,e,t,r,i){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=t,o.tailMode=i)}function W_(n,e,t){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Cn(n,e,r.children,t),r=gt.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Ky(n,t,e);else if(n.tag===19)Ky(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(et(gt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&Zu(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),uh(e,!1,i,t,o);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&Zu(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}uh(e,!0,t,null,o);break;case"together":uh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function uu(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Ii(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),ss|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(ie(153));if(e.child!==null){for(n=e.child,t=go(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=go(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function EI(n,e,t){switch(e.tag){case 3:z_(e),da();break;case 5:h_(e);break;case 1:Gn(e.type)&&Ku(e);break;case 4:yg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;et(Gu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(et(gt,gt.current&1),e.flags|=128,null):t&e.child.childLanes?F_(n,e,t):(et(gt,gt.current&1),n=Ii(n,e,t),n!==null?n.sibling:null);et(gt,gt.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return W_(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),et(gt,gt.current),r)break;return null;case 22:case 23:return e.lanes=0,D_(n,e,t)}return Ii(n,e,t)}var H_,Hp,j_,K_;H_=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Hp=function(){};j_=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Wo(Zr.current);var o=null;switch(t){case"input":i=up(n,i),r=up(n,r),o=[];break;case"select":i=wt({},i,{value:void 0}),r=wt({},r,{value:void 0}),o=[];break;case"textarea":i=hp(n,i),r=hp(n,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Hu)}gp(t,r);var s;t=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(s in a)a.hasOwnProperty(s)&&(t||(t={}),t[s]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Ic.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&c!==a&&(c!=null||a!=null))if(l==="style")if(a){for(s in a)!a.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(t||(t={}),t[s]="");for(s in c)c.hasOwnProperty(s)&&a[s]!==c[s]&&(t||(t={}),t[s]=c[s])}else t||(o||(o=[]),o.push(l,t)),t=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Ic.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&rt("scroll",n),o||a===c||(o=[])):(o=o||[]).push(l,c))}t&&(o=o||[]).push("style",t);var l=o;(e.updateQueue=l)&&(e.flags|=4)}};K_=function(n,e,t,r){t!==r&&(e.flags|=4)};function $a(n,e){if(!lt)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function _n(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function bI(n,e,t){var r=e.pendingProps;switch(ug(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(e),null;case 1:return Gn(e.type)&&ju(),_n(e),null;case 3:return r=e.stateNode,ha(),it($n),it(xn),vg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Ml(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xr!==null&&(Zp(xr),xr=null))),Hp(n,e),_n(e),null;case 5:wg(e);var i=Wo(zc.current);if(t=e.type,n!==null&&e.stateNode!=null)j_(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ie(166));return _n(e),null}if(n=Wo(Zr.current),Ml(e)){r=e.stateNode,t=e.type;var o=e.memoizedProps;switch(r[jr]=e,r[Dc]=o,n=(e.mode&1)!==0,t){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(i=0;i<tc.length;i++)rt(tc[i],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":Jm(r,o),rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},rt("invalid",r);break;case"textarea":ty(r,o),rt("invalid",r)}gp(t,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Ol(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Ol(r.textContent,a,n),i=["children",""+a]):Ic.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&rt("scroll",r)}switch(t){case"input":Rl(r),ey(r,o,!0);break;case"textarea":Rl(r),ny(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Hu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=wv(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=s.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=s.createElement(t,{is:r.is}):(n=s.createElement(t),t==="select"&&(s=n,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):n=s.createElementNS(n,t),n[jr]=e,n[Dc]=r,H_(n,e,!1,!1),e.stateNode=n;e:{switch(s=mp(t,r),t){case"dialog":rt("cancel",n),rt("close",n),i=r;break;case"iframe":case"object":case"embed":rt("load",n),i=r;break;case"video":case"audio":for(i=0;i<tc.length;i++)rt(tc[i],n);i=r;break;case"source":rt("error",n),i=r;break;case"img":case"image":case"link":rt("error",n),rt("load",n),i=r;break;case"details":rt("toggle",n),i=r;break;case"input":Jm(n,r),i=up(n,r),rt("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=wt({},r,{value:void 0}),rt("invalid",n);break;case"textarea":ty(n,r),i=hp(n,r),rt("invalid",n);break;default:i=r}gp(t,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?Ev(n,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&vv(n,c)):o==="children"?typeof c=="string"?(t!=="textarea"||c!=="")&&xc(n,c):typeof c=="number"&&xc(n,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ic.hasOwnProperty(o)?c!=null&&o==="onScroll"&&rt("scroll",n):c!=null&&Y0(n,o,c,s))}switch(t){case"input":Rl(n),ey(n,r,!1);break;case"textarea":Rl(n),ny(n);break;case"option":r.value!=null&&n.setAttribute("value",""+vo(r.value));break;case"select":n.multiple=!!r.multiple,o=r.value,o!=null?Xs(n,!!r.multiple,o,!1):r.defaultValue!=null&&Xs(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Hu)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _n(e),null;case 6:if(n&&e.stateNode!=null)K_(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ie(166));if(t=Wo(zc.current),Wo(Zr.current),Ml(e)){if(r=e.stateNode,t=e.memoizedProps,r[jr]=e,(o=r.nodeValue!==t)&&(n=ir,n!==null))switch(n.tag){case 3:Ol(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Ol(r.nodeValue,t,(n.mode&1)!==0)}o&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[jr]=e,e.stateNode=r}return _n(e),null;case 13:if(it(gt),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(lt&&rr!==null&&e.mode&1&&!(e.flags&128))c_(),da(),e.flags|=98560,o=!1;else if(o=Ml(e),r!==null&&r.dehydrated!==null){if(n===null){if(!o)throw Error(ie(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ie(317));o[jr]=e}else da(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_n(e),o=!1}else xr!==null&&(Zp(xr),xr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||gt.current&1?tn===0&&(tn=3):Ng())),e.updateQueue!==null&&(e.flags|=4),_n(e),null);case 4:return ha(),Hp(n,e),n===null&&Lc(e.stateNode.containerInfo),_n(e),null;case 10:return pg(e.type._context),_n(e),null;case 17:return Gn(e.type)&&ju(),_n(e),null;case 19:if(it(gt),o=e.memoizedState,o===null)return _n(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)$a(o,!1);else{if(tn!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(s=Zu(n),s!==null){for(e.flags|=128,$a(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)o=t,n=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=n,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,n=s.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return et(gt,gt.current&1|2),e.child}n=n.sibling}o.tail!==null&&Ct()>ga&&(e.flags|=128,r=!0,$a(o,!1),e.lanes=4194304)}else{if(!r)if(n=Zu(s),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),$a(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!lt)return _n(e),null}else 2*Ct()-o.renderingStartTime>ga&&t!==1073741824&&(e.flags|=128,r=!0,$a(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(t=o.last,t!==null?t.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ct(),e.sibling=null,t=gt.current,et(gt,r?t&1|2:t&1),e):(_n(e),null);case 22:case 23:return Cg(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Jn&1073741824&&(_n(e),e.subtreeFlags&6&&(e.flags|=8192)):_n(e),null;case 24:return null;case 25:return null}throw Error(ie(156,e.tag))}function SI(n,e){switch(ug(e),e.tag){case 1:return Gn(e.type)&&ju(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return ha(),it($n),it(xn),vg(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return wg(e),null;case 13:if(it(gt),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(ie(340));da()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return it(gt),null;case 4:return ha(),null;case 10:return pg(e.type._context),null;case 22:case 23:return Cg(),null;case 24:return null;default:return null}}var Pl=!1,In=!1,RI=typeof WeakSet=="function"?WeakSet:Set,he=null;function Vs(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){xt(n,e,r)}else t.current=null}function jp(n,e,t){try{t()}catch(r){xt(n,e,r)}}var Vy=!1;function AI(n,e){if(kp=zu,n=Yv(),cg(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{t.nodeType,o.nodeType}catch{t=null;break e}var s=0,a=-1,c=-1,l=0,u=0,p=n,g=null;t:for(;;){for(var h;p!==t||i!==0&&p.nodeType!==3||(a=s+i),p!==o||r!==0&&p.nodeType!==3||(c=s+r),p.nodeType===3&&(s+=p.nodeValue.length),(h=p.firstChild)!==null;)g=p,p=h;for(;;){if(p===n)break t;if(g===t&&++l===i&&(a=s),g===o&&++u===r&&(c=s),(h=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=h}t=a===-1||c===-1?null:{start:a,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(Ip={focusedElem:n,selectionRange:t},zu=!1,he=e;he!==null;)if(e=he,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,he=n;else for(;he!==null;){e=he;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var k=w.memoizedProps,A=w.memoizedState,E=e.stateNode,b=E.getSnapshotBeforeUpdate(e.elementType===e.type?k:Ar(e.type,k),A);E.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ie(163))}}catch(x){xt(e,e.return,x)}if(n=e.sibling,n!==null){n.return=e.return,he=n;break}he=e.return}return w=Vy,Vy=!1,w}function gc(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var o=i.destroy;i.destroy=void 0,o!==void 0&&jp(e,t,o)}i=i.next}while(i!==r)}}function Dd(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function Kp(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function V_(n){var e=n.alternate;e!==null&&(n.alternate=null,V_(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[jr],delete e[Dc],delete e[Cp],delete e[aI],delete e[cI])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function $_(n){return n.tag===5||n.tag===3||n.tag===4}function $y(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||$_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Vp(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Hu));else if(r!==4&&(n=n.child,n!==null))for(Vp(n,e,t),n=n.sibling;n!==null;)Vp(n,e,t),n=n.sibling}function $p(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for($p(n,e,t),n=n.sibling;n!==null;)$p(n,e,t),n=n.sibling}var fn=null,Ir=!1;function Di(n,e,t){for(t=t.child;t!==null;)G_(n,e,t),t=t.sibling}function G_(n,e,t){if(Yr&&typeof Yr.onCommitFiberUnmount=="function")try{Yr.onCommitFiberUnmount(Td,t)}catch{}switch(t.tag){case 5:In||Vs(t,e);case 6:var r=fn,i=Ir;fn=null,Di(n,e,t),fn=r,Ir=i,fn!==null&&(Ir?(n=fn,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):fn.removeChild(t.stateNode));break;case 18:fn!==null&&(Ir?(n=fn,t=t.stateNode,n.nodeType===8?rh(n.parentNode,t):n.nodeType===1&&rh(n,t),Oc(n)):rh(fn,t.stateNode));break;case 4:r=fn,i=Ir,fn=t.stateNode.containerInfo,Ir=!0,Di(n,e,t),fn=r,Ir=i;break;case 0:case 11:case 14:case 15:if(!In&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&jp(t,e,s),i=i.next}while(i!==r)}Di(n,e,t);break;case 1:if(!In&&(Vs(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){xt(t,e,a)}Di(n,e,t);break;case 21:Di(n,e,t);break;case 22:t.mode&1?(In=(r=In)||t.memoizedState!==null,Di(n,e,t),In=r):Di(n,e,t);break;default:Di(n,e,t)}}function Gy(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new RI),e.forEach(function(r){var i=BI.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function Rr(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var o=n,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:fn=a.stateNode,Ir=!1;break e;case 3:fn=a.stateNode.containerInfo,Ir=!0;break e;case 4:fn=a.stateNode.containerInfo,Ir=!0;break e}a=a.return}if(fn===null)throw Error(ie(160));G_(o,s,i),fn=null,Ir=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(l){xt(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)q_(e,n),e=e.sibling}function q_(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Rr(e,n),Ur(n),r&4){try{gc(3,n,n.return),Dd(3,n)}catch(k){xt(n,n.return,k)}try{gc(5,n,n.return)}catch(k){xt(n,n.return,k)}}break;case 1:Rr(e,n),Ur(n),r&512&&t!==null&&Vs(t,t.return);break;case 5:if(Rr(e,n),Ur(n),r&512&&t!==null&&Vs(t,t.return),n.flags&32){var i=n.stateNode;try{xc(i,"")}catch(k){xt(n,n.return,k)}}if(r&4&&(i=n.stateNode,i!=null)){var o=n.memoizedProps,s=t!==null?t.memoizedProps:o,a=n.type,c=n.updateQueue;if(n.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&mv(i,o),mp(a,s);var l=mp(a,o);for(s=0;s<c.length;s+=2){var u=c[s],p=c[s+1];u==="style"?Ev(i,p):u==="dangerouslySetInnerHTML"?vv(i,p):u==="children"?xc(i,p):Y0(i,u,p,l)}switch(a){case"input":dp(i,o);break;case"textarea":yv(i,o);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?Xs(i,!!o.multiple,h,!1):g!==!!o.multiple&&(o.defaultValue!=null?Xs(i,!!o.multiple,o.defaultValue,!0):Xs(i,!!o.multiple,o.multiple?[]:"",!1))}i[Dc]=o}catch(k){xt(n,n.return,k)}}break;case 6:if(Rr(e,n),Ur(n),r&4){if(n.stateNode===null)throw Error(ie(162));i=n.stateNode,o=n.memoizedProps;try{i.nodeValue=o}catch(k){xt(n,n.return,k)}}break;case 3:if(Rr(e,n),Ur(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Oc(e.containerInfo)}catch(k){xt(n,n.return,k)}break;case 4:Rr(e,n),Ur(n);break;case 13:Rr(e,n),Ur(n),i=n.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(xg=Ct())),r&4&&Gy(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(In=(l=In)||u,Rr(e,n),In=l):Rr(e,n),Ur(n),r&8192){if(l=n.memoizedState!==null,(n.stateNode.isHidden=l)&&!u&&n.mode&1)for(he=n,u=n.child;u!==null;){for(p=he=u;he!==null;){switch(g=he,h=g.child,g.tag){case 0:case 11:case 14:case 15:gc(4,g,g.return);break;case 1:Vs(g,g.return);var w=g.stateNode;if(typeof w.componentWillUnmount=="function"){r=g,t=g.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(k){xt(r,t,k)}}break;case 5:Vs(g,g.return);break;case 22:if(g.memoizedState!==null){Yy(p);continue}}h!==null?(h.return=g,he=h):Yy(p)}u=u.sibling}e:for(u=null,p=n;;){if(p.tag===5){if(u===null){u=p;try{i=p.stateNode,l?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=p.stateNode,c=p.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=_v("display",s))}catch(k){xt(n,n.return,k)}}}else if(p.tag===6){if(u===null)try{p.stateNode.nodeValue=l?"":p.memoizedProps}catch(k){xt(n,n.return,k)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===n)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;u===p&&(u=null),p=p.return}u===p&&(u=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Rr(e,n),Ur(n),r&4&&Gy(n);break;case 21:break;default:Rr(e,n),Ur(n)}}function Ur(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if($_(t)){var r=t;break e}t=t.return}throw Error(ie(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(xc(i,""),r.flags&=-33);var o=$y(n);$p(n,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=$y(n);Vp(n,a,s);break;default:throw Error(ie(161))}}catch(c){xt(n,n.return,c)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function kI(n,e,t){he=n,Y_(n)}function Y_(n,e,t){for(var r=(n.mode&1)!==0;he!==null;){var i=he,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Pl;if(!s){var a=i.alternate,c=a!==null&&a.memoizedState!==null||In;a=Pl;var l=In;if(Pl=s,(In=c)&&!l)for(he=i;he!==null;)s=he,c=s.child,s.tag===22&&s.memoizedState!==null?Zy(i):c!==null?(c.return=s,he=c):Zy(i);for(;o!==null;)he=o,Y_(o),o=o.sibling;he=i,Pl=a,In=l}qy(n)}else i.subtreeFlags&8772&&o!==null?(o.return=i,he=o):qy(n)}}function qy(n){for(;he!==null;){var e=he;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:In||Dd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!In)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:Ar(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Oy(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}Oy(e,s,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&t.focus();break;case"img":c.src&&(t.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var p=u.dehydrated;p!==null&&Oc(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ie(163))}In||e.flags&512&&Kp(e)}catch(g){xt(e,e.return,g)}}if(e===n){he=null;break}if(t=e.sibling,t!==null){t.return=e.return,he=t;break}he=e.return}}function Yy(n){for(;he!==null;){var e=he;if(e===n){he=null;break}var t=e.sibling;if(t!==null){t.return=e.return,he=t;break}he=e.return}}function Zy(n){for(;he!==null;){var e=he;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Dd(4,e)}catch(c){xt(e,t,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){xt(e,i,c)}}var o=e.return;try{Kp(e)}catch(c){xt(e,o,c)}break;case 5:var s=e.return;try{Kp(e)}catch(c){xt(e,s,c)}}}catch(c){xt(e,e.return,c)}if(e===n){he=null;break}var a=e.sibling;if(a!==null){a.return=e.return,he=a;break}he=e.return}}var II=Math.ceil,Ju=Mi.ReactCurrentDispatcher,kg=Mi.ReactCurrentOwner,yr=Mi.ReactCurrentBatchConfig,De=0,ln=null,Qt=null,mn=0,Jn=0,$s=Ao(0),tn=0,jc=null,ss=0,Ud=0,Ig=0,mc=null,zn=null,xg=0,ga=1/0,ui=null,ed=!1,Gp=null,ho=null,Dl=!1,to=null,td=0,yc=0,qp=null,du=-1,fu=0;function On(){return De&6?Ct():du!==-1?du:du=Ct()}function po(n){return n.mode&1?De&2&&mn!==0?mn&-mn:uI.transition!==null?(fu===0&&(fu=Mv()),fu):(n=Ke,n!==0||(n=window.event,n=n===void 0?16:Fv(n.type)),n):1}function Mr(n,e,t,r){if(50<yc)throw yc=0,qp=null,Error(ie(185));nl(n,t,r),(!(De&2)||n!==ln)&&(n===ln&&(!(De&2)&&(Ud|=t),tn===4&&Xi(n,mn)),qn(n,r),t===1&&De===0&&!(e.mode&1)&&(ga=Ct()+500,Bd&&ko()))}function qn(n,e){var t=n.callbackNode;uk(n,e);var r=Uu(n,n===ln?mn:0);if(r===0)t!==null&&oy(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&oy(t),e===1)n.tag===0?lI(Xy.bind(null,n)):o_(Xy.bind(null,n)),oI(function(){!(De&6)&&ko()}),t=null;else{switch(Bv(r)){case 1:t=eg;break;case 4:t=Nv;break;case 16:t=Du;break;case 536870912:t=Ov;break;default:t=Du}t=rE(t,Z_.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function Z_(n,e){if(du=-1,fu=0,De&6)throw Error(ie(327));var t=n.callbackNode;if(na()&&n.callbackNode!==t)return null;var r=Uu(n,n===ln?mn:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=nd(n,r);else{e=r;var i=De;De|=2;var o=Q_();(ln!==n||mn!==e)&&(ui=null,ga=Ct()+500,Jo(n,e));do try{CI();break}catch(a){X_(n,a)}while(!0);hg(),Ju.current=o,De=i,Qt!==null?e=0:(ln=null,mn=0,e=tn)}if(e!==0){if(e===2&&(i=Ep(n),i!==0&&(r=i,e=Yp(n,i))),e===1)throw t=jc,Jo(n,0),Xi(n,r),qn(n,Ct()),t;if(e===6)Xi(n,r);else{if(i=n.current.alternate,!(r&30)&&!xI(i)&&(e=nd(n,r),e===2&&(o=Ep(n),o!==0&&(r=o,e=Yp(n,o))),e===1))throw t=jc,Jo(n,0),Xi(n,r),qn(n,Ct()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(ie(345));case 2:No(n,zn,ui);break;case 3:if(Xi(n,r),(r&130023424)===r&&(e=xg+500-Ct(),10<e)){if(Uu(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){On(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=Tp(No.bind(null,n,zn,ui),e);break}No(n,zn,ui);break;case 4:if(Xi(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var s=31-Or(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*II(r/1960))-r,10<r){n.timeoutHandle=Tp(No.bind(null,n,zn,ui),r);break}No(n,zn,ui);break;case 5:No(n,zn,ui);break;default:throw Error(ie(329))}}}return qn(n,Ct()),n.callbackNode===t?Z_.bind(null,n):null}function Yp(n,e){var t=mc;return n.current.memoizedState.isDehydrated&&(Jo(n,e).flags|=256),n=nd(n,e),n!==2&&(e=zn,zn=t,e!==null&&Zp(e)),n}function Zp(n){zn===null?zn=n:zn.push.apply(zn,n)}function xI(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],o=i.getSnapshot;i=i.value;try{if(!Lr(o(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xi(n,e){for(e&=~Ig,e&=~Ud,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Or(e),r=1<<t;n[t]=-1,e&=~r}}function Xy(n){if(De&6)throw Error(ie(327));na();var e=Uu(n,0);if(!(e&1))return qn(n,Ct()),null;var t=nd(n,e);if(n.tag!==0&&t===2){var r=Ep(n);r!==0&&(e=r,t=Yp(n,r))}if(t===1)throw t=jc,Jo(n,0),Xi(n,e),qn(n,Ct()),t;if(t===6)throw Error(ie(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,No(n,zn,ui),qn(n,Ct()),null}function Tg(n,e){var t=De;De|=1;try{return n(e)}finally{De=t,De===0&&(ga=Ct()+500,Bd&&ko())}}function as(n){to!==null&&to.tag===0&&!(De&6)&&na();var e=De;De|=1;var t=yr.transition,r=Ke;try{if(yr.transition=null,Ke=1,n)return n()}finally{Ke=r,yr.transition=t,De=e,!(De&6)&&ko()}}function Cg(){Jn=$s.current,it($s)}function Jo(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,iI(t)),Qt!==null)for(t=Qt.return;t!==null;){var r=t;switch(ug(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ju();break;case 3:ha(),it($n),it(xn),vg();break;case 5:wg(r);break;case 4:ha();break;case 13:it(gt);break;case 19:it(gt);break;case 10:pg(r.type._context);break;case 22:case 23:Cg()}t=t.return}if(ln=n,Qt=n=go(n.current,null),mn=Jn=e,tn=0,jc=null,Ig=Ud=ss=0,zn=mc=null,Fo!==null){for(e=0;e<Fo.length;e++)if(t=Fo[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,o=t.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}t.pending=r}Fo=null}return n}function X_(n,e){do{var t=Qt;try{if(hg(),cu.current=Qu,Xu){for(var r=yt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Xu=!1}if(os=0,cn=en=yt=null,pc=!1,Fc=0,kg.current=null,t===null||t.return===null){tn=1,jc=e,Qt=null;break}e:{var o=n,s=t.return,a=t,c=e;if(e=mn,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,u=a,p=u.tag;if(!(u.mode&1)&&(p===0||p===11||p===15)){var g=u.alternate;g?(u.updateQueue=g.updateQueue,u.memoizedState=g.memoizedState,u.lanes=g.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=Uy(s);if(h!==null){h.flags&=-257,zy(h,s,a,o,e),h.mode&1&&Dy(o,l,e),e=h,c=l;var w=e.updateQueue;if(w===null){var k=new Set;k.add(c),e.updateQueue=k}else w.add(c);break e}else{if(!(e&1)){Dy(o,l,e),Ng();break e}c=Error(ie(426))}}else if(lt&&a.mode&1){var A=Uy(s);if(A!==null){!(A.flags&65536)&&(A.flags|=256),zy(A,s,a,o,e),dg(pa(c,a));break e}}o=c=pa(c,a),tn!==4&&(tn=2),mc===null?mc=[o]:mc.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var E=B_(o,c,e);Ny(o,E);break e;case 1:a=c;var b=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ho===null||!ho.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var x=L_(o,a,e);Ny(o,x);break e}}o=o.return}while(o!==null)}eE(t)}catch(L){e=L,Qt===t&&t!==null&&(Qt=t=t.return);continue}break}while(!0)}function Q_(){var n=Ju.current;return Ju.current=Qu,n===null?Qu:n}function Ng(){(tn===0||tn===3||tn===2)&&(tn=4),ln===null||!(ss&268435455)&&!(Ud&268435455)||Xi(ln,mn)}function nd(n,e){var t=De;De|=2;var r=Q_();(ln!==n||mn!==e)&&(ui=null,Jo(n,e));do try{TI();break}catch(i){X_(n,i)}while(!0);if(hg(),De=t,Ju.current=r,Qt!==null)throw Error(ie(261));return ln=null,mn=0,tn}function TI(){for(;Qt!==null;)J_(Qt)}function CI(){for(;Qt!==null&&!tk();)J_(Qt)}function J_(n){var e=nE(n.alternate,n,Jn);n.memoizedProps=n.pendingProps,e===null?eE(n):Qt=e,kg.current=null}function eE(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=SI(t,e),t!==null){t.flags&=32767,Qt=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{tn=6,Qt=null;return}}else if(t=bI(t,e,Jn),t!==null){Qt=t;return}if(e=e.sibling,e!==null){Qt=e;return}Qt=e=n}while(e!==null);tn===0&&(tn=5)}function No(n,e,t){var r=Ke,i=yr.transition;try{yr.transition=null,Ke=1,NI(n,e,t,r)}finally{yr.transition=i,Ke=r}return null}function NI(n,e,t,r){do na();while(to!==null);if(De&6)throw Error(ie(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(ie(177));n.callbackNode=null,n.callbackPriority=0;var o=t.lanes|t.childLanes;if(dk(n,o),n===ln&&(Qt=ln=null,mn=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Dl||(Dl=!0,rE(Du,function(){return na(),null})),o=(t.flags&15990)!==0,t.subtreeFlags&15990||o){o=yr.transition,yr.transition=null;var s=Ke;Ke=1;var a=De;De|=4,kg.current=null,AI(n,t),q_(t,n),Xk(Ip),zu=!!kp,Ip=kp=null,n.current=t,kI(t),nk(),De=a,Ke=s,yr.transition=o}else n.current=t;if(Dl&&(Dl=!1,to=n,td=i),o=n.pendingLanes,o===0&&(ho=null),ok(t.stateNode),qn(n,Ct()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(ed)throw ed=!1,n=Gp,Gp=null,n;return td&1&&n.tag!==0&&na(),o=n.pendingLanes,o&1?n===qp?yc++:(yc=0,qp=n):yc=0,ko(),null}function na(){if(to!==null){var n=Bv(td),e=yr.transition,t=Ke;try{if(yr.transition=null,Ke=16>n?16:n,to===null)var r=!1;else{if(n=to,to=null,td=0,De&6)throw Error(ie(331));var i=De;for(De|=4,he=n.current;he!==null;){var o=he,s=o.child;if(he.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var l=a[c];for(he=l;he!==null;){var u=he;switch(u.tag){case 0:case 11:case 15:gc(8,u,o)}var p=u.child;if(p!==null)p.return=u,he=p;else for(;he!==null;){u=he;var g=u.sibling,h=u.return;if(V_(u),u===l){he=null;break}if(g!==null){g.return=h,he=g;break}he=h}}}var w=o.alternate;if(w!==null){var k=w.child;if(k!==null){w.child=null;do{var A=k.sibling;k.sibling=null,k=A}while(k!==null)}}he=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,he=s;else e:for(;he!==null;){if(o=he,o.flags&2048)switch(o.tag){case 0:case 11:case 15:gc(9,o,o.return)}var E=o.sibling;if(E!==null){E.return=o.return,he=E;break e}he=o.return}}var b=n.current;for(he=b;he!==null;){s=he;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,he=_;else e:for(s=b;he!==null;){if(a=he,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Dd(9,a)}}catch(L){xt(a,a.return,L)}if(a===s){he=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,he=x;break e}he=a.return}}if(De=i,ko(),Yr&&typeof Yr.onPostCommitFiberRoot=="function")try{Yr.onPostCommitFiberRoot(Td,n)}catch{}r=!0}return r}finally{Ke=t,yr.transition=e}}return!1}function Qy(n,e,t){e=pa(t,e),e=B_(n,e,1),n=fo(n,e,1),e=On(),n!==null&&(nl(n,1,e),qn(n,e))}function xt(n,e,t){if(n.tag===3)Qy(n,n,t);else for(;e!==null;){if(e.tag===3){Qy(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ho===null||!ho.has(r))){n=pa(t,n),n=L_(e,n,1),e=fo(e,n,1),n=On(),e!==null&&(nl(e,1,n),qn(e,n));break}}e=e.return}}function OI(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=On(),n.pingedLanes|=n.suspendedLanes&t,ln===n&&(mn&t)===t&&(tn===4||tn===3&&(mn&130023424)===mn&&500>Ct()-xg?Jo(n,0):Ig|=t),qn(n,e)}function tE(n,e){e===0&&(n.mode&1?(e=Il,Il<<=1,!(Il&130023424)&&(Il=4194304)):e=1);var t=On();n=ki(n,e),n!==null&&(nl(n,e,t),qn(n,t))}function MI(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),tE(n,t)}function BI(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(ie(314))}r!==null&&r.delete(e),tE(n,t)}var nE;nE=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||$n.current)jn=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return jn=!1,EI(n,e,t);jn=!!(n.flags&131072)}else jn=!1,lt&&e.flags&1048576&&s_(e,$u,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;uu(n,e),n=e.pendingProps;var i=ua(e,xn.current);ta(e,t),i=Eg(null,e,r,n,i,t);var o=bg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gn(r)?(o=!0,Ku(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,mg(e),i.updater=Pd,e.stateNode=i,i._reactInternals=e,Pp(e,r,n,t),e=zp(null,e,r,!0,o,t)):(e.tag=0,lt&&o&&lg(e),Cn(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(uu(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=PI(r),n=Ar(r,n),i){case 0:e=Up(null,e,r,n,t);break e;case 1:e=Hy(null,e,r,n,t);break e;case 11:e=Fy(null,e,r,n,t);break e;case 14:e=Wy(null,e,r,Ar(r.type,n),t);break e}throw Error(ie(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ar(r,i),Up(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ar(r,i),Hy(n,e,r,i,t);case 3:e:{if(z_(e),n===null)throw Error(ie(387));r=e.pendingProps,o=e.memoizedState,i=o.element,f_(n,e),Yu(e,r,null,t);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=pa(Error(ie(423)),e),e=jy(n,e,r,t,i);break e}else if(r!==i){i=pa(Error(ie(424)),e),e=jy(n,e,r,t,i);break e}else for(rr=uo(e.stateNode.containerInfo.firstChild),ir=e,lt=!0,xr=null,t=u_(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(da(),r===i){e=Ii(n,e,t);break e}Cn(n,e,r,t)}e=e.child}return e;case 5:return h_(e),n===null&&Mp(e),r=e.type,i=e.pendingProps,o=n!==null?n.memoizedProps:null,s=i.children,xp(r,i)?s=null:o!==null&&xp(r,o)&&(e.flags|=32),U_(n,e),Cn(n,e,s,t),e.child;case 6:return n===null&&Mp(e),null;case 13:return F_(n,e,t);case 4:return yg(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=fa(e,null,r,t):Cn(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ar(r,i),Fy(n,e,r,i,t);case 7:return Cn(n,e,e.pendingProps,t),e.child;case 8:return Cn(n,e,e.pendingProps.children,t),e.child;case 12:return Cn(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,et(Gu,r._currentValue),r._currentValue=s,o!==null)if(Lr(o.value,s)){if(o.children===i.children&&!$n.current){e=Ii(n,e,t);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=Si(-1,t&-t),c.tag=2;var l=o.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?c.next=c:(c.next=u.next,u.next=c),l.pending=c}}o.lanes|=t,c=o.alternate,c!==null&&(c.lanes|=t),Bp(o.return,t,e),a.lanes|=t;break}c=c.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ie(341));s.lanes|=t,a=s.alternate,a!==null&&(a.lanes|=t),Bp(s,t,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Cn(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ta(e,t),i=vr(i),r=r(i),e.flags|=1,Cn(n,e,r,t),e.child;case 14:return r=e.type,i=Ar(r,e.pendingProps),i=Ar(r.type,i),Wy(n,e,r,i,t);case 15:return P_(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ar(r,i),uu(n,e),e.tag=1,Gn(r)?(n=!0,Ku(e)):n=!1,ta(e,t),M_(e,r,i),Pp(e,r,i,t),zp(null,e,r,!0,n,t);case 19:return W_(n,e,t);case 22:return D_(n,e,t)}throw Error(ie(156,e.tag))};function rE(n,e){return Cv(n,e)}function LI(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mr(n,e,t,r){return new LI(n,e,t,r)}function Og(n){return n=n.prototype,!(!n||!n.isReactComponent)}function PI(n){if(typeof n=="function")return Og(n)?1:0;if(n!=null){if(n=n.$$typeof,n===X0)return 11;if(n===Q0)return 14}return 2}function go(n,e){var t=n.alternate;return t===null?(t=mr(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function hu(n,e,t,r,i,o){var s=2;if(r=n,typeof n=="function")Og(n)&&(s=1);else if(typeof n=="string")s=5;else e:switch(n){case Ps:return es(t.children,i,o,e);case Z0:s=8,i|=8;break;case sp:return n=mr(12,t,e,i|2),n.elementType=sp,n.lanes=o,n;case ap:return n=mr(13,t,e,i),n.elementType=ap,n.lanes=o,n;case cp:return n=mr(19,t,e,i),n.elementType=cp,n.lanes=o,n;case hv:return zd(t,i,o,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case dv:s=10;break e;case fv:s=9;break e;case X0:s=11;break e;case Q0:s=14;break e;case $i:s=16,r=null;break e}throw Error(ie(130,n==null?n:typeof n,""))}return e=mr(s,t,e,i),e.elementType=n,e.type=r,e.lanes=o,e}function es(n,e,t,r){return n=mr(7,n,r,e),n.lanes=t,n}function zd(n,e,t,r){return n=mr(22,n,r,e),n.elementType=hv,n.lanes=t,n.stateNode={isHidden:!1},n}function dh(n,e,t){return n=mr(6,n,null,e),n.lanes=t,n}function fh(n,e,t){return e=mr(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function DI(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$f(0),this.expirationTimes=$f(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$f(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Mg(n,e,t,r,i,o,s,a,c){return n=new DI(n,e,t,a,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=mr(3,null,null,e),n.current=o,o.stateNode=n,o.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},mg(o),n}function UI(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ls,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function iE(n){if(!n)return _o;n=n._reactInternals;e:{if(hs(n)!==n||n.tag!==1)throw Error(ie(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ie(171))}if(n.tag===1){var t=n.type;if(Gn(t))return i_(n,t,e)}return e}function oE(n,e,t,r,i,o,s,a,c){return n=Mg(t,r,!0,n,i,o,s,a,c),n.context=iE(null),t=n.current,r=On(),i=po(t),o=Si(r,i),o.callback=e??null,fo(t,o,i),n.current.lanes=i,nl(n,i,r),qn(n,r),n}function Fd(n,e,t,r){var i=e.current,o=On(),s=po(i);return t=iE(t),e.context===null?e.context=t:e.pendingContext=t,e=Si(o,s),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=fo(i,e,s),n!==null&&(Mr(n,i,s,o),au(n,i,s)),s}function rd(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Jy(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function Bg(n,e){Jy(n,e),(n=n.alternate)&&Jy(n,e)}function zI(){return null}var sE=typeof reportError=="function"?reportError:function(n){console.error(n)};function Lg(n){this._internalRoot=n}Wd.prototype.render=Lg.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(ie(409));Fd(n,e,null,null)};Wd.prototype.unmount=Lg.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;as(function(){Fd(null,n,null,null)}),e[Ai]=null}};function Wd(n){this._internalRoot=n}Wd.prototype.unstable_scheduleHydration=function(n){if(n){var e=Dv();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Zi.length&&e!==0&&e<Zi[t].priority;t++);Zi.splice(t,0,n),t===0&&zv(n)}};function Pg(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Hd(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function ew(){}function FI(n,e,t,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var l=rd(s);o.call(l)}}var s=oE(e,r,n,0,null,!1,!1,"",ew);return n._reactRootContainer=s,n[Ai]=s.current,Lc(n.nodeType===8?n.parentNode:n),as(),s}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=rd(c);a.call(l)}}var c=Mg(n,0,!1,null,null,!1,!1,"",ew);return n._reactRootContainer=c,n[Ai]=c.current,Lc(n.nodeType===8?n.parentNode:n),as(function(){Fd(e,c,t,r)}),c}function jd(n,e,t,r,i){var o=t._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var c=rd(s);a.call(c)}}Fd(e,s,n,i)}else s=FI(t,e,n,i,r);return rd(s)}Lv=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=ec(e.pendingLanes);t!==0&&(tg(e,t|1),qn(e,Ct()),!(De&6)&&(ga=Ct()+500,ko()))}break;case 13:as(function(){var r=ki(n,1);if(r!==null){var i=On();Mr(r,n,1,i)}}),Bg(n,1)}};ng=function(n){if(n.tag===13){var e=ki(n,134217728);if(e!==null){var t=On();Mr(e,n,134217728,t)}Bg(n,134217728)}};Pv=function(n){if(n.tag===13){var e=po(n),t=ki(n,e);if(t!==null){var r=On();Mr(t,n,e,r)}Bg(n,e)}};Dv=function(){return Ke};Uv=function(n,e){var t=Ke;try{return Ke=n,e()}finally{Ke=t}};wp=function(n,e,t){switch(e){case"input":if(dp(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=Md(r);if(!i)throw Error(ie(90));gv(r),dp(r,i)}}}break;case"textarea":yv(n,t);break;case"select":e=t.value,e!=null&&Xs(n,!!t.multiple,e,!1)}};Rv=Tg;Av=as;var WI={usingClientEntryPoint:!1,Events:[il,Fs,Md,bv,Sv,Tg]},Ga={findFiberByHostInstance:zo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HI={bundleType:Ga.bundleType,version:Ga.version,rendererPackageName:Ga.rendererPackageName,rendererConfig:Ga.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mi.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=xv(n),n===null?null:n.stateNode},findFiberByHostInstance:Ga.findFiberByHostInstance||zI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ul.isDisabled&&Ul.supportsFiber)try{Td=Ul.inject(HI),Yr=Ul}catch{}}ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WI;ar.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pg(e))throw Error(ie(200));return UI(n,e,null,t)};ar.createRoot=function(n,e){if(!Pg(n))throw Error(ie(299));var t=!1,r="",i=sE;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Mg(n,1,!1,null,null,t,!1,r,i),n[Ai]=e.current,Lc(n.nodeType===8?n.parentNode:n),new Lg(e)};ar.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(ie(188)):(n=Object.keys(n).join(","),Error(ie(268,n)));return n=xv(e),n=n===null?null:n.stateNode,n};ar.flushSync=function(n){return as(n)};ar.hydrate=function(n,e,t){if(!Hd(e))throw Error(ie(200));return jd(null,n,e,!0,t)};ar.hydrateRoot=function(n,e,t){if(!Pg(n))throw Error(ie(405));var r=t!=null&&t.hydratedSources||null,i=!1,o="",s=sE;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),e=oE(e,null,n,1,t??null,i,!1,o,s),n[Ai]=e.current,Lc(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new Wd(e)};ar.render=function(n,e,t){if(!Hd(e))throw Error(ie(200));return jd(null,n,e,!1,t)};ar.unmountComponentAtNode=function(n){if(!Hd(n))throw Error(ie(40));return n._reactRootContainer?(as(function(){jd(null,null,n,!1,function(){n._reactRootContainer=null,n[Ai]=null})}),!0):!1};ar.unstable_batchedUpdates=Tg;ar.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!Hd(t))throw Error(ie(200));if(n==null||n._reactInternals===void 0)throw Error(ie(38));return jd(n,e,t,!1,r)};ar.version="18.3.1-next-f1338f8080-20240426";function aE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(aE)}catch(n){console.error(n)}}aE(),av.exports=ar;var cE=av.exports,tw=cE;ip.createRoot=tw.createRoot,ip.hydrateRoot=tw.hydrateRoot;var rn={},Kd={};Kd.byteLength=VI;Kd.toByteArray=GI;Kd.fromByteArray=ZI;var Kr=[],fr=[],jI=typeof Uint8Array<"u"?Uint8Array:Array,hh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var bs=0,KI=hh.length;bs<KI;++bs)Kr[bs]=hh[bs],fr[hh.charCodeAt(bs)]=bs;fr[45]=62;fr[95]=63;function lE(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=n.indexOf("=");t===-1&&(t=e);var r=t===e?0:4-t%4;return[t,r]}function VI(n){var e=lE(n),t=e[0],r=e[1];return(t+r)*3/4-r}function $I(n,e,t){return(e+t)*3/4-t}function GI(n){var e,t=lE(n),r=t[0],i=t[1],o=new jI($I(n,r,i)),s=0,a=i>0?r-4:r,c;for(c=0;c<a;c+=4)e=fr[n.charCodeAt(c)]<<18|fr[n.charCodeAt(c+1)]<<12|fr[n.charCodeAt(c+2)]<<6|fr[n.charCodeAt(c+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return i===2&&(e=fr[n.charCodeAt(c)]<<2|fr[n.charCodeAt(c+1)]>>4,o[s++]=e&255),i===1&&(e=fr[n.charCodeAt(c)]<<10|fr[n.charCodeAt(c+1)]<<4|fr[n.charCodeAt(c+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function qI(n){return Kr[n>>18&63]+Kr[n>>12&63]+Kr[n>>6&63]+Kr[n&63]}function YI(n,e,t){for(var r,i=[],o=e;o<t;o+=3)r=(n[o]<<16&16711680)+(n[o+1]<<8&65280)+(n[o+2]&255),i.push(qI(r));return i.join("")}function ZI(n){for(var e,t=n.length,r=t%3,i=[],o=16383,s=0,a=t-r;s<a;s+=o)i.push(YI(n,s,s+o>a?a:s+o));return r===1?(e=n[t-1],i.push(Kr[e>>2]+Kr[e<<4&63]+"==")):r===2&&(e=(n[t-2]<<8)+n[t-1],i.push(Kr[e>>10]+Kr[e>>4&63]+Kr[e<<2&63]+"=")),i.join("")}var Dg={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Dg.read=function(n,e,t,r,i){var o,s,a=i*8-r-1,c=(1<<a)-1,l=c>>1,u=-7,p=t?i-1:0,g=t?-1:1,h=n[e+p];for(p+=g,o=h&(1<<-u)-1,h>>=-u,u+=a;u>0;o=o*256+n[e+p],p+=g,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=s*256+n[e+p],p+=g,u-=8);if(o===0)o=1-l;else{if(o===c)return s?NaN:(h?-1:1)*(1/0);s=s+Math.pow(2,r),o=o-l}return(h?-1:1)*s*Math.pow(2,o-r)};Dg.write=function(n,e,t,r,i,o){var s,a,c,l=o*8-i-1,u=(1<<l)-1,p=u>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,w=r?1:-1,k=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+p>=1?e+=g/c:e+=g*Math.pow(2,1-p),e*c>=2&&(s++,c/=2),s+p>=u?(a=0,s=u):s+p>=1?(a=(e*c-1)*Math.pow(2,i),s=s+p):(a=e*Math.pow(2,p-1)*Math.pow(2,i),s=0));i>=8;n[t+h]=a&255,h+=w,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;n[t+h]=s&255,h+=w,s/=256,l-=8);n[t+h-w]|=k*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){const e=Kd,t=Dg,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=u,n.SlowBuffer=L,n.INSPECT_MAX_BYTES=50;const i=2147483647;n.kMaxLength=i;const{Uint8Array:o,ArrayBuffer:s,SharedArrayBuffer:a}=globalThis;u.TYPED_ARRAY_SUPPORT=c(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{const C=new o(1),m={foo:function(){return 42}};return Object.setPrototypeOf(m,o.prototype),Object.setPrototypeOf(C,m),C.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function l(C){if(C>i)throw new RangeError('The value "'+C+'" is invalid for option "size"');const m=new o(C);return Object.setPrototypeOf(m,u.prototype),m}function u(C,m,v){if(typeof C=="number"){if(typeof m=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return w(C)}return p(C,m,v)}u.poolSize=8192;function p(C,m,v){if(typeof C=="string")return k(C,m);if(s.isView(C))return E(C);if(C==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C);if(Zn(C,s)||C&&Zn(C.buffer,s)||typeof a<"u"&&(Zn(C,a)||C&&Zn(C.buffer,a)))return b(C,m,v);if(typeof C=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const M=C.valueOf&&C.valueOf();if(M!=null&&M!==C)return u.from(M,m,v);const F=_(C);if(F)return F;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof C[Symbol.toPrimitive]=="function")return u.from(C[Symbol.toPrimitive]("string"),m,v);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C)}u.from=function(C,m,v){return p(C,m,v)},Object.setPrototypeOf(u.prototype,o.prototype),Object.setPrototypeOf(u,o);function g(C){if(typeof C!="number")throw new TypeError('"size" argument must be of type number');if(C<0)throw new RangeError('The value "'+C+'" is invalid for option "size"')}function h(C,m,v){return g(C),C<=0?l(C):m!==void 0?typeof v=="string"?l(C).fill(m,v):l(C).fill(m):l(C)}u.alloc=function(C,m,v){return h(C,m,v)};function w(C){return g(C),l(C<0?0:x(C)|0)}u.allocUnsafe=function(C){return w(C)},u.allocUnsafeSlow=function(C){return w(C)};function k(C,m){if((typeof m!="string"||m==="")&&(m="utf8"),!u.isEncoding(m))throw new TypeError("Unknown encoding: "+m);const v=U(C,m)|0;let M=l(v);const F=M.write(C,m);return F!==v&&(M=M.slice(0,F)),M}function A(C){const m=C.length<0?0:x(C.length)|0,v=l(m);for(let M=0;M<m;M+=1)v[M]=C[M]&255;return v}function E(C){if(Zn(C,o)){const m=new o(C);return b(m.buffer,m.byteOffset,m.byteLength)}return A(C)}function b(C,m,v){if(m<0||C.byteLength<m)throw new RangeError('"offset" is outside of buffer bounds');if(C.byteLength<m+(v||0))throw new RangeError('"length" is outside of buffer bounds');let M;return m===void 0&&v===void 0?M=new o(C):v===void 0?M=new o(C,m):M=new o(C,m,v),Object.setPrototypeOf(M,u.prototype),M}function _(C){if(u.isBuffer(C)){const m=x(C.length)|0,v=l(m);return v.length===0||C.copy(v,0,0,m),v}if(C.length!==void 0)return typeof C.length!="number"||st(C.length)?l(0):A(C);if(C.type==="Buffer"&&Array.isArray(C.data))return A(C.data)}function x(C){if(C>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return C|0}function L(C){return+C!=C&&(C=0),u.alloc(+C)}u.isBuffer=function(m){return m!=null&&m._isBuffer===!0&&m!==u.prototype},u.compare=function(m,v){if(Zn(m,o)&&(m=u.from(m,m.offset,m.byteLength)),Zn(v,o)&&(v=u.from(v,v.offset,v.byteLength)),!u.isBuffer(m)||!u.isBuffer(v))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(m===v)return 0;let M=m.length,F=v.length;for(let j=0,Y=Math.min(M,F);j<Y;++j)if(m[j]!==v[j]){M=m[j],F=v[j];break}return M<F?-1:F<M?1:0},u.isEncoding=function(m){switch(String(m).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(m,v){if(!Array.isArray(m))throw new TypeError('"list" argument must be an Array of Buffers');if(m.length===0)return u.alloc(0);let M;if(v===void 0)for(v=0,M=0;M<m.length;++M)v+=m[M].length;const F=u.allocUnsafe(v);let j=0;for(M=0;M<m.length;++M){let Y=m[M];if(Zn(Y,o))j+Y.length>F.length?(u.isBuffer(Y)||(Y=u.from(Y)),Y.copy(F,j)):o.prototype.set.call(F,Y,j);else if(u.isBuffer(Y))Y.copy(F,j);else throw new TypeError('"list" argument must be an Array of Buffers');j+=Y.length}return F};function U(C,m){if(u.isBuffer(C))return C.length;if(s.isView(C)||Zn(C,s))return C.byteLength;if(typeof C!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof C);const v=C.length,M=arguments.length>2&&arguments[2]===!0;if(!M&&v===0)return 0;let F=!1;for(;;)switch(m){case"ascii":case"latin1":case"binary":return v;case"utf8":case"utf-8":return ot(C).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v*2;case"hex":return v>>>1;case"base64":return ft(C).length;default:if(F)return M?-1:ot(C).length;m=(""+m).toLowerCase(),F=!0}}u.byteLength=U;function D(C,m,v){let M=!1;if((m===void 0||m<0)&&(m=0),m>this.length||((v===void 0||v>this.length)&&(v=this.length),v<=0)||(v>>>=0,m>>>=0,v<=m))return"";for(C||(C="utf8");;)switch(C){case"hex":return y(this,m,v);case"utf8":case"utf-8":return T(this,m,v);case"ascii":return P(this,m,v);case"latin1":case"binary":return N(this,m,v);case"base64":return S(this,m,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,m,v);default:if(M)throw new TypeError("Unknown encoding: "+C);C=(C+"").toLowerCase(),M=!0}}u.prototype._isBuffer=!0;function W(C,m,v){const M=C[m];C[m]=C[v],C[v]=M}u.prototype.swap16=function(){const m=this.length;if(m%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let v=0;v<m;v+=2)W(this,v,v+1);return this},u.prototype.swap32=function(){const m=this.length;if(m%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let v=0;v<m;v+=4)W(this,v,v+3),W(this,v+1,v+2);return this},u.prototype.swap64=function(){const m=this.length;if(m%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let v=0;v<m;v+=8)W(this,v,v+7),W(this,v+1,v+6),W(this,v+2,v+5),W(this,v+3,v+4);return this},u.prototype.toString=function(){const m=this.length;return m===0?"":arguments.length===0?T(this,0,m):D.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(m){if(!u.isBuffer(m))throw new TypeError("Argument must be a Buffer");return this===m?!0:u.compare(this,m)===0},u.prototype.inspect=function(){let m="";const v=n.INSPECT_MAX_BYTES;return m=this.toString("hex",0,v).replace(/(.{2})/g,"$1 ").trim(),this.length>v&&(m+=" ... "),"<Buffer "+m+">"},r&&(u.prototype[r]=u.prototype.inspect),u.prototype.compare=function(m,v,M,F,j){if(Zn(m,o)&&(m=u.from(m,m.offset,m.byteLength)),!u.isBuffer(m))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof m);if(v===void 0&&(v=0),M===void 0&&(M=m?m.length:0),F===void 0&&(F=0),j===void 0&&(j=this.length),v<0||M>m.length||F<0||j>this.length)throw new RangeError("out of range index");if(F>=j&&v>=M)return 0;if(F>=j)return-1;if(v>=M)return 1;if(v>>>=0,M>>>=0,F>>>=0,j>>>=0,this===m)return 0;let Y=j-F,xe=M-v;const ke=Math.min(Y,xe),Se=this.slice(F,j),nt=m.slice(v,M);for(let be=0;be<ke;++be)if(Se[be]!==nt[be]){Y=Se[be],xe=nt[be];break}return Y<xe?-1:xe<Y?1:0};function z(C,m,v,M,F){if(C.length===0)return-1;if(typeof v=="string"?(M=v,v=0):v>2147483647?v=2147483647:v<-2147483648&&(v=-2147483648),v=+v,st(v)&&(v=F?0:C.length-1),v<0&&(v=C.length+v),v>=C.length){if(F)return-1;v=C.length-1}else if(v<0)if(F)v=0;else return-1;if(typeof m=="string"&&(m=u.from(m,M)),u.isBuffer(m))return m.length===0?-1:H(C,m,v,M,F);if(typeof m=="number")return m=m&255,typeof o.prototype.indexOf=="function"?F?o.prototype.indexOf.call(C,m,v):o.prototype.lastIndexOf.call(C,m,v):H(C,[m],v,M,F);throw new TypeError("val must be string, number or Buffer")}function H(C,m,v,M,F){let j=1,Y=C.length,xe=m.length;if(M!==void 0&&(M=String(M).toLowerCase(),M==="ucs2"||M==="ucs-2"||M==="utf16le"||M==="utf-16le")){if(C.length<2||m.length<2)return-1;j=2,Y/=2,xe/=2,v/=2}function ke(nt,be){return j===1?nt[be]:nt.readUInt16BE(be*j)}let Se;if(F){let nt=-1;for(Se=v;Se<Y;Se++)if(ke(C,Se)===ke(m,nt===-1?0:Se-nt)){if(nt===-1&&(nt=Se),Se-nt+1===xe)return nt*j}else nt!==-1&&(Se-=Se-nt),nt=-1}else for(v+xe>Y&&(v=Y-xe),Se=v;Se>=0;Se--){let nt=!0;for(let be=0;be<xe;be++)if(ke(C,Se+be)!==ke(m,be)){nt=!1;break}if(nt)return Se}return-1}u.prototype.includes=function(m,v,M){return this.indexOf(m,v,M)!==-1},u.prototype.indexOf=function(m,v,M){return z(this,m,v,M,!0)},u.prototype.lastIndexOf=function(m,v,M){return z(this,m,v,M,!1)};function q(C,m,v,M){v=Number(v)||0;const F=C.length-v;M?(M=Number(M),M>F&&(M=F)):M=F;const j=m.length;M>j/2&&(M=j/2);let Y;for(Y=0;Y<M;++Y){const xe=parseInt(m.substr(Y*2,2),16);if(st(xe))return Y;C[v+Y]=xe}return Y}function $(C,m,v,M){return tt(ot(m,C.length-v),C,v,M)}function R(C,m,v,M){return tt(St(m),C,v,M)}function d(C,m,v,M){return tt(ft(m),C,v,M)}function f(C,m,v,M){return tt(El(m,C.length-v),C,v,M)}u.prototype.write=function(m,v,M,F){if(v===void 0)F="utf8",M=this.length,v=0;else if(M===void 0&&typeof v=="string")F=v,M=this.length,v=0;else if(isFinite(v))v=v>>>0,isFinite(M)?(M=M>>>0,F===void 0&&(F="utf8")):(F=M,M=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const j=this.length-v;if((M===void 0||M>j)&&(M=j),m.length>0&&(M<0||v<0)||v>this.length)throw new RangeError("Attempt to write outside buffer bounds");F||(F="utf8");let Y=!1;for(;;)switch(F){case"hex":return q(this,m,v,M);case"utf8":case"utf-8":return $(this,m,v,M);case"ascii":case"latin1":case"binary":return R(this,m,v,M);case"base64":return d(this,m,v,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f(this,m,v,M);default:if(Y)throw new TypeError("Unknown encoding: "+F);F=(""+F).toLowerCase(),Y=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function S(C,m,v){return m===0&&v===C.length?e.fromByteArray(C):e.fromByteArray(C.slice(m,v))}function T(C,m,v){v=Math.min(C.length,v);const M=[];let F=m;for(;F<v;){const j=C[F];let Y=null,xe=j>239?4:j>223?3:j>191?2:1;if(F+xe<=v){let ke,Se,nt,be;switch(xe){case 1:j<128&&(Y=j);break;case 2:ke=C[F+1],(ke&192)===128&&(be=(j&31)<<6|ke&63,be>127&&(Y=be));break;case 3:ke=C[F+1],Se=C[F+2],(ke&192)===128&&(Se&192)===128&&(be=(j&15)<<12|(ke&63)<<6|Se&63,be>2047&&(be<55296||be>57343)&&(Y=be));break;case 4:ke=C[F+1],Se=C[F+2],nt=C[F+3],(ke&192)===128&&(Se&192)===128&&(nt&192)===128&&(be=(j&15)<<18|(ke&63)<<12|(Se&63)<<6|nt&63,be>65535&&be<1114112&&(Y=be))}}Y===null?(Y=65533,xe=1):Y>65535&&(Y-=65536,M.push(Y>>>10&1023|55296),Y=56320|Y&1023),M.push(Y),F+=xe}return O(M)}const I=4096;function O(C){const m=C.length;if(m<=I)return String.fromCharCode.apply(String,C);let v="",M=0;for(;M<m;)v+=String.fromCharCode.apply(String,C.slice(M,M+=I));return v}function P(C,m,v){let M="";v=Math.min(C.length,v);for(let F=m;F<v;++F)M+=String.fromCharCode(C[F]&127);return M}function N(C,m,v){let M="";v=Math.min(C.length,v);for(let F=m;F<v;++F)M+=String.fromCharCode(C[F]);return M}function y(C,m,v){const M=C.length;(!m||m<0)&&(m=0),(!v||v<0||v>M)&&(v=M);let F="";for(let j=m;j<v;++j)F+=Rt[C[j]];return F}function B(C,m,v){const M=C.slice(m,v);let F="";for(let j=0;j<M.length-1;j+=2)F+=String.fromCharCode(M[j]+M[j+1]*256);return F}u.prototype.slice=function(m,v){const M=this.length;m=~~m,v=v===void 0?M:~~v,m<0?(m+=M,m<0&&(m=0)):m>M&&(m=M),v<0?(v+=M,v<0&&(v=0)):v>M&&(v=M),v<m&&(v=m);const F=this.subarray(m,v);return Object.setPrototypeOf(F,u.prototype),F};function te(C,m,v){if(C%1!==0||C<0)throw new RangeError("offset is not uint");if(C+m>v)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(m,v,M){m=m>>>0,v=v>>>0,M||te(m,v,this.length);let F=this[m],j=1,Y=0;for(;++Y<v&&(j*=256);)F+=this[m+Y]*j;return F},u.prototype.readUintBE=u.prototype.readUIntBE=function(m,v,M){m=m>>>0,v=v>>>0,M||te(m,v,this.length);let F=this[m+--v],j=1;for(;v>0&&(j*=256);)F+=this[m+--v]*j;return F},u.prototype.readUint8=u.prototype.readUInt8=function(m,v){return m=m>>>0,v||te(m,1,this.length),this[m]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(m,v){return m=m>>>0,v||te(m,2,this.length),this[m]|this[m+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(m,v){return m=m>>>0,v||te(m,2,this.length),this[m]<<8|this[m+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(m,v){return m=m>>>0,v||te(m,4,this.length),(this[m]|this[m+1]<<8|this[m+2]<<16)+this[m+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(m,v){return m=m>>>0,v||te(m,4,this.length),this[m]*16777216+(this[m+1]<<16|this[m+2]<<8|this[m+3])},u.prototype.readBigUInt64LE=Sr(function(m){m=m>>>0,ii(m,"offset");const v=this[m],M=this[m+7];(v===void 0||M===void 0)&&Ze(m,this.length-8);const F=v+this[++m]*2**8+this[++m]*2**16+this[++m]*2**24,j=this[++m]+this[++m]*2**8+this[++m]*2**16+M*2**24;return BigInt(F)+(BigInt(j)<<BigInt(32))}),u.prototype.readBigUInt64BE=Sr(function(m){m=m>>>0,ii(m,"offset");const v=this[m],M=this[m+7];(v===void 0||M===void 0)&&Ze(m,this.length-8);const F=v*2**24+this[++m]*2**16+this[++m]*2**8+this[++m],j=this[++m]*2**24+this[++m]*2**16+this[++m]*2**8+M;return(BigInt(F)<<BigInt(32))+BigInt(j)}),u.prototype.readIntLE=function(m,v,M){m=m>>>0,v=v>>>0,M||te(m,v,this.length);let F=this[m],j=1,Y=0;for(;++Y<v&&(j*=256);)F+=this[m+Y]*j;return j*=128,F>=j&&(F-=Math.pow(2,8*v)),F},u.prototype.readIntBE=function(m,v,M){m=m>>>0,v=v>>>0,M||te(m,v,this.length);let F=v,j=1,Y=this[m+--F];for(;F>0&&(j*=256);)Y+=this[m+--F]*j;return j*=128,Y>=j&&(Y-=Math.pow(2,8*v)),Y},u.prototype.readInt8=function(m,v){return m=m>>>0,v||te(m,1,this.length),this[m]&128?(255-this[m]+1)*-1:this[m]},u.prototype.readInt16LE=function(m,v){m=m>>>0,v||te(m,2,this.length);const M=this[m]|this[m+1]<<8;return M&32768?M|4294901760:M},u.prototype.readInt16BE=function(m,v){m=m>>>0,v||te(m,2,this.length);const M=this[m+1]|this[m]<<8;return M&32768?M|4294901760:M},u.prototype.readInt32LE=function(m,v){return m=m>>>0,v||te(m,4,this.length),this[m]|this[m+1]<<8|this[m+2]<<16|this[m+3]<<24},u.prototype.readInt32BE=function(m,v){return m=m>>>0,v||te(m,4,this.length),this[m]<<24|this[m+1]<<16|this[m+2]<<8|this[m+3]},u.prototype.readBigInt64LE=Sr(function(m){m=m>>>0,ii(m,"offset");const v=this[m],M=this[m+7];(v===void 0||M===void 0)&&Ze(m,this.length-8);const F=this[m+4]+this[m+5]*2**8+this[m+6]*2**16+(M<<24);return(BigInt(F)<<BigInt(32))+BigInt(v+this[++m]*2**8+this[++m]*2**16+this[++m]*2**24)}),u.prototype.readBigInt64BE=Sr(function(m){m=m>>>0,ii(m,"offset");const v=this[m],M=this[m+7];(v===void 0||M===void 0)&&Ze(m,this.length-8);const F=(v<<24)+this[++m]*2**16+this[++m]*2**8+this[++m];return(BigInt(F)<<BigInt(32))+BigInt(this[++m]*2**24+this[++m]*2**16+this[++m]*2**8+M)}),u.prototype.readFloatLE=function(m,v){return m=m>>>0,v||te(m,4,this.length),t.read(this,m,!0,23,4)},u.prototype.readFloatBE=function(m,v){return m=m>>>0,v||te(m,4,this.length),t.read(this,m,!1,23,4)},u.prototype.readDoubleLE=function(m,v){return m=m>>>0,v||te(m,8,this.length),t.read(this,m,!0,52,8)},u.prototype.readDoubleBE=function(m,v){return m=m>>>0,v||te(m,8,this.length),t.read(this,m,!1,52,8)};function ne(C,m,v,M,F,j){if(!u.isBuffer(C))throw new TypeError('"buffer" argument must be a Buffer instance');if(m>F||m<j)throw new RangeError('"value" argument is out of bounds');if(v+M>C.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(m,v,M,F){if(m=+m,v=v>>>0,M=M>>>0,!F){const xe=Math.pow(2,8*M)-1;ne(this,m,v,M,xe,0)}let j=1,Y=0;for(this[v]=m&255;++Y<M&&(j*=256);)this[v+Y]=m/j&255;return v+M},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(m,v,M,F){if(m=+m,v=v>>>0,M=M>>>0,!F){const xe=Math.pow(2,8*M)-1;ne(this,m,v,M,xe,0)}let j=M-1,Y=1;for(this[v+j]=m&255;--j>=0&&(Y*=256);)this[v+j]=m/Y&255;return v+M},u.prototype.writeUint8=u.prototype.writeUInt8=function(m,v,M){return m=+m,v=v>>>0,M||ne(this,m,v,1,255,0),this[v]=m&255,v+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(m,v,M){return m=+m,v=v>>>0,M||ne(this,m,v,2,65535,0),this[v]=m&255,this[v+1]=m>>>8,v+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(m,v,M){return m=+m,v=v>>>0,M||ne(this,m,v,2,65535,0),this[v]=m>>>8,this[v+1]=m&255,v+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(m,v,M){return m=+m,v=v>>>0,M||ne(this,m,v,4,4294967295,0),this[v+3]=m>>>24,this[v+2]=m>>>16,this[v+1]=m>>>8,this[v]=m&255,v+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(m,v,M){return m=+m,v=v>>>0,M||ne(this,m,v,4,4294967295,0),this[v]=m>>>24,this[v+1]=m>>>16,this[v+2]=m>>>8,this[v+3]=m&255,v+4};function ae(C,m,v,M,F){dt(m,M,F,C,v,7);let j=Number(m&BigInt(4294967295));C[v++]=j,j=j>>8,C[v++]=j,j=j>>8,C[v++]=j,j=j>>8,C[v++]=j;let Y=Number(m>>BigInt(32)&BigInt(4294967295));return C[v++]=Y,Y=Y>>8,C[v++]=Y,Y=Y>>8,C[v++]=Y,Y=Y>>8,C[v++]=Y,v}function Re(C,m,v,M,F){dt(m,M,F,C,v,7);let j=Number(m&BigInt(4294967295));C[v+7]=j,j=j>>8,C[v+6]=j,j=j>>8,C[v+5]=j,j=j>>8,C[v+4]=j;let Y=Number(m>>BigInt(32)&BigInt(4294967295));return C[v+3]=Y,Y=Y>>8,C[v+2]=Y,Y=Y>>8,C[v+1]=Y,Y=Y>>8,C[v]=Y,v+8}u.prototype.writeBigUInt64LE=Sr(function(m,v=0){return ae(this,m,v,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=Sr(function(m,v=0){return Re(this,m,v,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(m,v,M,F){if(m=+m,v=v>>>0,!F){const ke=Math.pow(2,8*M-1);ne(this,m,v,M,ke-1,-ke)}let j=0,Y=1,xe=0;for(this[v]=m&255;++j<M&&(Y*=256);)m<0&&xe===0&&this[v+j-1]!==0&&(xe=1),this[v+j]=(m/Y>>0)-xe&255;return v+M},u.prototype.writeIntBE=function(m,v,M,F){if(m=+m,v=v>>>0,!F){const ke=Math.pow(2,8*M-1);ne(this,m,v,M,ke-1,-ke)}let j=M-1,Y=1,xe=0;for(this[v+j]=m&255;--j>=0&&(Y*=256);)m<0&&xe===0&&this[v+j+1]!==0&&(xe=1),this[v+j]=(m/Y>>0)-xe&255;return v+M},u.prototype.writeInt8=function(m,v,M){return m=+m,v=v>>>0,M||ne(this,m,v,1,127,-128),m<0&&(m=255+m+1),this[v]=m&255,v+1},u.prototype.writeInt16LE=function(m,v,M){return m=+m,v=v>>>0,M||ne(this,m,v,2,32767,-32768),this[v]=m&255,this[v+1]=m>>>8,v+2},u.prototype.writeInt16BE=function(m,v,M){return m=+m,v=v>>>0,M||ne(this,m,v,2,32767,-32768),this[v]=m>>>8,this[v+1]=m&255,v+2},u.prototype.writeInt32LE=function(m,v,M){return m=+m,v=v>>>0,M||ne(this,m,v,4,2147483647,-2147483648),this[v]=m&255,this[v+1]=m>>>8,this[v+2]=m>>>16,this[v+3]=m>>>24,v+4},u.prototype.writeInt32BE=function(m,v,M){return m=+m,v=v>>>0,M||ne(this,m,v,4,2147483647,-2147483648),m<0&&(m=4294967295+m+1),this[v]=m>>>24,this[v+1]=m>>>16,this[v+2]=m>>>8,this[v+3]=m&255,v+4},u.prototype.writeBigInt64LE=Sr(function(m,v=0){return ae(this,m,v,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=Sr(function(m,v=0){return Re(this,m,v,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ae(C,m,v,M,F,j){if(v+M>C.length)throw new RangeError("Index out of range");if(v<0)throw new RangeError("Index out of range")}function Ee(C,m,v,M,F){return m=+m,v=v>>>0,F||Ae(C,m,v,4),t.write(C,m,v,M,23,4),v+4}u.prototype.writeFloatLE=function(m,v,M){return Ee(this,m,v,!0,M)},u.prototype.writeFloatBE=function(m,v,M){return Ee(this,m,v,!1,M)};function _t(C,m,v,M,F){return m=+m,v=v>>>0,F||Ae(C,m,v,8),t.write(C,m,v,M,52,8),v+8}u.prototype.writeDoubleLE=function(m,v,M){return _t(this,m,v,!0,M)},u.prototype.writeDoubleBE=function(m,v,M){return _t(this,m,v,!1,M)},u.prototype.copy=function(m,v,M,F){if(!u.isBuffer(m))throw new TypeError("argument should be a Buffer");if(M||(M=0),!F&&F!==0&&(F=this.length),v>=m.length&&(v=m.length),v||(v=0),F>0&&F<M&&(F=M),F===M||m.length===0||this.length===0)return 0;if(v<0)throw new RangeError("targetStart out of bounds");if(M<0||M>=this.length)throw new RangeError("Index out of range");if(F<0)throw new RangeError("sourceEnd out of bounds");F>this.length&&(F=this.length),m.length-v<F-M&&(F=m.length-v+M);const j=F-M;return this===m&&typeof o.prototype.copyWithin=="function"?this.copyWithin(v,M,F):o.prototype.set.call(m,this.subarray(M,F),v),j},u.prototype.fill=function(m,v,M,F){if(typeof m=="string"){if(typeof v=="string"?(F=v,v=0,M=this.length):typeof M=="string"&&(F=M,M=this.length),F!==void 0&&typeof F!="string")throw new TypeError("encoding must be a string");if(typeof F=="string"&&!u.isEncoding(F))throw new TypeError("Unknown encoding: "+F);if(m.length===1){const Y=m.charCodeAt(0);(F==="utf8"&&Y<128||F==="latin1")&&(m=Y)}}else typeof m=="number"?m=m&255:typeof m=="boolean"&&(m=Number(m));if(v<0||this.length<v||this.length<M)throw new RangeError("Out of range index");if(M<=v)return this;v=v>>>0,M=M===void 0?this.length:M>>>0,m||(m=0);let j;if(typeof m=="number")for(j=v;j<M;++j)this[j]=m;else{const Y=u.isBuffer(m)?m:u.from(m,F),xe=Y.length;if(xe===0)throw new TypeError('The value "'+m+'" is invalid for argument "value"');for(j=0;j<M-v;++j)this[j+v]=Y[j%xe]}return this};const Ue={};function qe(C,m,v){Ue[C]=class extends v{constructor(){super(),Object.defineProperty(this,"message",{value:m.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${C}]`,this.stack,delete this.name}get code(){return C}set code(F){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:F,writable:!0})}toString(){return`${this.name} [${C}]: ${this.message}`}}}qe("ERR_BUFFER_OUT_OF_BOUNDS",function(C){return C?`${C} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),qe("ERR_INVALID_ARG_TYPE",function(C,m){return`The "${C}" argument must be of type number. Received type ${typeof m}`},TypeError),qe("ERR_OUT_OF_RANGE",function(C,m,v){let M=`The value of "${C}" is out of range.`,F=v;return Number.isInteger(v)&&Math.abs(v)>2**32?F=Pi(String(v)):typeof v=="bigint"&&(F=String(v),(v>BigInt(2)**BigInt(32)||v<-(BigInt(2)**BigInt(32)))&&(F=Pi(F)),F+="n"),M+=` It must be ${m}. Received ${F}`,M},RangeError);function Pi(C){let m="",v=C.length;const M=C[0]==="-"?1:0;for(;v>=M+4;v-=3)m=`_${C.slice(v-3,v)}${m}`;return`${C.slice(0,v)}${m}`}function Et(C,m,v){ii(m,"offset"),(C[m]===void 0||C[m+v]===void 0)&&Ze(m,C.length-(v+1))}function dt(C,m,v,M,F,j){if(C>v||C<m){const Y=typeof m=="bigint"?"n":"";let xe;throw m===0||m===BigInt(0)?xe=`>= 0${Y} and < 2${Y} ** ${(j+1)*8}${Y}`:xe=`>= -(2${Y} ** ${(j+1)*8-1}${Y}) and < 2 ** ${(j+1)*8-1}${Y}`,new Ue.ERR_OUT_OF_RANGE("value",xe,C)}Et(M,F,j)}function ii(C,m){if(typeof C!="number")throw new Ue.ERR_INVALID_ARG_TYPE(m,"number",C)}function Ze(C,m,v){throw Math.floor(C)!==C?(ii(C,v),new Ue.ERR_OUT_OF_RANGE("offset","an integer",C)):m<0?new Ue.ERR_BUFFER_OUT_OF_BOUNDS:new Ue.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${m}`,C)}const bt=/[^+/0-9A-Za-z-_]/g;function _l(C){if(C=C.split("=")[0],C=C.trim().replace(bt,""),C.length<2)return"";for(;C.length%4!==0;)C=C+"=";return C}function ot(C,m){m=m||1/0;let v;const M=C.length;let F=null;const j=[];for(let Y=0;Y<M;++Y){if(v=C.charCodeAt(Y),v>55295&&v<57344){if(!F){if(v>56319){(m-=3)>-1&&j.push(239,191,189);continue}else if(Y+1===M){(m-=3)>-1&&j.push(239,191,189);continue}F=v;continue}if(v<56320){(m-=3)>-1&&j.push(239,191,189),F=v;continue}v=(F-55296<<10|v-56320)+65536}else F&&(m-=3)>-1&&j.push(239,191,189);if(F=null,v<128){if((m-=1)<0)break;j.push(v)}else if(v<2048){if((m-=2)<0)break;j.push(v>>6|192,v&63|128)}else if(v<65536){if((m-=3)<0)break;j.push(v>>12|224,v>>6&63|128,v&63|128)}else if(v<1114112){if((m-=4)<0)break;j.push(v>>18|240,v>>12&63|128,v>>6&63|128,v&63|128)}else throw new Error("Invalid code point")}return j}function St(C){const m=[];for(let v=0;v<C.length;++v)m.push(C.charCodeAt(v)&255);return m}function El(C,m){let v,M,F;const j=[];for(let Y=0;Y<C.length&&!((m-=2)<0);++Y)v=C.charCodeAt(Y),M=v>>8,F=v%256,j.push(F),j.push(M);return j}function ft(C){return e.toByteArray(_l(C))}function tt(C,m,v,M){let F;for(F=0;F<M&&!(F+v>=m.length||F>=C.length);++F)m[F+v]=C[F];return F}function Zn(C,m){return C instanceof m||C!=null&&C.constructor!=null&&C.constructor.name!=null&&C.constructor.name===m.name}function st(C){return C!==C}const Rt=function(){const C="0123456789abcdef",m=new Array(256);for(let v=0;v<16;++v){const M=v*16;for(let F=0;F<16;++F)m[M+F]=C[v]+C[F]}return m}();function Sr(C){return typeof BigInt>"u"?At:C}function At(){throw new Error("BigInt not supported")}})(rn);const de=rn.Buffer,XI=rn.Blob,QI=rn.BlobOptions,me=rn.Buffer,JI=rn.File,ex=rn.FileOptions,tx=rn.INSPECT_MAX_BYTES,nx=rn.SlowBuffer,rx=rn.TranscodeEncoding,ix=rn.atob,ox=rn.btoa,sx=rn.constants,ax=rn.isAscii,cx=rn.isUtf8,lx=rn.kMaxLength,ux=rn.kStringMaxLength,dx=rn.resolveObjectURL,fx=rn.transcode,hx=Object.freeze(Object.defineProperty({__proto__:null,Blob:XI,BlobOptions:QI,Buffer:me,File:JI,FileOptions:ex,INSPECT_MAX_BYTES:tx,SlowBuffer:nx,TranscodeEncoding:rx,atob:ix,btoa:ox,constants:sx,default:de,isAscii:ax,isUtf8:cx,kMaxLength:lx,kStringMaxLength:ux,resolveObjectURL:dx,transcode:fx},Symbol.toStringTag,{value:"Module"})),Ss=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function sl(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function Kc(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function xi(n,...e){if(!sl(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error("Uint8Array expected of length "+e+", got length="+n.length)}function uE(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Kc(n.outputLen),Kc(n.blockLen)}function ma(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function dE(n,e){xi(n);const t=e.outputLen;if(n.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}function px(n){return new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4))}function Eo(...n){for(let e=0;e<n.length;e++)n[e].fill(0)}function ph(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function zr(n,e){return n<<32-e|n>>>e}const gx=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function mx(n){return n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255}function yx(n){for(let e=0;e<n.length;e++)n[e]=mx(n[e]);return n}const nw=gx?n=>n:yx,fE=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",wx=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function ts(n){if(xi(n),fE)return n.toHex();let e="";for(let t=0;t<n.length;t++)e+=wx[n[t]];return e}const oi={_0:48,_9:57,A:65,F:70,a:97,f:102};function rw(n){if(n>=oi._0&&n<=oi._9)return n-oi._0;if(n>=oi.A&&n<=oi.F)return n-(oi.A-10);if(n>=oi.a&&n<=oi.f)return n-(oi.a-10)}function id(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);if(fE)return Uint8Array.fromHex(n);const e=n.length,t=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let i=0,o=0;i<t;i++,o+=2){const s=rw(n.charCodeAt(o)),a=rw(n.charCodeAt(o+1));if(s===void 0||a===void 0){const c=n[o]+n[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}r[i]=s*16+a}return r}function vx(n){if(typeof n!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(n))}function Vd(n){return typeof n=="string"&&(n=vx(n)),xi(n),n}function Vr(...n){let e=0;for(let r=0;r<n.length;r++){const i=n[r];xi(i),e+=i.length}const t=new Uint8Array(e);for(let r=0,i=0;r<n.length;r++){const o=n[r];t.set(o,i),i+=o.length}return t}class Ug{}function zg(n){const e=r=>n().update(Vd(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function Fg(n=32){if(Ss&&typeof Ss.getRandomValues=="function")return Ss.getRandomValues(new Uint8Array(n));if(Ss&&typeof Ss.randomBytes=="function")return Uint8Array.from(Ss.randomBytes(n));throw new Error("crypto.getRandomValues must be defined")}function _x(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(t>>i&o),a=Number(t&o),c=r?4:0,l=r?0:4;n.setUint32(e+c,s,r),n.setUint32(e+l,a,r)}function Ex(n,e,t){return n&e^~n&t}function bx(n,e,t){return n&e^n&t^e&t}class hE extends Ug{constructor(e,t,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=ph(this.buffer)}update(e){ma(this),e=Vd(e),xi(e);const{view:t,buffer:r,blockLen:i}=this,o=e.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const c=ph(e);for(;i<=o-s;s+=i)this.process(c,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ma(this),dE(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;t[s++]=128,Eo(this.buffer.subarray(s)),this.padOffset>i-s&&(this.process(r,0),s=0);for(let p=s;p<i;p++)t[p]=0;_x(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=ph(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<l;p++)a.setUint32(4*p,u[p],o)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return e.destroyed=s,e.finished=o,e.length=i,e.pos=a,i%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const Ui=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),En=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),zl=BigInt(2**32-1),iw=BigInt(32);function Sx(n,e=!1){return e?{h:Number(n&zl),l:Number(n>>iw&zl)}:{h:Number(n>>iw&zl)|0,l:Number(n&zl)|0}}function pE(n,e=!1){const t=n.length;let r=new Uint32Array(t),i=new Uint32Array(t);for(let o=0;o<t;o++){const{h:s,l:a}=Sx(n[o],e);[r[o],i[o]]=[s,a]}return[r,i]}const ow=(n,e,t)=>n>>>t,sw=(n,e,t)=>n<<32-t|e>>>t,Rs=(n,e,t)=>n>>>t|e<<32-t,As=(n,e,t)=>n<<32-t|e>>>t,Fl=(n,e,t)=>n<<64-t|e>>>t-32,Wl=(n,e,t)=>n>>>t-32|e<<64-t,Rx=(n,e,t)=>n<<t|e>>>32-t,Ax=(n,e,t)=>e<<t|n>>>32-t,kx=(n,e,t)=>e<<t-32|n>>>64-t,Ix=(n,e,t)=>n<<t-32|e>>>64-t;function si(n,e,t,r){const i=(e>>>0)+(r>>>0);return{h:n+t+(i/2**32|0)|0,l:i|0}}const xx=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),Tx=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,Cx=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),Nx=(n,e,t,r,i)=>e+t+r+i+(n/2**32|0)|0,Ox=(n,e,t,r,i)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0),Mx=(n,e,t,r,i,o)=>e+t+r+i+o+(n/2**32|0)|0,Bx=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),zi=new Uint32Array(64);class Lx extends hE{constructor(e=32){super(64,e,8,!1),this.A=Ui[0]|0,this.B=Ui[1]|0,this.C=Ui[2]|0,this.D=Ui[3]|0,this.E=Ui[4]|0,this.F=Ui[5]|0,this.G=Ui[6]|0,this.H=Ui[7]|0}get(){const{A:e,B:t,C:r,D:i,E:o,F:s,G:a,H:c}=this;return[e,t,r,i,o,s,a,c]}set(e,t,r,i,o,s,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=c|0}process(e,t){for(let p=0;p<16;p++,t+=4)zi[p]=e.getUint32(t,!1);for(let p=16;p<64;p++){const g=zi[p-15],h=zi[p-2],w=zr(g,7)^zr(g,18)^g>>>3,k=zr(h,17)^zr(h,19)^h>>>10;zi[p]=k+zi[p-7]+w+zi[p-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:c,G:l,H:u}=this;for(let p=0;p<64;p++){const g=zr(a,6)^zr(a,11)^zr(a,25),h=u+g+Ex(a,c,l)+Bx[p]+zi[p]|0,k=(zr(r,2)^zr(r,13)^zr(r,22))+bx(r,i,o)|0;u=l,l=c,c=a,a=s+h|0,s=o,o=i,i=r,r=h+k|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,o,s,a,c,l,u)}roundClean(){Eo(zi)}destroy(){this.set(0,0,0,0,0,0,0,0),Eo(this.buffer)}}const gE=pE(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),Px=gE[0],Dx=gE[1],Fi=new Uint32Array(80),Wi=new Uint32Array(80);class Ux extends hE{constructor(e=64){super(128,e,16,!1),this.Ah=En[0]|0,this.Al=En[1]|0,this.Bh=En[2]|0,this.Bl=En[3]|0,this.Ch=En[4]|0,this.Cl=En[5]|0,this.Dh=En[6]|0,this.Dl=En[7]|0,this.Eh=En[8]|0,this.El=En[9]|0,this.Fh=En[10]|0,this.Fl=En[11]|0,this.Gh=En[12]|0,this.Gl=En[13]|0,this.Hh=En[14]|0,this.Hl=En[15]|0}get(){const{Ah:e,Al:t,Bh:r,Bl:i,Ch:o,Cl:s,Dh:a,Dl:c,Eh:l,El:u,Fh:p,Fl:g,Gh:h,Gl:w,Hh:k,Hl:A}=this;return[e,t,r,i,o,s,a,c,l,u,p,g,h,w,k,A]}set(e,t,r,i,o,s,a,c,l,u,p,g,h,w,k,A){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=p|0,this.Fl=g|0,this.Gh=h|0,this.Gl=w|0,this.Hh=k|0,this.Hl=A|0}process(e,t){for(let _=0;_<16;_++,t+=4)Fi[_]=e.getUint32(t),Wi[_]=e.getUint32(t+=4);for(let _=16;_<80;_++){const x=Fi[_-15]|0,L=Wi[_-15]|0,U=Rs(x,L,1)^Rs(x,L,8)^ow(x,L,7),D=As(x,L,1)^As(x,L,8)^sw(x,L,7),W=Fi[_-2]|0,z=Wi[_-2]|0,H=Rs(W,z,19)^Fl(W,z,61)^ow(W,z,6),q=As(W,z,19)^Wl(W,z,61)^sw(W,z,6),$=Cx(D,q,Wi[_-7],Wi[_-16]),R=Nx($,U,H,Fi[_-7],Fi[_-16]);Fi[_]=R|0,Wi[_]=$|0}let{Ah:r,Al:i,Bh:o,Bl:s,Ch:a,Cl:c,Dh:l,Dl:u,Eh:p,El:g,Fh:h,Fl:w,Gh:k,Gl:A,Hh:E,Hl:b}=this;for(let _=0;_<80;_++){const x=Rs(p,g,14)^Rs(p,g,18)^Fl(p,g,41),L=As(p,g,14)^As(p,g,18)^Wl(p,g,41),U=p&h^~p&k,D=g&w^~g&A,W=Ox(b,L,D,Dx[_],Wi[_]),z=Mx(W,E,x,U,Px[_],Fi[_]),H=W|0,q=Rs(r,i,28)^Fl(r,i,34)^Fl(r,i,39),$=As(r,i,28)^Wl(r,i,34)^Wl(r,i,39),R=r&o^r&a^o&a,d=i&s^i&c^s&c;E=k|0,b=A|0,k=h|0,A=w|0,h=p|0,w=g|0,{h:p,l:g}=si(l|0,u|0,z|0,H|0),l=a|0,u=c|0,a=o|0,c=s|0,o=r|0,s=i|0;const f=xx(H,$,d);r=Tx(f,z,q,R),i=f|0}({h:r,l:i}=si(this.Ah|0,this.Al|0,r|0,i|0)),{h:o,l:s}=si(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l:c}=si(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=si(this.Dh|0,this.Dl|0,l|0,u|0),{h:p,l:g}=si(this.Eh|0,this.El|0,p|0,g|0),{h,l:w}=si(this.Fh|0,this.Fl|0,h|0,w|0),{h:k,l:A}=si(this.Gh|0,this.Gl|0,k|0,A|0),{h:E,l:b}=si(this.Hh|0,this.Hl|0,E|0,b|0),this.set(r,i,o,s,a,c,l,u,p,g,h,w,k,A,E,b)}roundClean(){Eo(Fi,Wi)}destroy(){Eo(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const mE=zg(()=>new Lx),zx=zg(()=>new Ux);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Wg=BigInt(0),Xp=BigInt(1);function cs(n,e=""){if(typeof n!="boolean"){const t=e&&`"${e}"`;throw new Error(t+"expected boolean, got type="+typeof n)}return n}function Cr(n,e,t=""){const r=sl(n),i=n==null?void 0:n.length,o=e!==void 0;if(!r||o&&i!==e){const s=t&&`"${t}" `,a=o?` of length ${e}`:"",c=r?`length=${i}`:`type=${typeof n}`;throw new Error(s+"expected Uint8Array"+a+", got "+c)}return n}function Hl(n){const e=n.toString(16);return e.length&1?"0"+e:e}function yE(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return n===""?Wg:BigInt("0x"+n)}function $d(n){return yE(ts(n))}function Vc(n){return xi(n),yE(ts(Uint8Array.from(n).reverse()))}function Hg(n,e){return id(n.toString(16).padStart(e*2,"0"))}function wE(n,e){return Hg(n,e).reverse()}function It(n,e,t){let r;if(typeof e=="string")try{r=id(e)}catch(o){throw new Error(n+" must be hex string or Uint8Array, cause: "+o)}else if(sl(e))r=Uint8Array.from(e);else throw new Error(n+" must be hex string or Uint8Array");const i=r.length;if(typeof t=="number"&&i!==t)throw new Error(n+" of length "+t+" expected, got "+i);return r}function aw(n){return Uint8Array.from(n)}const gh=n=>typeof n=="bigint"&&Wg<=n;function Fx(n,e,t){return gh(n)&&gh(e)&&gh(t)&&e<=n&&n<t}function Qp(n,e,t,r){if(!Fx(e,t,r))throw new Error("expected valid "+n+": "+t+" <= n < "+r+", got "+e)}function vE(n){let e;for(e=0;n>Wg;n>>=Xp,e+=1);return e}const al=n=>(Xp<<BigInt(n))-Xp;function Wx(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");const r=h=>new Uint8Array(h),i=h=>Uint8Array.of(h);let o=r(n),s=r(n),a=0;const c=()=>{o.fill(1),s.fill(0),a=0},l=(...h)=>t(s,o,...h),u=(h=r(0))=>{s=l(i(0),h),o=l(),h.length!==0&&(s=l(i(1),h),o=l())},p=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const w=[];for(;h<e;){o=l();const k=o.slice();w.push(k),h+=o.length}return Vr(...w)};return(h,w)=>{c(),u(h);let k;for(;!(k=w(p()));)u();return c(),k}}function cl(n,e,t={}){if(!n||typeof n!="object")throw new Error("expected valid options object");function r(i,o,s){const a=n[i];if(s&&a===void 0)return;const c=typeof a;if(c!==o||a===null)throw new Error(`param "${i}" is invalid: expected ${o}, got ${c}`)}Object.entries(e).forEach(([i,o])=>r(i,o,!1)),Object.entries(t).forEach(([i,o])=>r(i,o,!0))}function od(n){const e=new WeakMap;return(t,...r)=>{const i=e.get(t);if(i!==void 0)return i;const o=n(t,...r);return e.set(t,o),o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Kn=BigInt(0),yn=BigInt(1),Ho=BigInt(2),_E=BigInt(3),EE=BigInt(4),bE=BigInt(5),Hx=BigInt(7),SE=BigInt(8),jx=BigInt(9),RE=BigInt(16);function Yt(n,e){const t=n%e;return t>=Kn?t:e+t}function kt(n,e,t){let r=n;for(;e-- >Kn;)r*=r,r%=t;return r}function cw(n,e){if(n===Kn)throw new Error("invert: expected non-zero number");if(e<=Kn)throw new Error("invert: expected positive modulus, got "+e);let t=Yt(n,e),r=e,i=Kn,o=yn;for(;t!==Kn;){const a=r/t,c=r%t,l=i-o*a;r=t,t=c,i=o,o=l}if(r!==yn)throw new Error("invert: does not exist");return Yt(i,e)}function jg(n,e,t){if(!n.eql(n.sqr(e),t))throw new Error("Cannot find square root")}function AE(n,e){const t=(n.ORDER+yn)/EE,r=n.pow(e,t);return jg(n,r,e),r}function Kx(n,e){const t=(n.ORDER-bE)/SE,r=n.mul(e,Ho),i=n.pow(r,t),o=n.mul(e,i),s=n.mul(n.mul(o,Ho),i),a=n.mul(o,n.sub(s,n.ONE));return jg(n,a,e),a}function Vx(n){const e=ps(n),t=kE(n),r=t(e,e.neg(e.ONE)),i=t(e,r),o=t(e,e.neg(r)),s=(n+Hx)/RE;return(a,c)=>{let l=a.pow(c,s),u=a.mul(l,r);const p=a.mul(l,i),g=a.mul(l,o),h=a.eql(a.sqr(u),c),w=a.eql(a.sqr(p),c);l=a.cmov(l,u,h),u=a.cmov(g,p,w);const k=a.eql(a.sqr(u),c),A=a.cmov(l,u,k);return jg(a,A,c),A}}function kE(n){if(n<_E)throw new Error("sqrt is not defined for small field");let e=n-yn,t=0;for(;e%Ho===Kn;)e/=Ho,t++;let r=Ho;const i=ps(n);for(;lw(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(t===1)return AE;let o=i.pow(r,e);const s=(e+yn)/Ho;return function(c,l){if(c.is0(l))return l;if(lw(c,l)!==1)throw new Error("Cannot find square root");let u=t,p=c.mul(c.ONE,o),g=c.pow(l,e),h=c.pow(l,s);for(;!c.eql(g,c.ONE);){if(c.is0(g))return c.ZERO;let w=1,k=c.sqr(g);for(;!c.eql(k,c.ONE);)if(w++,k=c.sqr(k),w===u)throw new Error("Cannot find square root");const A=yn<<BigInt(u-w-1),E=c.pow(p,A);u=w,p=c.sqr(E),g=c.mul(g,p),h=c.mul(h,E)}return h}}function $x(n){return n%EE===_E?AE:n%SE===bE?Kx:n%RE===jx?Vx(n):kE(n)}const Gx=(n,e)=>(Yt(n,e)&yn)===yn,qx=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Yx(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},t=qx.reduce((r,i)=>(r[i]="function",r),e);return cl(n,t),n}function Zx(n,e,t){if(t<Kn)throw new Error("invalid exponent, negatives unsupported");if(t===Kn)return n.ONE;if(t===yn)return e;let r=n.ONE,i=e;for(;t>Kn;)t&yn&&(r=n.mul(r,i)),i=n.sqr(i),t>>=yn;return r}function IE(n,e,t=!1){const r=new Array(e.length).fill(t?n.ZERO:void 0),i=e.reduce((s,a,c)=>n.is0(a)?s:(r[c]=s,n.mul(s,a)),n.ONE),o=n.inv(i);return e.reduceRight((s,a,c)=>n.is0(a)?s:(r[c]=n.mul(s,r[c]),n.mul(s,a)),o),r}function lw(n,e){const t=(n.ORDER-yn)/Ho,r=n.pow(e,t),i=n.eql(r,n.ONE),o=n.eql(r,n.ZERO),s=n.eql(r,n.neg(n.ONE));if(!i&&!o&&!s)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function xE(n,e){e!==void 0&&Kc(e);const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function ps(n,e,t=!1,r={}){if(n<=Kn)throw new Error("invalid field: expected ORDER > 0, got "+n);let i,o,s=!1,a;if(typeof e=="object"&&e!=null){if(r.sqrt||t)throw new Error("cannot specify opts in two arguments");const g=e;g.BITS&&(i=g.BITS),g.sqrt&&(o=g.sqrt),typeof g.isLE=="boolean"&&(t=g.isLE),typeof g.modFromBytes=="boolean"&&(s=g.modFromBytes),a=g.allowedLengths}else typeof e=="number"&&(i=e),r.sqrt&&(o=r.sqrt);const{nBitLength:c,nByteLength:l}=xE(n,i);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const p=Object.freeze({ORDER:n,isLE:t,BITS:c,BYTES:l,MASK:al(c),ZERO:Kn,ONE:yn,allowedLengths:a,create:g=>Yt(g,n),isValid:g=>{if(typeof g!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof g);return Kn<=g&&g<n},is0:g=>g===Kn,isValidNot0:g=>!p.is0(g)&&p.isValid(g),isOdd:g=>(g&yn)===yn,neg:g=>Yt(-g,n),eql:(g,h)=>g===h,sqr:g=>Yt(g*g,n),add:(g,h)=>Yt(g+h,n),sub:(g,h)=>Yt(g-h,n),mul:(g,h)=>Yt(g*h,n),pow:(g,h)=>Zx(p,g,h),div:(g,h)=>Yt(g*cw(h,n),n),sqrN:g=>g*g,addN:(g,h)=>g+h,subN:(g,h)=>g-h,mulN:(g,h)=>g*h,inv:g=>cw(g,n),sqrt:o||(g=>(u||(u=$x(n)),u(p,g))),toBytes:g=>t?wE(g,l):Hg(g,l),fromBytes:(g,h=!0)=>{if(a){if(!a.includes(g.length)||g.length>l)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+g.length);const k=new Uint8Array(l);k.set(g,t?0:k.length-g.length),g=k}if(g.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+g.length);let w=t?Vc(g):$d(g);if(s&&(w=Yt(w,n)),!h&&!p.isValid(w))throw new Error("invalid field element: outside of range 0..ORDER");return w},invertBatch:g=>IE(p,g),cmov:(g,h,w)=>w?h:g});return Object.freeze(p)}function TE(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function CE(n){const e=TE(n);return e+Math.ceil(e/2)}function Xx(n,e,t=!1){const r=n.length,i=TE(e),o=CE(e);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const s=t?Vc(n):$d(n),a=Yt(s,e-yn)+yn;return t?wE(a,i):Hg(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ya=BigInt(0),jo=BigInt(1);function sd(n,e){const t=e.negate();return n?t:e}function Ko(n,e){const t=IE(n.Fp,e.map(r=>r.Z));return e.map((r,i)=>n.fromAffine(r.toAffine(t[i])))}function NE(n,e){if(!Number.isSafeInteger(n)||n<=0||n>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+n)}function mh(n,e){NE(n,e);const t=Math.ceil(e/n)+1,r=2**(n-1),i=2**n,o=al(n),s=BigInt(n);return{windows:t,windowSize:r,mask:o,maxNumber:i,shiftBy:s}}function uw(n,e,t){const{windowSize:r,mask:i,maxNumber:o,shiftBy:s}=t;let a=Number(n&i),c=n>>s;a>r&&(a-=o,c+=jo);const l=e*r,u=l+Math.abs(a)-1,p=a===0,g=a<0,h=e%2!==0;return{nextN:c,offset:u,isZero:p,isNeg:g,isNegF:h,offsetF:l}}function Qx(n,e){if(!Array.isArray(n))throw new Error("array expected");n.forEach((t,r)=>{if(!(t instanceof e))throw new Error("invalid point at index "+r)})}function Jx(n,e){if(!Array.isArray(n))throw new Error("array of scalars expected");n.forEach((t,r)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+r)})}const yh=new WeakMap,OE=new WeakMap;function wh(n){return OE.get(n)||1}function dw(n){if(n!==ya)throw new Error("invalid wNAF")}class ME{constructor(e,t){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=t}_unsafeLadder(e,t,r=this.ZERO){let i=e;for(;t>ya;)t&jo&&(r=r.add(i)),i=i.double(),t>>=jo;return r}precomputeWindow(e,t){const{windows:r,windowSize:i}=mh(t,this.bits),o=[];let s=e,a=s;for(let c=0;c<r;c++){a=s,o.push(a);for(let l=1;l<i;l++)a=a.add(s),o.push(a);s=a.double()}return o}wNAF(e,t,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let i=this.ZERO,o=this.BASE;const s=mh(e,this.bits);for(let a=0;a<s.windows;a++){const{nextN:c,offset:l,isZero:u,isNeg:p,isNegF:g,offsetF:h}=uw(r,a,s);r=c,u?o=o.add(sd(g,t[h])):i=i.add(sd(p,t[l]))}return dw(r),{p:i,f:o}}wNAFUnsafe(e,t,r,i=this.ZERO){const o=mh(e,this.bits);for(let s=0;s<o.windows&&r!==ya;s++){const{nextN:a,offset:c,isZero:l,isNeg:u}=uw(r,s,o);if(r=a,!l){const p=t[c];i=i.add(u?p.negate():p)}}return dw(r),i}getPrecomputes(e,t,r){let i=yh.get(t);return i||(i=this.precomputeWindow(t,e),e!==1&&(typeof r=="function"&&(i=r(i)),yh.set(t,i))),i}cached(e,t,r){const i=wh(e);return this.wNAF(i,this.getPrecomputes(i,e,r),t)}unsafe(e,t,r,i){const o=wh(e);return o===1?this._unsafeLadder(e,t,i):this.wNAFUnsafe(o,this.getPrecomputes(o,e,r),t,i)}createCache(e,t){NE(t,this.bits),OE.set(e,t),yh.delete(e)}hasCache(e){return wh(e)!==1}}function eT(n,e,t,r){let i=e,o=n.ZERO,s=n.ZERO;for(;t>ya||r>ya;)t&jo&&(o=o.add(i)),r&jo&&(s=s.add(i)),i=i.double(),t>>=jo,r>>=jo;return{p1:o,p2:s}}function BE(n,e,t,r){Qx(t,n),Jx(r,e);const i=t.length,o=r.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");const s=n.ZERO,a=vE(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=al(c),u=new Array(Number(l)+1).fill(s),p=Math.floor((e.BITS-1)/c)*c;let g=s;for(let h=p;h>=0;h-=c){u.fill(s);for(let k=0;k<o;k++){const A=r[k],E=Number(A>>BigInt(h)&l);u[E]=u[E].add(t[k])}let w=s;for(let k=u.length-1,A=s;k>0;k--)A=A.add(u[k]),w=w.add(A);if(g=g.add(w),h!==0)for(let k=0;k<c;k++)g=g.double()}return g}function fw(n,e,t){if(e){if(e.ORDER!==n)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return Yx(e),e}else return ps(n,{isLE:t})}function LE(n,e,t={},r){if(r===void 0&&(r=n==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${n} CURVE object`);for(const c of["p","n","h"]){const l=e[c];if(!(typeof l=="bigint"&&l>ya))throw new Error(`CURVE.${c} must be positive bigint`)}const i=fw(e.p,t.Fp,r),o=fw(e.n,t.Fn,r),a=["Gx","Gy","a",n==="weierstrass"?"b":"d"];for(const c of a)if(!i.isValid(e[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Hi=BigInt(0),sn=BigInt(1),vh=BigInt(2),tT=BigInt(8);function nT(n,e,t,r){const i=n.sqr(t),o=n.sqr(r),s=n.add(n.mul(e.a,i),o),a=n.add(n.ONE,n.mul(e.d,n.mul(i,o)));return n.eql(s,a)}function rT(n,e={}){const t=LE("edwards",n,e,e.FpFnLE),{Fp:r,Fn:i}=t;let o=t.CURVE;const{h:s}=o;cl(e,{},{uvRatio:"function"});const a=vh<<BigInt(i.BYTES*8)-sn,c=A=>r.create(A),l=e.uvRatio||((A,E)=>{try{return{isValid:!0,value:r.sqrt(r.div(A,E))}}catch{return{isValid:!1,value:Hi}}});if(!nT(r,o,o.Gx,o.Gy))throw new Error("bad curve params: generator point");function u(A,E,b=!1){const _=b?sn:Hi;return Qp("coordinate "+A,E,_,a),E}function p(A){if(!(A instanceof w))throw new Error("ExtendedPoint expected")}const g=od((A,E)=>{const{X:b,Y:_,Z:x}=A,L=A.is0();E==null&&(E=L?tT:r.inv(x));const U=c(b*E),D=c(_*E),W=r.mul(x,E);if(L)return{x:Hi,y:sn};if(W!==sn)throw new Error("invZ was invalid");return{x:U,y:D}}),h=od(A=>{const{a:E,d:b}=o;if(A.is0())throw new Error("bad point: ZERO");const{X:_,Y:x,Z:L,T:U}=A,D=c(_*_),W=c(x*x),z=c(L*L),H=c(z*z),q=c(D*E),$=c(z*c(q+W)),R=c(H+c(b*c(D*W)));if($!==R)throw new Error("bad point: equation left != right (1)");const d=c(_*x),f=c(L*U);if(d!==f)throw new Error("bad point: equation left != right (2)");return!0});class w{constructor(E,b,_,x){this.X=u("x",E),this.Y=u("y",b),this.Z=u("z",_,!0),this.T=u("t",x),Object.freeze(this)}static CURVE(){return o}static fromAffine(E){if(E instanceof w)throw new Error("extended point not allowed");const{x:b,y:_}=E||{};return u("x",b),u("y",_),new w(b,_,sn,c(b*_))}static fromBytes(E,b=!1){const _=r.BYTES,{a:x,d:L}=o;E=aw(Cr(E,_,"point")),cs(b,"zip215");const U=aw(E),D=E[_-1];U[_-1]=D&-129;const W=Vc(U),z=b?a:r.ORDER;Qp("point.y",W,Hi,z);const H=c(W*W),q=c(H-sn),$=c(L*H-x);let{isValid:R,value:d}=l(q,$);if(!R)throw new Error("bad point: invalid y coordinate");const f=(d&sn)===sn,S=(D&128)!==0;if(!b&&d===Hi&&S)throw new Error("bad point: x=0 and x_0=1");return S!==f&&(d=c(-d)),w.fromAffine({x:d,y:W})}static fromHex(E,b=!1){return w.fromBytes(It("point",E),b)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(E=8,b=!0){return k.createCache(this,E),b||this.multiply(vh),this}assertValidity(){h(this)}equals(E){p(E);const{X:b,Y:_,Z:x}=this,{X:L,Y:U,Z:D}=E,W=c(b*D),z=c(L*x),H=c(_*D),q=c(U*x);return W===z&&H===q}is0(){return this.equals(w.ZERO)}negate(){return new w(c(-this.X),this.Y,this.Z,c(-this.T))}double(){const{a:E}=o,{X:b,Y:_,Z:x}=this,L=c(b*b),U=c(_*_),D=c(vh*c(x*x)),W=c(E*L),z=b+_,H=c(c(z*z)-L-U),q=W+U,$=q-D,R=W-U,d=c(H*$),f=c(q*R),S=c(H*R),T=c($*q);return new w(d,f,T,S)}add(E){p(E);const{a:b,d:_}=o,{X:x,Y:L,Z:U,T:D}=this,{X:W,Y:z,Z:H,T:q}=E,$=c(x*W),R=c(L*z),d=c(D*_*q),f=c(U*H),S=c((x+L)*(W+z)-$-R),T=f-d,I=f+d,O=c(R-b*$),P=c(S*T),N=c(I*O),y=c(S*O),B=c(T*I);return new w(P,N,B,y)}subtract(E){return this.add(E.negate())}multiply(E){if(!i.isValidNot0(E))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:b,f:_}=k.cached(this,E,x=>Ko(w,x));return Ko(w,[b,_])[0]}multiplyUnsafe(E,b=w.ZERO){if(!i.isValid(E))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return E===Hi?w.ZERO:this.is0()||E===sn?this:k.unsafe(this,E,_=>Ko(w,_),b)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}isTorsionFree(){return k.unsafe(this,o.n).is0()}toAffine(E){return g(this,E)}clearCofactor(){return s===sn?this:this.multiplyUnsafe(s)}toBytes(){const{x:E,y:b}=this.toAffine(),_=r.toBytes(b);return _[_.length-1]|=E&sn?128:0,_}toHex(){return ts(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(E){return Ko(w,E)}static msm(E,b){return BE(w,i,E,b)}_setWindowSize(E){this.precompute(E)}toRawBytes(){return this.toBytes()}}w.BASE=new w(o.Gx,o.Gy,sn,c(o.Gx*o.Gy)),w.ZERO=new w(Hi,sn,sn,Hi),w.Fp=r,w.Fn=i;const k=new ME(w,i.BITS);return w.BASE.precompute(8),w}function iT(n,e,t={}){if(typeof e!="function")throw new Error('"hash" function param is required');cl(t,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=t,{BASE:i,Fp:o,Fn:s}=n,a=t.randomBytes||Fg,c=t.adjustScalarBytes||(z=>z),l=t.domain||((z,H,q)=>{if(cs(q,"phflag"),H.length||q)throw new Error("Contexts/pre-hash are not supported");return z});function u(z){return s.create(Vc(z))}function p(z){const H=_.secretKey;z=It("private key",z,H);const q=It("hashed private key",e(z),2*H),$=c(q.slice(0,H)),R=q.slice(H,2*H),d=u($);return{head:$,prefix:R,scalar:d}}function g(z){const{head:H,prefix:q,scalar:$}=p(z),R=i.multiply($),d=R.toBytes();return{head:H,prefix:q,scalar:$,point:R,pointBytes:d}}function h(z){return g(z).pointBytes}function w(z=Uint8Array.of(),...H){const q=Vr(...H);return u(e(l(q,It("context",z),!!r)))}function k(z,H,q={}){z=It("message",z),r&&(z=r(z));const{prefix:$,scalar:R,pointBytes:d}=g(H),f=w(q.context,$,z),S=i.multiply(f).toBytes(),T=w(q.context,S,d,z),I=s.create(f+T*R);if(!s.isValid(I))throw new Error("sign failed: invalid s");const O=Vr(S,s.toBytes(I));return Cr(O,_.signature,"result")}const A={zip215:!0};function E(z,H,q,$=A){const{context:R,zip215:d}=$,f=_.signature;z=It("signature",z,f),H=It("message",H),q=It("publicKey",q,_.publicKey),d!==void 0&&cs(d,"zip215"),r&&(H=r(H));const S=f/2,T=z.subarray(0,S),I=Vc(z.subarray(S,f));let O,P,N;try{O=n.fromBytes(q,d),P=n.fromBytes(T,d),N=i.multiplyUnsafe(I)}catch{return!1}if(!d&&O.isSmallOrder())return!1;const y=w(R,P.toBytes(),O.toBytes(),H);return P.add(O.multiplyUnsafe(y)).subtract(N).clearCofactor().is0()}const b=o.BYTES,_={secretKey:b,publicKey:b,signature:2*b,seed:b};function x(z=a(_.seed)){return Cr(z,_.seed,"seed")}function L(z){const H=W.randomSecretKey(z);return{secretKey:H,publicKey:h(H)}}function U(z){return sl(z)&&z.length===s.BYTES}function D(z,H){try{return!!n.fromBytes(z,H)}catch{return!1}}const W={getExtendedPublicKey:g,randomSecretKey:x,isValidSecretKey:U,isValidPublicKey:D,toMontgomery(z){const{y:H}=n.fromBytes(z),q=_.publicKey,$=q===32;if(!$&&q!==57)throw new Error("only defined for 25519 and 448");const R=$?o.div(sn+H,sn-H):o.div(H-sn,H+sn);return o.toBytes(R)},toMontgomerySecret(z){const H=_.secretKey;Cr(z,H);const q=e(z.subarray(0,H));return c(q).subarray(0,H)},randomPrivateKey:x,precompute(z=8,H=n.BASE){return H.precompute(z,!1)}};return Object.freeze({keygen:L,getPublicKey:h,sign:k,verify:E,utils:W,Point:n,lengths:_})}function oT(n){const e={a:n.a,d:n.d,p:n.Fp.ORDER,n:n.n,h:n.h,Gx:n.Gx,Gy:n.Gy},t=n.Fp,r=ps(e.n,n.nBitLength,!0),i={Fp:t,Fn:r,uvRatio:n.uvRatio},o={randomBytes:n.randomBytes,adjustScalarBytes:n.adjustScalarBytes,domain:n.domain,prehash:n.prehash,mapToCurve:n.mapToCurve};return{CURVE:e,curveOpts:i,hash:n.hash,eddsaOpts:o}}function sT(n,e){const t=e.Point;return Object.assign({},e,{ExtendedPoint:t,CURVE:n,nBitLength:t.Fn.BITS,nByteLength:t.Fn.BYTES})}function aT(n){const{CURVE:e,curveOpts:t,hash:r,eddsaOpts:i}=oT(n),o=rT(e,t),s=iT(o,r,i);return sT(n,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const cT=BigInt(1),hw=BigInt(2);BigInt(3);const lT=BigInt(5),uT=BigInt(8),Kg=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),PE={p:Kg,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:uT,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function dT(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),i=BigInt(80),o=Kg,a=n*n%o*n%o,c=kt(a,hw,o)*a%o,l=kt(c,cT,o)*n%o,u=kt(l,lT,o)*l%o,p=kt(u,e,o)*u%o,g=kt(p,t,o)*p%o,h=kt(g,r,o)*g%o,w=kt(h,i,o)*h%o,k=kt(w,i,o)*h%o,A=kt(k,e,o)*u%o;return{pow_p_5_8:kt(A,hw,o)*n%o,b2:a}}function fT(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}const pw=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function hT(n,e){const t=Kg,r=Yt(e*e*e,t),i=Yt(r*r*e,t),o=dT(n*i).pow_p_5_8;let s=Yt(n*r*o,t);const a=Yt(e*s*s,t),c=s,l=Yt(s*pw,t),u=a===n,p=a===Yt(-n,t),g=a===Yt(-n*pw,t);return u&&(s=c),(p||g)&&(s=l),Gx(s,t)&&(s=Yt(-s,t)),{isValid:u||p,value:s}}const pT=ps(PE.p,{isLE:!0}),gT={...PE,Fp:pT,hash:zx,adjustScalarBytes:fT,uvRatio:hT},Na=aT(gT);var Vg={exports:{}};const $g=Id(hx);Vg.exports;(function(n){(function(e,t){function r(R,d){if(!R)throw new Error(d||"Assertion failed")}function i(R,d){R.super_=d;var f=function(){};f.prototype=d.prototype,R.prototype=new f,R.prototype.constructor=R}function o(R,d,f){if(o.isBN(R))return R;this.negative=0,this.words=null,this.length=0,this.red=null,R!==null&&((d==="le"||d==="be")&&(f=d,d=10),this._init(R||0,d||10,f||"be"))}typeof e=="object"?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=$g.Buffer}catch{}o.isBN=function(d){return d instanceof o?!0:d!==null&&typeof d=="object"&&d.constructor.wordSize===o.wordSize&&Array.isArray(d.words)},o.max=function(d,f){return d.cmp(f)>0?d:f},o.min=function(d,f){return d.cmp(f)<0?d:f},o.prototype._init=function(d,f,S){if(typeof d=="number")return this._initNumber(d,f,S);if(typeof d=="object")return this._initArray(d,f,S);f==="hex"&&(f=16),r(f===(f|0)&&f>=2&&f<=36),d=d.toString().replace(/\s+/g,"");var T=0;d[0]==="-"&&(T++,this.negative=1),T<d.length&&(f===16?this._parseHex(d,T,S):(this._parseBase(d,f,T),S==="le"&&this._initArray(this.toArray(),f,S)))},o.prototype._initNumber=function(d,f,S){d<0&&(this.negative=1,d=-d),d<67108864?(this.words=[d&67108863],this.length=1):d<4503599627370496?(this.words=[d&67108863,d/67108864&67108863],this.length=2):(r(d<9007199254740992),this.words=[d&67108863,d/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),f,S)},o.prototype._initArray=function(d,f,S){if(r(typeof d.length=="number"),d.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(d.length/3),this.words=new Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var I,O,P=0;if(S==="be")for(T=d.length-1,I=0;T>=0;T-=3)O=d[T]|d[T-1]<<8|d[T-2]<<16,this.words[I]|=O<<P&67108863,this.words[I+1]=O>>>26-P&67108863,P+=24,P>=26&&(P-=26,I++);else if(S==="le")for(T=0,I=0;T<d.length;T+=3)O=d[T]|d[T+1]<<8|d[T+2]<<16,this.words[I]|=O<<P&67108863,this.words[I+1]=O>>>26-P&67108863,P+=24,P>=26&&(P-=26,I++);return this._strip()};function a(R,d){var f=R.charCodeAt(d);if(f>=48&&f<=57)return f-48;if(f>=65&&f<=70)return f-55;if(f>=97&&f<=102)return f-87;r(!1,"Invalid character in "+R)}function c(R,d,f){var S=a(R,f);return f-1>=d&&(S|=a(R,f-1)<<4),S}o.prototype._parseHex=function(d,f,S){this.length=Math.ceil((d.length-f)/6),this.words=new Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var I=0,O=0,P;if(S==="be")for(T=d.length-1;T>=f;T-=2)P=c(d,f,T)<<I,this.words[O]|=P&67108863,I>=18?(I-=18,O+=1,this.words[O]|=P>>>26):I+=8;else{var N=d.length-f;for(T=N%2===0?f+1:f;T<d.length;T+=2)P=c(d,f,T)<<I,this.words[O]|=P&67108863,I>=18?(I-=18,O+=1,this.words[O]|=P>>>26):I+=8}this._strip()};function l(R,d,f,S){for(var T=0,I=0,O=Math.min(R.length,f),P=d;P<O;P++){var N=R.charCodeAt(P)-48;T*=S,N>=49?I=N-49+10:N>=17?I=N-17+10:I=N,r(N>=0&&I<S,"Invalid character"),T+=I}return T}o.prototype._parseBase=function(d,f,S){this.words=[0],this.length=1;for(var T=0,I=1;I<=67108863;I*=f)T++;T--,I=I/f|0;for(var O=d.length-S,P=O%T,N=Math.min(O,O-P)+S,y=0,B=S;B<N;B+=T)y=l(d,B,B+T,f),this.imuln(I),this.words[0]+y<67108864?this.words[0]+=y:this._iaddn(y);if(P!==0){var te=1;for(y=l(d,B,d.length,f),B=0;B<P;B++)te*=f;this.imuln(te),this.words[0]+y<67108864?this.words[0]+=y:this._iaddn(y)}this._strip()},o.prototype.copy=function(d){d.words=new Array(this.length);for(var f=0;f<this.length;f++)d.words[f]=this.words[f];d.length=this.length,d.negative=this.negative,d.red=this.red};function u(R,d){R.words=d.words,R.length=d.length,R.negative=d.negative,R.red=d.red}if(o.prototype._move=function(d){u(d,this)},o.prototype.clone=function(){var d=new o(null);return this.copy(d),d},o.prototype._expand=function(d){for(;this.length<d;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=p}catch{o.prototype.inspect=p}else o.prototype.inspect=p;function p(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],w=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(d,f){d=d||10,f=f|0||1;var S;if(d===16||d==="hex"){S="";for(var T=0,I=0,O=0;O<this.length;O++){var P=this.words[O],N=((P<<T|I)&16777215).toString(16);I=P>>>24-T&16777215,T+=2,T>=26&&(T-=26,O--),I!==0||O!==this.length-1?S=g[6-N.length]+N+S:S=N+S}for(I!==0&&(S=I.toString(16)+S);S.length%f!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(d===(d|0)&&d>=2&&d<=36){var y=h[d],B=w[d];S="";var te=this.clone();for(te.negative=0;!te.isZero();){var ne=te.modrn(B).toString(d);te=te.idivn(B),te.isZero()?S=ne+S:S=g[y-ne.length]+ne+S}for(this.isZero()&&(S="0"+S);S.length%f!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var d=this.words[0];return this.length===2?d+=this.words[1]*67108864:this.length===3&&this.words[2]===1?d+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-d:d},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(d,f){return this.toArrayLike(s,d,f)}),o.prototype.toArray=function(d,f){return this.toArrayLike(Array,d,f)};var k=function(d,f){return d.allocUnsafe?d.allocUnsafe(f):new d(f)};o.prototype.toArrayLike=function(d,f,S){this._strip();var T=this.byteLength(),I=S||Math.max(1,T);r(T<=I,"byte array longer than desired length"),r(I>0,"Requested array length <= 0");var O=k(d,I),P=f==="le"?"LE":"BE";return this["_toArrayLike"+P](O,T),O},o.prototype._toArrayLikeLE=function(d,f){for(var S=0,T=0,I=0,O=0;I<this.length;I++){var P=this.words[I]<<O|T;d[S++]=P&255,S<d.length&&(d[S++]=P>>8&255),S<d.length&&(d[S++]=P>>16&255),O===6?(S<d.length&&(d[S++]=P>>24&255),T=0,O=0):(T=P>>>24,O+=2)}if(S<d.length)for(d[S++]=T;S<d.length;)d[S++]=0},o.prototype._toArrayLikeBE=function(d,f){for(var S=d.length-1,T=0,I=0,O=0;I<this.length;I++){var P=this.words[I]<<O|T;d[S--]=P&255,S>=0&&(d[S--]=P>>8&255),S>=0&&(d[S--]=P>>16&255),O===6?(S>=0&&(d[S--]=P>>24&255),T=0,O=0):(T=P>>>24,O+=2)}if(S>=0)for(d[S--]=T;S>=0;)d[S--]=0},Math.clz32?o.prototype._countBits=function(d){return 32-Math.clz32(d)}:o.prototype._countBits=function(d){var f=d,S=0;return f>=4096&&(S+=13,f>>>=13),f>=64&&(S+=7,f>>>=7),f>=8&&(S+=4,f>>>=4),f>=2&&(S+=2,f>>>=2),S+f},o.prototype._zeroBits=function(d){if(d===0)return 26;var f=d,S=0;return f&8191||(S+=13,f>>>=13),f&127||(S+=7,f>>>=7),f&15||(S+=4,f>>>=4),f&3||(S+=2,f>>>=2),f&1||S++,S},o.prototype.bitLength=function(){var d=this.words[this.length-1],f=this._countBits(d);return(this.length-1)*26+f};function A(R){for(var d=new Array(R.bitLength()),f=0;f<d.length;f++){var S=f/26|0,T=f%26;d[f]=R.words[S]>>>T&1}return d}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var d=0,f=0;f<this.length;f++){var S=this._zeroBits(this.words[f]);if(d+=S,S!==26)break}return d},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(d){return this.negative!==0?this.abs().inotn(d).iaddn(1):this.clone()},o.prototype.fromTwos=function(d){return this.testn(d-1)?this.notn(d).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(d){for(;this.length<d.length;)this.words[this.length++]=0;for(var f=0;f<d.length;f++)this.words[f]=this.words[f]|d.words[f];return this._strip()},o.prototype.ior=function(d){return r((this.negative|d.negative)===0),this.iuor(d)},o.prototype.or=function(d){return this.length>d.length?this.clone().ior(d):d.clone().ior(this)},o.prototype.uor=function(d){return this.length>d.length?this.clone().iuor(d):d.clone().iuor(this)},o.prototype.iuand=function(d){var f;this.length>d.length?f=d:f=this;for(var S=0;S<f.length;S++)this.words[S]=this.words[S]&d.words[S];return this.length=f.length,this._strip()},o.prototype.iand=function(d){return r((this.negative|d.negative)===0),this.iuand(d)},o.prototype.and=function(d){return this.length>d.length?this.clone().iand(d):d.clone().iand(this)},o.prototype.uand=function(d){return this.length>d.length?this.clone().iuand(d):d.clone().iuand(this)},o.prototype.iuxor=function(d){var f,S;this.length>d.length?(f=this,S=d):(f=d,S=this);for(var T=0;T<S.length;T++)this.words[T]=f.words[T]^S.words[T];if(this!==f)for(;T<f.length;T++)this.words[T]=f.words[T];return this.length=f.length,this._strip()},o.prototype.ixor=function(d){return r((this.negative|d.negative)===0),this.iuxor(d)},o.prototype.xor=function(d){return this.length>d.length?this.clone().ixor(d):d.clone().ixor(this)},o.prototype.uxor=function(d){return this.length>d.length?this.clone().iuxor(d):d.clone().iuxor(this)},o.prototype.inotn=function(d){r(typeof d=="number"&&d>=0);var f=Math.ceil(d/26)|0,S=d%26;this._expand(f),S>0&&f--;for(var T=0;T<f;T++)this.words[T]=~this.words[T]&67108863;return S>0&&(this.words[T]=~this.words[T]&67108863>>26-S),this._strip()},o.prototype.notn=function(d){return this.clone().inotn(d)},o.prototype.setn=function(d,f){r(typeof d=="number"&&d>=0);var S=d/26|0,T=d%26;return this._expand(S+1),f?this.words[S]=this.words[S]|1<<T:this.words[S]=this.words[S]&~(1<<T),this._strip()},o.prototype.iadd=function(d){var f;if(this.negative!==0&&d.negative===0)return this.negative=0,f=this.isub(d),this.negative^=1,this._normSign();if(this.negative===0&&d.negative!==0)return d.negative=0,f=this.isub(d),d.negative=1,f._normSign();var S,T;this.length>d.length?(S=this,T=d):(S=d,T=this);for(var I=0,O=0;O<T.length;O++)f=(S.words[O]|0)+(T.words[O]|0)+I,this.words[O]=f&67108863,I=f>>>26;for(;I!==0&&O<S.length;O++)f=(S.words[O]|0)+I,this.words[O]=f&67108863,I=f>>>26;if(this.length=S.length,I!==0)this.words[this.length]=I,this.length++;else if(S!==this)for(;O<S.length;O++)this.words[O]=S.words[O];return this},o.prototype.add=function(d){var f;return d.negative!==0&&this.negative===0?(d.negative=0,f=this.sub(d),d.negative^=1,f):d.negative===0&&this.negative!==0?(this.negative=0,f=d.sub(this),this.negative=1,f):this.length>d.length?this.clone().iadd(d):d.clone().iadd(this)},o.prototype.isub=function(d){if(d.negative!==0){d.negative=0;var f=this.iadd(d);return d.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(d),this.negative=1,this._normSign();var S=this.cmp(d);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;var T,I;S>0?(T=this,I=d):(T=d,I=this);for(var O=0,P=0;P<I.length;P++)f=(T.words[P]|0)-(I.words[P]|0)+O,O=f>>26,this.words[P]=f&67108863;for(;O!==0&&P<T.length;P++)f=(T.words[P]|0)+O,O=f>>26,this.words[P]=f&67108863;if(O===0&&P<T.length&&T!==this)for(;P<T.length;P++)this.words[P]=T.words[P];return this.length=Math.max(this.length,P),T!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(d){return this.clone().isub(d)};function E(R,d,f){f.negative=d.negative^R.negative;var S=R.length+d.length|0;f.length=S,S=S-1|0;var T=R.words[0]|0,I=d.words[0]|0,O=T*I,P=O&67108863,N=O/67108864|0;f.words[0]=P;for(var y=1;y<S;y++){for(var B=N>>>26,te=N&67108863,ne=Math.min(y,d.length-1),ae=Math.max(0,y-R.length+1);ae<=ne;ae++){var Re=y-ae|0;T=R.words[Re]|0,I=d.words[ae]|0,O=T*I+te,B+=O/67108864|0,te=O&67108863}f.words[y]=te|0,N=B|0}return N!==0?f.words[y]=N|0:f.length--,f._strip()}var b=function(d,f,S){var T=d.words,I=f.words,O=S.words,P=0,N,y,B,te=T[0]|0,ne=te&8191,ae=te>>>13,Re=T[1]|0,Ae=Re&8191,Ee=Re>>>13,_t=T[2]|0,Ue=_t&8191,qe=_t>>>13,Pi=T[3]|0,Et=Pi&8191,dt=Pi>>>13,ii=T[4]|0,Ze=ii&8191,bt=ii>>>13,_l=T[5]|0,ot=_l&8191,St=_l>>>13,El=T[6]|0,ft=El&8191,tt=El>>>13,Zn=T[7]|0,st=Zn&8191,Rt=Zn>>>13,Sr=T[8]|0,At=Sr&8191,C=Sr>>>13,m=T[9]|0,v=m&8191,M=m>>>13,F=I[0]|0,j=F&8191,Y=F>>>13,xe=I[1]|0,ke=xe&8191,Se=xe>>>13,nt=I[2]|0,be=nt&8191,Nt=nt>>>13,Fm=I[3]|0,Ot=Fm&8191,Mt=Fm>>>13,Wm=I[4]|0,Bt=Wm&8191,Lt=Wm>>>13,Hm=I[5]|0,Pt=Hm&8191,Dt=Hm>>>13,jm=I[6]|0,Ut=jm&8191,zt=jm>>>13,Km=I[7]|0,Ft=Km&8191,Wt=Km>>>13,Vm=I[8]|0,Ht=Vm&8191,jt=Vm>>>13,$m=I[9]|0,Kt=$m&8191,Vt=$m>>>13;S.negative=d.negative^f.negative,S.length=19,N=Math.imul(ne,j),y=Math.imul(ne,Y),y=y+Math.imul(ae,j)|0,B=Math.imul(ae,Y);var bf=(P+N|0)+((y&8191)<<13)|0;P=(B+(y>>>13)|0)+(bf>>>26)|0,bf&=67108863,N=Math.imul(Ae,j),y=Math.imul(Ae,Y),y=y+Math.imul(Ee,j)|0,B=Math.imul(Ee,Y),N=N+Math.imul(ne,ke)|0,y=y+Math.imul(ne,Se)|0,y=y+Math.imul(ae,ke)|0,B=B+Math.imul(ae,Se)|0;var Sf=(P+N|0)+((y&8191)<<13)|0;P=(B+(y>>>13)|0)+(Sf>>>26)|0,Sf&=67108863,N=Math.imul(Ue,j),y=Math.imul(Ue,Y),y=y+Math.imul(qe,j)|0,B=Math.imul(qe,Y),N=N+Math.imul(Ae,ke)|0,y=y+Math.imul(Ae,Se)|0,y=y+Math.imul(Ee,ke)|0,B=B+Math.imul(Ee,Se)|0,N=N+Math.imul(ne,be)|0,y=y+Math.imul(ne,Nt)|0,y=y+Math.imul(ae,be)|0,B=B+Math.imul(ae,Nt)|0;var Rf=(P+N|0)+((y&8191)<<13)|0;P=(B+(y>>>13)|0)+(Rf>>>26)|0,Rf&=67108863,N=Math.imul(Et,j),y=Math.imul(Et,Y),y=y+Math.imul(dt,j)|0,B=Math.imul(dt,Y),N=N+Math.imul(Ue,ke)|0,y=y+Math.imul(Ue,Se)|0,y=y+Math.imul(qe,ke)|0,B=B+Math.imul(qe,Se)|0,N=N+Math.imul(Ae,be)|0,y=y+Math.imul(Ae,Nt)|0,y=y+Math.imul(Ee,be)|0,B=B+Math.imul(Ee,Nt)|0,N=N+Math.imul(ne,Ot)|0,y=y+Math.imul(ne,Mt)|0,y=y+Math.imul(ae,Ot)|0,B=B+Math.imul(ae,Mt)|0;var Af=(P+N|0)+((y&8191)<<13)|0;P=(B+(y>>>13)|0)+(Af>>>26)|0,Af&=67108863,N=Math.imul(Ze,j),y=Math.imul(Ze,Y),y=y+Math.imul(bt,j)|0,B=Math.imul(bt,Y),N=N+Math.imul(Et,ke)|0,y=y+Math.imul(Et,Se)|0,y=y+Math.imul(dt,ke)|0,B=B+Math.imul(dt,Se)|0,N=N+Math.imul(Ue,be)|0,y=y+Math.imul(Ue,Nt)|0,y=y+Math.imul(qe,be)|0,B=B+Math.imul(qe,Nt)|0,N=N+Math.imul(Ae,Ot)|0,y=y+Math.imul(Ae,Mt)|0,y=y+Math.imul(Ee,Ot)|0,B=B+Math.imul(Ee,Mt)|0,N=N+Math.imul(ne,Bt)|0,y=y+Math.imul(ne,Lt)|0,y=y+Math.imul(ae,Bt)|0,B=B+Math.imul(ae,Lt)|0;var kf=(P+N|0)+((y&8191)<<13)|0;P=(B+(y>>>13)|0)+(kf>>>26)|0,kf&=67108863,N=Math.imul(ot,j),y=Math.imul(ot,Y),y=y+Math.imul(St,j)|0,B=Math.imul(St,Y),N=N+Math.imul(Ze,ke)|0,y=y+Math.imul(Ze,Se)|0,y=y+Math.imul(bt,ke)|0,B=B+Math.imul(bt,Se)|0,N=N+Math.imul(Et,be)|0,y=y+Math.imul(Et,Nt)|0,y=y+Math.imul(dt,be)|0,B=B+Math.imul(dt,Nt)|0,N=N+Math.imul(Ue,Ot)|0,y=y+Math.imul(Ue,Mt)|0,y=y+Math.imul(qe,Ot)|0,B=B+Math.imul(qe,Mt)|0,N=N+Math.imul(Ae,Bt)|0,y=y+Math.imul(Ae,Lt)|0,y=y+Math.imul(Ee,Bt)|0,B=B+Math.imul(Ee,Lt)|0,N=N+Math.imul(ne,Pt)|0,y=y+Math.imul(ne,Dt)|0,y=y+Math.imul(ae,Pt)|0,B=B+Math.imul(ae,Dt)|0;var If=(P+N|0)+((y&8191)<<13)|0;P=(B+(y>>>13)|0)+(If>>>26)|0,If&=67108863,N=Math.imul(ft,j),y=Math.imul(ft,Y),y=y+Math.imul(tt,j)|0,B=Math.imul(tt,Y),N=N+Math.imul(ot,ke)|0,y=y+Math.imul(ot,Se)|0,y=y+Math.imul(St,ke)|0,B=B+Math.imul(St,Se)|0,N=N+Math.imul(Ze,be)|0,y=y+Math.imul(Ze,Nt)|0,y=y+Math.imul(bt,be)|0,B=B+Math.imul(bt,Nt)|0,N=N+Math.imul(Et,Ot)|0,y=y+Math.imul(Et,Mt)|0,y=y+Math.imul(dt,Ot)|0,B=B+Math.imul(dt,Mt)|0,N=N+Math.imul(Ue,Bt)|0,y=y+Math.imul(Ue,Lt)|0,y=y+Math.imul(qe,Bt)|0,B=B+Math.imul(qe,Lt)|0,N=N+Math.imul(Ae,Pt)|0,y=y+Math.imul(Ae,Dt)|0,y=y+Math.imul(Ee,Pt)|0,B=B+Math.imul(Ee,Dt)|0,N=N+Math.imul(ne,Ut)|0,y=y+Math.imul(ne,zt)|0,y=y+Math.imul(ae,Ut)|0,B=B+Math.imul(ae,zt)|0;var xf=(P+N|0)+((y&8191)<<13)|0;P=(B+(y>>>13)|0)+(xf>>>26)|0,xf&=67108863,N=Math.imul(st,j),y=Math.imul(st,Y),y=y+Math.imul(Rt,j)|0,B=Math.imul(Rt,Y),N=N+Math.imul(ft,ke)|0,y=y+Math.imul(ft,Se)|0,y=y+Math.imul(tt,ke)|0,B=B+Math.imul(tt,Se)|0,N=N+Math.imul(ot,be)|0,y=y+Math.imul(ot,Nt)|0,y=y+Math.imul(St,be)|0,B=B+Math.imul(St,Nt)|0,N=N+Math.imul(Ze,Ot)|0,y=y+Math.imul(Ze,Mt)|0,y=y+Math.imul(bt,Ot)|0,B=B+Math.imul(bt,Mt)|0,N=N+Math.imul(Et,Bt)|0,y=y+Math.imul(Et,Lt)|0,y=y+Math.imul(dt,Bt)|0,B=B+Math.imul(dt,Lt)|0,N=N+Math.imul(Ue,Pt)|0,y=y+Math.imul(Ue,Dt)|0,y=y+Math.imul(qe,Pt)|0,B=B+Math.imul(qe,Dt)|0,N=N+Math.imul(Ae,Ut)|0,y=y+Math.imul(Ae,zt)|0,y=y+Math.imul(Ee,Ut)|0,B=B+Math.imul(Ee,zt)|0,N=N+Math.imul(ne,Ft)|0,y=y+Math.imul(ne,Wt)|0,y=y+Math.imul(ae,Ft)|0,B=B+Math.imul(ae,Wt)|0;var Tf=(P+N|0)+((y&8191)<<13)|0;P=(B+(y>>>13)|0)+(Tf>>>26)|0,Tf&=67108863,N=Math.imul(At,j),y=Math.imul(At,Y),y=y+Math.imul(C,j)|0,B=Math.imul(C,Y),N=N+Math.imul(st,ke)|0,y=y+Math.imul(st,Se)|0,y=y+Math.imul(Rt,ke)|0,B=B+Math.imul(Rt,Se)|0,N=N+Math.imul(ft,be)|0,y=y+Math.imul(ft,Nt)|0,y=y+Math.imul(tt,be)|0,B=B+Math.imul(tt,Nt)|0,N=N+Math.imul(ot,Ot)|0,y=y+Math.imul(ot,Mt)|0,y=y+Math.imul(St,Ot)|0,B=B+Math.imul(St,Mt)|0,N=N+Math.imul(Ze,Bt)|0,y=y+Math.imul(Ze,Lt)|0,y=y+Math.imul(bt,Bt)|0,B=B+Math.imul(bt,Lt)|0,N=N+Math.imul(Et,Pt)|0,y=y+Math.imul(Et,Dt)|0,y=y+Math.imul(dt,Pt)|0,B=B+Math.imul(dt,Dt)|0,N=N+Math.imul(Ue,Ut)|0,y=y+Math.imul(Ue,zt)|0,y=y+Math.imul(qe,Ut)|0,B=B+Math.imul(qe,zt)|0,N=N+Math.imul(Ae,Ft)|0,y=y+Math.imul(Ae,Wt)|0,y=y+Math.imul(Ee,Ft)|0,B=B+Math.imul(Ee,Wt)|0,N=N+Math.imul(ne,Ht)|0,y=y+Math.imul(ne,jt)|0,y=y+Math.imul(ae,Ht)|0,B=B+Math.imul(ae,jt)|0;var Cf=(P+N|0)+((y&8191)<<13)|0;P=(B+(y>>>13)|0)+(Cf>>>26)|0,Cf&=67108863,N=Math.imul(v,j),y=Math.imul(v,Y),y=y+Math.imul(M,j)|0,B=Math.imul(M,Y),N=N+Math.imul(At,ke)|0,y=y+Math.imul(At,Se)|0,y=y+Math.imul(C,ke)|0,B=B+Math.imul(C,Se)|0,N=N+Math.imul(st,be)|0,y=y+Math.imul(st,Nt)|0,y=y+Math.imul(Rt,be)|0,B=B+Math.imul(Rt,Nt)|0,N=N+Math.imul(ft,Ot)|0,y=y+Math.imul(ft,Mt)|0,y=y+Math.imul(tt,Ot)|0,B=B+Math.imul(tt,Mt)|0,N=N+Math.imul(ot,Bt)|0,y=y+Math.imul(ot,Lt)|0,y=y+Math.imul(St,Bt)|0,B=B+Math.imul(St,Lt)|0,N=N+Math.imul(Ze,Pt)|0,y=y+Math.imul(Ze,Dt)|0,y=y+Math.imul(bt,Pt)|0,B=B+Math.imul(bt,Dt)|0,N=N+Math.imul(Et,Ut)|0,y=y+Math.imul(Et,zt)|0,y=y+Math.imul(dt,Ut)|0,B=B+Math.imul(dt,zt)|0,N=N+Math.imul(Ue,Ft)|0,y=y+Math.imul(Ue,Wt)|0,y=y+Math.imul(qe,Ft)|0,B=B+Math.imul(qe,Wt)|0,N=N+Math.imul(Ae,Ht)|0,y=y+Math.imul(Ae,jt)|0,y=y+Math.imul(Ee,Ht)|0,B=B+Math.imul(Ee,jt)|0,N=N+Math.imul(ne,Kt)|0,y=y+Math.imul(ne,Vt)|0,y=y+Math.imul(ae,Kt)|0,B=B+Math.imul(ae,Vt)|0;var Nf=(P+N|0)+((y&8191)<<13)|0;P=(B+(y>>>13)|0)+(Nf>>>26)|0,Nf&=67108863,N=Math.imul(v,ke),y=Math.imul(v,Se),y=y+Math.imul(M,ke)|0,B=Math.imul(M,Se),N=N+Math.imul(At,be)|0,y=y+Math.imul(At,Nt)|0,y=y+Math.imul(C,be)|0,B=B+Math.imul(C,Nt)|0,N=N+Math.imul(st,Ot)|0,y=y+Math.imul(st,Mt)|0,y=y+Math.imul(Rt,Ot)|0,B=B+Math.imul(Rt,Mt)|0,N=N+Math.imul(ft,Bt)|0,y=y+Math.imul(ft,Lt)|0,y=y+Math.imul(tt,Bt)|0,B=B+Math.imul(tt,Lt)|0,N=N+Math.imul(ot,Pt)|0,y=y+Math.imul(ot,Dt)|0,y=y+Math.imul(St,Pt)|0,B=B+Math.imul(St,Dt)|0,N=N+Math.imul(Ze,Ut)|0,y=y+Math.imul(Ze,zt)|0,y=y+Math.imul(bt,Ut)|0,B=B+Math.imul(bt,zt)|0,N=N+Math.imul(Et,Ft)|0,y=y+Math.imul(Et,Wt)|0,y=y+Math.imul(dt,Ft)|0,B=B+Math.imul(dt,Wt)|0,N=N+Math.imul(Ue,Ht)|0,y=y+Math.imul(Ue,jt)|0,y=y+Math.imul(qe,Ht)|0,B=B+Math.imul(qe,jt)|0,N=N+Math.imul(Ae,Kt)|0,y=y+Math.imul(Ae,Vt)|0,y=y+Math.imul(Ee,Kt)|0,B=B+Math.imul(Ee,Vt)|0;var Of=(P+N|0)+((y&8191)<<13)|0;P=(B+(y>>>13)|0)+(Of>>>26)|0,Of&=67108863,N=Math.imul(v,be),y=Math.imul(v,Nt),y=y+Math.imul(M,be)|0,B=Math.imul(M,Nt),N=N+Math.imul(At,Ot)|0,y=y+Math.imul(At,Mt)|0,y=y+Math.imul(C,Ot)|0,B=B+Math.imul(C,Mt)|0,N=N+Math.imul(st,Bt)|0,y=y+Math.imul(st,Lt)|0,y=y+Math.imul(Rt,Bt)|0,B=B+Math.imul(Rt,Lt)|0,N=N+Math.imul(ft,Pt)|0,y=y+Math.imul(ft,Dt)|0,y=y+Math.imul(tt,Pt)|0,B=B+Math.imul(tt,Dt)|0,N=N+Math.imul(ot,Ut)|0,y=y+Math.imul(ot,zt)|0,y=y+Math.imul(St,Ut)|0,B=B+Math.imul(St,zt)|0,N=N+Math.imul(Ze,Ft)|0,y=y+Math.imul(Ze,Wt)|0,y=y+Math.imul(bt,Ft)|0,B=B+Math.imul(bt,Wt)|0,N=N+Math.imul(Et,Ht)|0,y=y+Math.imul(Et,jt)|0,y=y+Math.imul(dt,Ht)|0,B=B+Math.imul(dt,jt)|0,N=N+Math.imul(Ue,Kt)|0,y=y+Math.imul(Ue,Vt)|0,y=y+Math.imul(qe,Kt)|0,B=B+Math.imul(qe,Vt)|0;var Mf=(P+N|0)+((y&8191)<<13)|0;P=(B+(y>>>13)|0)+(Mf>>>26)|0,Mf&=67108863,N=Math.imul(v,Ot),y=Math.imul(v,Mt),y=y+Math.imul(M,Ot)|0,B=Math.imul(M,Mt),N=N+Math.imul(At,Bt)|0,y=y+Math.imul(At,Lt)|0,y=y+Math.imul(C,Bt)|0,B=B+Math.imul(C,Lt)|0,N=N+Math.imul(st,Pt)|0,y=y+Math.imul(st,Dt)|0,y=y+Math.imul(Rt,Pt)|0,B=B+Math.imul(Rt,Dt)|0,N=N+Math.imul(ft,Ut)|0,y=y+Math.imul(ft,zt)|0,y=y+Math.imul(tt,Ut)|0,B=B+Math.imul(tt,zt)|0,N=N+Math.imul(ot,Ft)|0,y=y+Math.imul(ot,Wt)|0,y=y+Math.imul(St,Ft)|0,B=B+Math.imul(St,Wt)|0,N=N+Math.imul(Ze,Ht)|0,y=y+Math.imul(Ze,jt)|0,y=y+Math.imul(bt,Ht)|0,B=B+Math.imul(bt,jt)|0,N=N+Math.imul(Et,Kt)|0,y=y+Math.imul(Et,Vt)|0,y=y+Math.imul(dt,Kt)|0,B=B+Math.imul(dt,Vt)|0;var Bf=(P+N|0)+((y&8191)<<13)|0;P=(B+(y>>>13)|0)+(Bf>>>26)|0,Bf&=67108863,N=Math.imul(v,Bt),y=Math.imul(v,Lt),y=y+Math.imul(M,Bt)|0,B=Math.imul(M,Lt),N=N+Math.imul(At,Pt)|0,y=y+Math.imul(At,Dt)|0,y=y+Math.imul(C,Pt)|0,B=B+Math.imul(C,Dt)|0,N=N+Math.imul(st,Ut)|0,y=y+Math.imul(st,zt)|0,y=y+Math.imul(Rt,Ut)|0,B=B+Math.imul(Rt,zt)|0,N=N+Math.imul(ft,Ft)|0,y=y+Math.imul(ft,Wt)|0,y=y+Math.imul(tt,Ft)|0,B=B+Math.imul(tt,Wt)|0,N=N+Math.imul(ot,Ht)|0,y=y+Math.imul(ot,jt)|0,y=y+Math.imul(St,Ht)|0,B=B+Math.imul(St,jt)|0,N=N+Math.imul(Ze,Kt)|0,y=y+Math.imul(Ze,Vt)|0,y=y+Math.imul(bt,Kt)|0,B=B+Math.imul(bt,Vt)|0;var Lf=(P+N|0)+((y&8191)<<13)|0;P=(B+(y>>>13)|0)+(Lf>>>26)|0,Lf&=67108863,N=Math.imul(v,Pt),y=Math.imul(v,Dt),y=y+Math.imul(M,Pt)|0,B=Math.imul(M,Dt),N=N+Math.imul(At,Ut)|0,y=y+Math.imul(At,zt)|0,y=y+Math.imul(C,Ut)|0,B=B+Math.imul(C,zt)|0,N=N+Math.imul(st,Ft)|0,y=y+Math.imul(st,Wt)|0,y=y+Math.imul(Rt,Ft)|0,B=B+Math.imul(Rt,Wt)|0,N=N+Math.imul(ft,Ht)|0,y=y+Math.imul(ft,jt)|0,y=y+Math.imul(tt,Ht)|0,B=B+Math.imul(tt,jt)|0,N=N+Math.imul(ot,Kt)|0,y=y+Math.imul(ot,Vt)|0,y=y+Math.imul(St,Kt)|0,B=B+Math.imul(St,Vt)|0;var Pf=(P+N|0)+((y&8191)<<13)|0;P=(B+(y>>>13)|0)+(Pf>>>26)|0,Pf&=67108863,N=Math.imul(v,Ut),y=Math.imul(v,zt),y=y+Math.imul(M,Ut)|0,B=Math.imul(M,zt),N=N+Math.imul(At,Ft)|0,y=y+Math.imul(At,Wt)|0,y=y+Math.imul(C,Ft)|0,B=B+Math.imul(C,Wt)|0,N=N+Math.imul(st,Ht)|0,y=y+Math.imul(st,jt)|0,y=y+Math.imul(Rt,Ht)|0,B=B+Math.imul(Rt,jt)|0,N=N+Math.imul(ft,Kt)|0,y=y+Math.imul(ft,Vt)|0,y=y+Math.imul(tt,Kt)|0,B=B+Math.imul(tt,Vt)|0;var Df=(P+N|0)+((y&8191)<<13)|0;P=(B+(y>>>13)|0)+(Df>>>26)|0,Df&=67108863,N=Math.imul(v,Ft),y=Math.imul(v,Wt),y=y+Math.imul(M,Ft)|0,B=Math.imul(M,Wt),N=N+Math.imul(At,Ht)|0,y=y+Math.imul(At,jt)|0,y=y+Math.imul(C,Ht)|0,B=B+Math.imul(C,jt)|0,N=N+Math.imul(st,Kt)|0,y=y+Math.imul(st,Vt)|0,y=y+Math.imul(Rt,Kt)|0,B=B+Math.imul(Rt,Vt)|0;var Uf=(P+N|0)+((y&8191)<<13)|0;P=(B+(y>>>13)|0)+(Uf>>>26)|0,Uf&=67108863,N=Math.imul(v,Ht),y=Math.imul(v,jt),y=y+Math.imul(M,Ht)|0,B=Math.imul(M,jt),N=N+Math.imul(At,Kt)|0,y=y+Math.imul(At,Vt)|0,y=y+Math.imul(C,Kt)|0,B=B+Math.imul(C,Vt)|0;var zf=(P+N|0)+((y&8191)<<13)|0;P=(B+(y>>>13)|0)+(zf>>>26)|0,zf&=67108863,N=Math.imul(v,Kt),y=Math.imul(v,Vt),y=y+Math.imul(M,Kt)|0,B=Math.imul(M,Vt);var Ff=(P+N|0)+((y&8191)<<13)|0;return P=(B+(y>>>13)|0)+(Ff>>>26)|0,Ff&=67108863,O[0]=bf,O[1]=Sf,O[2]=Rf,O[3]=Af,O[4]=kf,O[5]=If,O[6]=xf,O[7]=Tf,O[8]=Cf,O[9]=Nf,O[10]=Of,O[11]=Mf,O[12]=Bf,O[13]=Lf,O[14]=Pf,O[15]=Df,O[16]=Uf,O[17]=zf,O[18]=Ff,P!==0&&(O[19]=P,S.length++),S};Math.imul||(b=E);function _(R,d,f){f.negative=d.negative^R.negative,f.length=R.length+d.length;for(var S=0,T=0,I=0;I<f.length-1;I++){var O=T;T=0;for(var P=S&67108863,N=Math.min(I,d.length-1),y=Math.max(0,I-R.length+1);y<=N;y++){var B=I-y,te=R.words[B]|0,ne=d.words[y]|0,ae=te*ne,Re=ae&67108863;O=O+(ae/67108864|0)|0,Re=Re+P|0,P=Re&67108863,O=O+(Re>>>26)|0,T+=O>>>26,O&=67108863}f.words[I]=P,S=O,O=T}return S!==0?f.words[I]=S:f.length--,f._strip()}function x(R,d,f){return _(R,d,f)}o.prototype.mulTo=function(d,f){var S,T=this.length+d.length;return this.length===10&&d.length===10?S=b(this,d,f):T<63?S=E(this,d,f):T<1024?S=_(this,d,f):S=x(this,d,f),S},o.prototype.mul=function(d){var f=new o(null);return f.words=new Array(this.length+d.length),this.mulTo(d,f)},o.prototype.mulf=function(d){var f=new o(null);return f.words=new Array(this.length+d.length),x(this,d,f)},o.prototype.imul=function(d){return this.clone().mulTo(d,this)},o.prototype.imuln=function(d){var f=d<0;f&&(d=-d),r(typeof d=="number"),r(d<67108864);for(var S=0,T=0;T<this.length;T++){var I=(this.words[T]|0)*d,O=(I&67108863)+(S&67108863);S>>=26,S+=I/67108864|0,S+=O>>>26,this.words[T]=O&67108863}return S!==0&&(this.words[T]=S,this.length++),this.length=d===0?1:this.length,f?this.ineg():this},o.prototype.muln=function(d){return this.clone().imuln(d)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(d){var f=A(d);if(f.length===0)return new o(1);for(var S=this,T=0;T<f.length&&f[T]===0;T++,S=S.sqr());if(++T<f.length)for(var I=S.sqr();T<f.length;T++,I=I.sqr())f[T]!==0&&(S=S.mul(I));return S},o.prototype.iushln=function(d){r(typeof d=="number"&&d>=0);var f=d%26,S=(d-f)/26,T=67108863>>>26-f<<26-f,I;if(f!==0){var O=0;for(I=0;I<this.length;I++){var P=this.words[I]&T,N=(this.words[I]|0)-P<<f;this.words[I]=N|O,O=P>>>26-f}O&&(this.words[I]=O,this.length++)}if(S!==0){for(I=this.length-1;I>=0;I--)this.words[I+S]=this.words[I];for(I=0;I<S;I++)this.words[I]=0;this.length+=S}return this._strip()},o.prototype.ishln=function(d){return r(this.negative===0),this.iushln(d)},o.prototype.iushrn=function(d,f,S){r(typeof d=="number"&&d>=0);var T;f?T=(f-f%26)/26:T=0;var I=d%26,O=Math.min((d-I)/26,this.length),P=67108863^67108863>>>I<<I,N=S;if(T-=O,T=Math.max(0,T),N){for(var y=0;y<O;y++)N.words[y]=this.words[y];N.length=O}if(O!==0)if(this.length>O)for(this.length-=O,y=0;y<this.length;y++)this.words[y]=this.words[y+O];else this.words[0]=0,this.length=1;var B=0;for(y=this.length-1;y>=0&&(B!==0||y>=T);y--){var te=this.words[y]|0;this.words[y]=B<<26-I|te>>>I,B=te&P}return N&&B!==0&&(N.words[N.length++]=B),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(d,f,S){return r(this.negative===0),this.iushrn(d,f,S)},o.prototype.shln=function(d){return this.clone().ishln(d)},o.prototype.ushln=function(d){return this.clone().iushln(d)},o.prototype.shrn=function(d){return this.clone().ishrn(d)},o.prototype.ushrn=function(d){return this.clone().iushrn(d)},o.prototype.testn=function(d){r(typeof d=="number"&&d>=0);var f=d%26,S=(d-f)/26,T=1<<f;if(this.length<=S)return!1;var I=this.words[S];return!!(I&T)},o.prototype.imaskn=function(d){r(typeof d=="number"&&d>=0);var f=d%26,S=(d-f)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(f!==0&&S++,this.length=Math.min(S,this.length),f!==0){var T=67108863^67108863>>>f<<f;this.words[this.length-1]&=T}return this._strip()},o.prototype.maskn=function(d){return this.clone().imaskn(d)},o.prototype.iaddn=function(d){return r(typeof d=="number"),r(d<67108864),d<0?this.isubn(-d):this.negative!==0?this.length===1&&(this.words[0]|0)<=d?(this.words[0]=d-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(d),this.negative=1,this):this._iaddn(d)},o.prototype._iaddn=function(d){this.words[0]+=d;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},o.prototype.isubn=function(d){if(r(typeof d=="number"),r(d<67108864),d<0)return this.iaddn(-d);if(this.negative!==0)return this.negative=0,this.iaddn(d),this.negative=1,this;if(this.words[0]-=d,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this._strip()},o.prototype.addn=function(d){return this.clone().iaddn(d)},o.prototype.subn=function(d){return this.clone().isubn(d)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(d,f,S){var T=d.length+S,I;this._expand(T);var O,P=0;for(I=0;I<d.length;I++){O=(this.words[I+S]|0)+P;var N=(d.words[I]|0)*f;O-=N&67108863,P=(O>>26)-(N/67108864|0),this.words[I+S]=O&67108863}for(;I<this.length-S;I++)O=(this.words[I+S]|0)+P,P=O>>26,this.words[I+S]=O&67108863;if(P===0)return this._strip();for(r(P===-1),P=0,I=0;I<this.length;I++)O=-(this.words[I]|0)+P,P=O>>26,this.words[I]=O&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(d,f){var S=this.length-d.length,T=this.clone(),I=d,O=I.words[I.length-1]|0,P=this._countBits(O);S=26-P,S!==0&&(I=I.ushln(S),T.iushln(S),O=I.words[I.length-1]|0);var N=T.length-I.length,y;if(f!=="mod"){y=new o(null),y.length=N+1,y.words=new Array(y.length);for(var B=0;B<y.length;B++)y.words[B]=0}var te=T.clone()._ishlnsubmul(I,1,N);te.negative===0&&(T=te,y&&(y.words[N]=1));for(var ne=N-1;ne>=0;ne--){var ae=(T.words[I.length+ne]|0)*67108864+(T.words[I.length+ne-1]|0);for(ae=Math.min(ae/O|0,67108863),T._ishlnsubmul(I,ae,ne);T.negative!==0;)ae--,T.negative=0,T._ishlnsubmul(I,1,ne),T.isZero()||(T.negative^=1);y&&(y.words[ne]=ae)}return y&&y._strip(),T._strip(),f!=="div"&&S!==0&&T.iushrn(S),{div:y||null,mod:T}},o.prototype.divmod=function(d,f,S){if(r(!d.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var T,I,O;return this.negative!==0&&d.negative===0?(O=this.neg().divmod(d,f),f!=="mod"&&(T=O.div.neg()),f!=="div"&&(I=O.mod.neg(),S&&I.negative!==0&&I.iadd(d)),{div:T,mod:I}):this.negative===0&&d.negative!==0?(O=this.divmod(d.neg(),f),f!=="mod"&&(T=O.div.neg()),{div:T,mod:O.mod}):this.negative&d.negative?(O=this.neg().divmod(d.neg(),f),f!=="div"&&(I=O.mod.neg(),S&&I.negative!==0&&I.isub(d)),{div:O.div,mod:I}):d.length>this.length||this.cmp(d)<0?{div:new o(0),mod:this}:d.length===1?f==="div"?{div:this.divn(d.words[0]),mod:null}:f==="mod"?{div:null,mod:new o(this.modrn(d.words[0]))}:{div:this.divn(d.words[0]),mod:new o(this.modrn(d.words[0]))}:this._wordDiv(d,f)},o.prototype.div=function(d){return this.divmod(d,"div",!1).div},o.prototype.mod=function(d){return this.divmod(d,"mod",!1).mod},o.prototype.umod=function(d){return this.divmod(d,"mod",!0).mod},o.prototype.divRound=function(d){var f=this.divmod(d);if(f.mod.isZero())return f.div;var S=f.div.negative!==0?f.mod.isub(d):f.mod,T=d.ushrn(1),I=d.andln(1),O=S.cmp(T);return O<0||I===1&&O===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},o.prototype.modrn=function(d){var f=d<0;f&&(d=-d),r(d<=67108863);for(var S=(1<<26)%d,T=0,I=this.length-1;I>=0;I--)T=(S*T+(this.words[I]|0))%d;return f?-T:T},o.prototype.modn=function(d){return this.modrn(d)},o.prototype.idivn=function(d){var f=d<0;f&&(d=-d),r(d<=67108863);for(var S=0,T=this.length-1;T>=0;T--){var I=(this.words[T]|0)+S*67108864;this.words[T]=I/d|0,S=I%d}return this._strip(),f?this.ineg():this},o.prototype.divn=function(d){return this.clone().idivn(d)},o.prototype.egcd=function(d){r(d.negative===0),r(!d.isZero());var f=this,S=d.clone();f.negative!==0?f=f.umod(d):f=f.clone();for(var T=new o(1),I=new o(0),O=new o(0),P=new o(1),N=0;f.isEven()&&S.isEven();)f.iushrn(1),S.iushrn(1),++N;for(var y=S.clone(),B=f.clone();!f.isZero();){for(var te=0,ne=1;!(f.words[0]&ne)&&te<26;++te,ne<<=1);if(te>0)for(f.iushrn(te);te-- >0;)(T.isOdd()||I.isOdd())&&(T.iadd(y),I.isub(B)),T.iushrn(1),I.iushrn(1);for(var ae=0,Re=1;!(S.words[0]&Re)&&ae<26;++ae,Re<<=1);if(ae>0)for(S.iushrn(ae);ae-- >0;)(O.isOdd()||P.isOdd())&&(O.iadd(y),P.isub(B)),O.iushrn(1),P.iushrn(1);f.cmp(S)>=0?(f.isub(S),T.isub(O),I.isub(P)):(S.isub(f),O.isub(T),P.isub(I))}return{a:O,b:P,gcd:S.iushln(N)}},o.prototype._invmp=function(d){r(d.negative===0),r(!d.isZero());var f=this,S=d.clone();f.negative!==0?f=f.umod(d):f=f.clone();for(var T=new o(1),I=new o(0),O=S.clone();f.cmpn(1)>0&&S.cmpn(1)>0;){for(var P=0,N=1;!(f.words[0]&N)&&P<26;++P,N<<=1);if(P>0)for(f.iushrn(P);P-- >0;)T.isOdd()&&T.iadd(O),T.iushrn(1);for(var y=0,B=1;!(S.words[0]&B)&&y<26;++y,B<<=1);if(y>0)for(S.iushrn(y);y-- >0;)I.isOdd()&&I.iadd(O),I.iushrn(1);f.cmp(S)>=0?(f.isub(S),T.isub(I)):(S.isub(f),I.isub(T))}var te;return f.cmpn(1)===0?te=T:te=I,te.cmpn(0)<0&&te.iadd(d),te},o.prototype.gcd=function(d){if(this.isZero())return d.abs();if(d.isZero())return this.abs();var f=this.clone(),S=d.clone();f.negative=0,S.negative=0;for(var T=0;f.isEven()&&S.isEven();T++)f.iushrn(1),S.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;S.isEven();)S.iushrn(1);var I=f.cmp(S);if(I<0){var O=f;f=S,S=O}else if(I===0||S.cmpn(1)===0)break;f.isub(S)}while(!0);return S.iushln(T)},o.prototype.invm=function(d){return this.egcd(d).a.umod(d)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(d){return this.words[0]&d},o.prototype.bincn=function(d){r(typeof d=="number");var f=d%26,S=(d-f)/26,T=1<<f;if(this.length<=S)return this._expand(S+1),this.words[S]|=T,this;for(var I=T,O=S;I!==0&&O<this.length;O++){var P=this.words[O]|0;P+=I,I=P>>>26,P&=67108863,this.words[O]=P}return I!==0&&(this.words[O]=I,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(d){var f=d<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this._strip();var S;if(this.length>1)S=1;else{f&&(d=-d),r(d<=67108863,"Number is too big");var T=this.words[0]|0;S=T===d?0:T<d?-1:1}return this.negative!==0?-S|0:S},o.prototype.cmp=function(d){if(this.negative!==0&&d.negative===0)return-1;if(this.negative===0&&d.negative!==0)return 1;var f=this.ucmp(d);return this.negative!==0?-f|0:f},o.prototype.ucmp=function(d){if(this.length>d.length)return 1;if(this.length<d.length)return-1;for(var f=0,S=this.length-1;S>=0;S--){var T=this.words[S]|0,I=d.words[S]|0;if(T!==I){T<I?f=-1:T>I&&(f=1);break}}return f},o.prototype.gtn=function(d){return this.cmpn(d)===1},o.prototype.gt=function(d){return this.cmp(d)===1},o.prototype.gten=function(d){return this.cmpn(d)>=0},o.prototype.gte=function(d){return this.cmp(d)>=0},o.prototype.ltn=function(d){return this.cmpn(d)===-1},o.prototype.lt=function(d){return this.cmp(d)===-1},o.prototype.lten=function(d){return this.cmpn(d)<=0},o.prototype.lte=function(d){return this.cmp(d)<=0},o.prototype.eqn=function(d){return this.cmpn(d)===0},o.prototype.eq=function(d){return this.cmp(d)===0},o.red=function(d){return new q(d)},o.prototype.toRed=function(d){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),d.convertTo(this)._forceRed(d)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(d){return this.red=d,this},o.prototype.forceRed=function(d){return r(!this.red,"Already a number in reduction context"),this._forceRed(d)},o.prototype.redAdd=function(d){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,d)},o.prototype.redIAdd=function(d){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,d)},o.prototype.redSub=function(d){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,d)},o.prototype.redISub=function(d){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,d)},o.prototype.redShl=function(d){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,d)},o.prototype.redMul=function(d){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.mul(this,d)},o.prototype.redIMul=function(d){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.imul(this,d)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(d){return r(this.red&&!d.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,d)};var L={k256:null,p224:null,p192:null,p25519:null};function U(R,d){this.name=R,this.p=new o(d,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}U.prototype._tmp=function(){var d=new o(null);return d.words=new Array(Math.ceil(this.n/13)),d},U.prototype.ireduce=function(d){var f=d,S;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),S=f.bitLength();while(S>this.n);var T=S<this.n?-1:f.ucmp(this.p);return T===0?(f.words[0]=0,f.length=1):T>0?f.isub(this.p):f.strip!==void 0?f.strip():f._strip(),f},U.prototype.split=function(d,f){d.iushrn(this.n,0,f)},U.prototype.imulK=function(d){return d.imul(this.k)};function D(){U.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(D,U),D.prototype.split=function(d,f){for(var S=4194303,T=Math.min(d.length,9),I=0;I<T;I++)f.words[I]=d.words[I];if(f.length=T,d.length<=9){d.words[0]=0,d.length=1;return}var O=d.words[9];for(f.words[f.length++]=O&S,I=10;I<d.length;I++){var P=d.words[I]|0;d.words[I-10]=(P&S)<<4|O>>>22,O=P}O>>>=22,d.words[I-10]=O,O===0&&d.length>10?d.length-=10:d.length-=9},D.prototype.imulK=function(d){d.words[d.length]=0,d.words[d.length+1]=0,d.length+=2;for(var f=0,S=0;S<d.length;S++){var T=d.words[S]|0;f+=T*977,d.words[S]=f&67108863,f=T*64+(f/67108864|0)}return d.words[d.length-1]===0&&(d.length--,d.words[d.length-1]===0&&d.length--),d};function W(){U.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(W,U);function z(){U.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(z,U);function H(){U.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(H,U),H.prototype.imulK=function(d){for(var f=0,S=0;S<d.length;S++){var T=(d.words[S]|0)*19+f,I=T&67108863;T>>>=26,d.words[S]=I,f=T}return f!==0&&(d.words[d.length++]=f),d},o._prime=function(d){if(L[d])return L[d];var f;if(d==="k256")f=new D;else if(d==="p224")f=new W;else if(d==="p192")f=new z;else if(d==="p25519")f=new H;else throw new Error("Unknown prime "+d);return L[d]=f,f};function q(R){if(typeof R=="string"){var d=o._prime(R);this.m=d.p,this.prime=d}else r(R.gtn(1),"modulus must be greater than 1"),this.m=R,this.prime=null}q.prototype._verify1=function(d){r(d.negative===0,"red works only with positives"),r(d.red,"red works only with red numbers")},q.prototype._verify2=function(d,f){r((d.negative|f.negative)===0,"red works only with positives"),r(d.red&&d.red===f.red,"red works only with red numbers")},q.prototype.imod=function(d){return this.prime?this.prime.ireduce(d)._forceRed(this):(u(d,d.umod(this.m)._forceRed(this)),d)},q.prototype.neg=function(d){return d.isZero()?d.clone():this.m.sub(d)._forceRed(this)},q.prototype.add=function(d,f){this._verify2(d,f);var S=d.add(f);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},q.prototype.iadd=function(d,f){this._verify2(d,f);var S=d.iadd(f);return S.cmp(this.m)>=0&&S.isub(this.m),S},q.prototype.sub=function(d,f){this._verify2(d,f);var S=d.sub(f);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},q.prototype.isub=function(d,f){this._verify2(d,f);var S=d.isub(f);return S.cmpn(0)<0&&S.iadd(this.m),S},q.prototype.shl=function(d,f){return this._verify1(d),this.imod(d.ushln(f))},q.prototype.imul=function(d,f){return this._verify2(d,f),this.imod(d.imul(f))},q.prototype.mul=function(d,f){return this._verify2(d,f),this.imod(d.mul(f))},q.prototype.isqr=function(d){return this.imul(d,d.clone())},q.prototype.sqr=function(d){return this.mul(d,d)},q.prototype.sqrt=function(d){if(d.isZero())return d.clone();var f=this.m.andln(3);if(r(f%2===1),f===3){var S=this.m.add(new o(1)).iushrn(2);return this.pow(d,S)}for(var T=this.m.subn(1),I=0;!T.isZero()&&T.andln(1)===0;)I++,T.iushrn(1);r(!T.isZero());var O=new o(1).toRed(this),P=O.redNeg(),N=this.m.subn(1).iushrn(1),y=this.m.bitLength();for(y=new o(2*y*y).toRed(this);this.pow(y,N).cmp(P)!==0;)y.redIAdd(P);for(var B=this.pow(y,T),te=this.pow(d,T.addn(1).iushrn(1)),ne=this.pow(d,T),ae=I;ne.cmp(O)!==0;){for(var Re=ne,Ae=0;Re.cmp(O)!==0;Ae++)Re=Re.redSqr();r(Ae<ae);var Ee=this.pow(B,new o(1).iushln(ae-Ae-1));te=te.redMul(Ee),B=Ee.redSqr(),ne=ne.redMul(B),ae=Ae}return te},q.prototype.invm=function(d){var f=d._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},q.prototype.pow=function(d,f){if(f.isZero())return new o(1).toRed(this);if(f.cmpn(1)===0)return d.clone();var S=4,T=new Array(1<<S);T[0]=new o(1).toRed(this),T[1]=d;for(var I=2;I<T.length;I++)T[I]=this.mul(T[I-1],d);var O=T[0],P=0,N=0,y=f.bitLength()%26;for(y===0&&(y=26),I=f.length-1;I>=0;I--){for(var B=f.words[I],te=y-1;te>=0;te--){var ne=B>>te&1;if(O!==T[0]&&(O=this.sqr(O)),ne===0&&P===0){N=0;continue}P<<=1,P|=ne,N++,!(N!==S&&(I!==0||te!==0))&&(O=this.mul(O,T[P]),N=0,P=0)}y=26}return O},q.prototype.convertTo=function(d){var f=d.umod(this.m);return f===d?f.clone():f},q.prototype.convertFrom=function(d){var f=d.clone();return f.red=null,f},o.mont=function(d){return new $(d)};function $(R){q.call(this,R),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i($,q),$.prototype.convertTo=function(d){return this.imod(d.ushln(this.shift))},$.prototype.convertFrom=function(d){var f=this.imod(d.mul(this.rinv));return f.red=null,f},$.prototype.imul=function(d,f){if(d.isZero()||f.isZero())return d.words[0]=0,d.length=1,d;var S=d.imul(f),T=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=S.isub(T).iushrn(this.shift),O=I;return I.cmp(this.m)>=0?O=I.isub(this.m):I.cmpn(0)<0&&(O=I.iadd(this.m)),O._forceRed(this)},$.prototype.mul=function(d,f){if(d.isZero()||f.isZero())return new o(0)._forceRed(this);var S=d.mul(f),T=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=S.isub(T).iushrn(this.shift),O=I;return I.cmp(this.m)>=0?O=I.isub(this.m):I.cmpn(0)<0&&(O=I.iadd(this.m)),O._forceRed(this)},$.prototype.invm=function(d){var f=this.imod(d._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(n,or)})(Vg);var Gg=Vg.exports;const Tr=Oi(Gg);var Jp={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(n,e){var t=$g,r=t.Buffer;function i(s,a){for(var c in s)a[c]=s[c]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?n.exports=t:(i(t,e),e.Buffer=o);function o(s,a,c){return r(s,a,c)}o.prototype=Object.create(r.prototype),i(r,o),o.from=function(s,a,c){if(typeof s=="number")throw new TypeError("Argument must not be a number");return r(s,a,c)},o.alloc=function(s,a,c){if(typeof s!="number")throw new TypeError("Argument must be a number");var l=r(s);return a!==void 0?typeof c=="string"?l.fill(a,c):l.fill(a):l.fill(0),l},o.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r(s)},o.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(s)}})(Jp,Jp.exports);var mT=Jp.exports,jl=mT.Buffer;function yT(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var r=0;r<n.length;r++){var i=n.charAt(r),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=r}var s=n.length,a=n.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function u(h){if((Array.isArray(h)||h instanceof Uint8Array)&&(h=jl.from(h)),!jl.isBuffer(h))throw new TypeError("Expected Buffer");if(h.length===0)return"";for(var w=0,k=0,A=0,E=h.length;A!==E&&h[A]===0;)A++,w++;for(var b=(E-A)*l+1>>>0,_=new Uint8Array(b);A!==E;){for(var x=h[A],L=0,U=b-1;(x!==0||L<k)&&U!==-1;U--,L++)x+=256*_[U]>>>0,_[U]=x%s>>>0,x=x/s>>>0;if(x!==0)throw new Error("Non-zero carry");k=L,A++}for(var D=b-k;D!==b&&_[D]===0;)D++;for(var W=a.repeat(w);D<b;++D)W+=n.charAt(_[D]);return W}function p(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return jl.alloc(0);for(var w=0,k=0,A=0;h[w]===a;)k++,w++;for(var E=(h.length-w)*c+1>>>0,b=new Uint8Array(E);w<h.length;){var _=h.charCodeAt(w);if(_>255)return;var x=e[_];if(x===255)return;for(var L=0,U=E-1;(x!==0||L<A)&&U!==-1;U--,L++)x+=s*b[U]>>>0,b[U]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");A=L,w++}for(var D=E-A;D!==E&&b[D]===0;)D++;var W=jl.allocUnsafe(k+(E-D));W.fill(0,0,k);for(var z=k;D!==E;)W[z++]=b[D++];return W}function g(h){var w=p(h);if(w)return w;throw new Error("Non-base"+s+" character")}return{encode:u,decodeUnsafe:p,decode:g}}var wT=yT,vT=wT,_T="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",DE=vT(_T);const Zt=Oi(DE),gw=mE;var pn={};function gi(n,e,t){return e<=n&&n<=t}function Gd(n){if(n===void 0)return{};if(n===Object(n))return n;throw TypeError("Could not convert argument to dictionary")}function ET(n){for(var e=String(n),t=e.length,r=0,i=[];r<t;){var o=e.charCodeAt(r);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(r===t-1)i.push(65533);else{var s=n.charCodeAt(r+1);if(56320<=s&&s<=57343){var a=o&1023,c=s&1023;i.push(65536+(a<<10)+c),r+=1}else i.push(65533)}r+=1}return i}function bT(n){for(var e="",t=0;t<n.length;++t){var r=n[t];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var ad=-1;function qg(n){this.tokens=[].slice.call(n)}qg.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():ad},prepend:function(n){if(Array.isArray(n))for(var e=n;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(n)},push:function(n){if(Array.isArray(n))for(var e=n;e.length;)this.tokens.push(e.shift());else this.tokens.push(n)}};var wa=-1;function _h(n,e){if(n)throw TypeError("Decoder error");return e||65533}var cd="utf-8";function ld(n,e){if(!(this instanceof ld))return new ld(n,e);if(n=n!==void 0?String(n).toLowerCase():cd,n!==cd)throw new Error("Encoding not supported. Only utf-8 is supported");e=Gd(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}ld.prototype={decode:function(e,t){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),t=Gd(t),this._streaming||(this._decoder=new ST({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!t.stream;for(var i=new qg(r),o=[],s;!i.endOfStream()&&(s=this._decoder.handler(i,i.read()),s!==wa);)s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s));if(!this._streaming){do{if(s=this._decoder.handler(i,i.read()),s===wa)break;s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s))}while(!i.endOfStream());this._decoder=null}return o.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(o[0]===65279?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),bT(o)}};function ud(n,e){if(!(this instanceof ud))return new ud(n,e);if(n=n!==void 0?String(n).toLowerCase():cd,n!==cd)throw new Error("Encoding not supported. Only utf-8 is supported");e=Gd(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}ud.prototype={encode:function(e,t){e=e?String(e):"",t=Gd(t),this._streaming||(this._encoder=new RT(this._options)),this._streaming=!!t.stream;for(var r=[],i=new qg(ET(e)),o;!i.endOfStream()&&(o=this._encoder.handler(i,i.read()),o!==wa);)Array.isArray(o)?r.push.apply(r,o):r.push(o);if(!this._streaming){for(;o=this._encoder.handler(i,i.read()),o!==wa;)Array.isArray(o)?r.push.apply(r,o):r.push(o);this._encoder=null}return new Uint8Array(r)}};function ST(n){var e=n.fatal,t=0,r=0,i=0,o=128,s=191;this.handler=function(a,c){if(c===ad&&i!==0)return i=0,_h(e);if(c===ad)return wa;if(i===0){if(gi(c,0,127))return c;if(gi(c,194,223))i=1,t=c-192;else if(gi(c,224,239))c===224&&(o=160),c===237&&(s=159),i=2,t=c-224;else if(gi(c,240,244))c===240&&(o=144),c===244&&(s=143),i=3,t=c-240;else return _h(e);return t=t<<6*i,null}if(!gi(c,o,s))return t=i=r=0,o=128,s=191,a.prepend(c),_h(e);if(o=128,s=191,r+=1,t+=c-128<<6*(i-r),r!==i)return null;var l=t;return t=i=r=0,l}}function RT(n){n.fatal,this.handler=function(e,t){if(t===ad)return wa;if(gi(t,0,127))return t;var r,i;gi(t,128,2047)?(r=1,i=192):gi(t,2048,65535)?(r=2,i=224):gi(t,65536,1114111)&&(r=3,i=240);for(var o=[(t>>6*r)+i];r>0;){var s=t>>6*(r-1);o.push(128|s&63),r-=1}return o}}const AT=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:ld,TextEncoder:ud},Symbol.toStringTag,{value:"Module"})),kT=Id(AT);var IT=or&&or.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),xT=or&&or.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),Jr=or&&or.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},TT=or&&or.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.hasOwnProperty.call(n,t)&&IT(e,n,t);return xT(e,n),e},UE=or&&or.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(pn,"__esModule",{value:!0});var zE=pn.deserializeUnchecked=VE=pn.deserialize=KE=pn.serialize=pn.BinaryReader=pn.BinaryWriter=pn.BorshError=pn.baseDecode=pn.baseEncode=void 0;const no=UE(Gg),FE=UE(DE),CT=TT(kT),NT=typeof TextDecoder!="function"?CT.TextDecoder:TextDecoder,OT=new NT("utf-8",{fatal:!0});function MT(n){return typeof n=="string"&&(n=de.from(n,"utf8")),FE.default.encode(de.from(n))}pn.baseEncode=MT;function BT(n){return de.from(FE.default.decode(n))}pn.baseDecode=BT;const Eh=1024;class Nn extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}pn.BorshError=Nn;class WE{constructor(){this.buf=de.alloc(Eh),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=de.concat([this.buf,de.alloc(Eh)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(de.from(new no.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(de.from(new no.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(de.from(new no.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(de.from(new no.default(e).toArray("le",64)))}writeBuffer(e){this.buf=de.concat([de.from(this.buf.subarray(0,this.length)),e,de.alloc(Eh)]),this.length+=e.length}writeString(e){this.maybeResize();const t=de.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(de.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),t(r)}toArray(){return this.buf.subarray(0,this.length)}}pn.BinaryWriter=WE;function ei(n,e,t){const r=t.value;t.value=function(...i){try{return r.apply(this,i)}catch(o){if(o instanceof RangeError){const s=o.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(s)>=0)throw new Nn("Reached the end of buffer when deserializing")}throw o}}}class lr{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new no.default(e,"le")}readU128(){const e=this.readBuffer(16);return new no.default(e,"le")}readU256(){const e=this.readBuffer(32);return new no.default(e,"le")}readU512(){const e=this.readBuffer(64);return new no.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new Nn(`Expected buffer length ${e} isn't within bounds`);const t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){const e=this.readU32(),t=this.readBuffer(e);try{return OT.decode(t)}catch(r){throw new Nn(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const t=this.readU32(),r=Array();for(let i=0;i<t;++i)r.push(e());return r}}Jr([ei],lr.prototype,"readU8",null);Jr([ei],lr.prototype,"readU16",null);Jr([ei],lr.prototype,"readU32",null);Jr([ei],lr.prototype,"readU64",null);Jr([ei],lr.prototype,"readU128",null);Jr([ei],lr.prototype,"readU256",null);Jr([ei],lr.prototype,"readU512",null);Jr([ei],lr.prototype,"readString",null);Jr([ei],lr.prototype,"readFixedArray",null);Jr([ei],lr.prototype,"readArray",null);pn.BinaryReader=lr;function HE(n){return n.charAt(0).toUpperCase()+n.slice(1)}function Po(n,e,t,r,i){try{if(typeof r=="string")i[`write${HE(r)}`](t);else if(r instanceof Array)if(typeof r[0]=="number"){if(t.length!==r[0])throw new Nn(`Expecting byte array of length ${r[0]}, but got ${t.length} bytes`);i.writeFixedArray(t)}else if(r.length===2&&typeof r[1]=="number"){if(t.length!==r[1])throw new Nn(`Expecting byte array of length ${r[1]}, but got ${t.length} bytes`);for(let o=0;o<r[1];o++)Po(n,null,t[o],r[0],i)}else i.writeArray(t,o=>{Po(n,e,o,r[0],i)});else if(r.kind!==void 0)switch(r.kind){case"option":{t==null?i.writeU8(0):(i.writeU8(1),Po(n,e,t,r.type,i));break}case"map":{i.writeU32(t.size),t.forEach((o,s)=>{Po(n,e,s,r.key,i),Po(n,e,o,r.value,i)});break}default:throw new Nn(`FieldType ${r} unrecognized`)}else jE(n,t,i)}catch(o){throw o instanceof Nn&&o.addToFieldPath(e),o}}function jE(n,e,t){if(typeof e.borshSerialize=="function"){e.borshSerialize(t);return}const r=n.get(e.constructor);if(!r)throw new Nn(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([i,o])=>{Po(n,i,e[i],o,t)});else if(r.kind==="enum"){const i=e[r.field];for(let o=0;o<r.values.length;++o){const[s,a]=r.values[o];if(s===i){t.writeU8(o),Po(n,s,e[s],a,t);break}}}else throw new Nn(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function LT(n,e,t=WE){const r=new t;return jE(n,e,r),r.toArray()}var KE=pn.serialize=LT;function Do(n,e,t,r){try{if(typeof t=="string")return r[`read${HE(t)}`]();if(t instanceof Array){if(typeof t[0]=="number")return r.readFixedArray(t[0]);if(typeof t[1]=="number"){const i=[];for(let o=0;o<t[1];o++)i.push(Do(n,null,t[0],r));return i}else return r.readArray(()=>Do(n,e,t[0],r))}if(t.kind==="option")return r.readU8()?Do(n,e,t.type,r):void 0;if(t.kind==="map"){let i=new Map;const o=r.readU32();for(let s=0;s<o;s++){const a=Do(n,e,t.key,r),c=Do(n,e,t.value,r);i.set(a,c)}return i}return Yg(n,t,r)}catch(i){throw i instanceof Nn&&i.addToFieldPath(e),i}}function Yg(n,e,t){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(t);const r=n.get(e);if(!r)throw new Nn(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const i={};for(const[o,s]of n.get(e).fields)i[o]=Do(n,o,s,t);return new e(i)}if(r.kind==="enum"){const i=t.readU8();if(i>=r.values.length)throw new Nn(`Enum index: ${i} is out of range`);const[o,s]=r.values[i],a=Do(n,o,s,t);return new e({[o]:a})}throw new Nn(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function PT(n,e,t,r=lr){const i=new r(t),o=Yg(n,e,i);if(i.offset<t.length)throw new Nn(`Unexpected ${t.length-i.offset} bytes after deserialized data`);return o}var VE=pn.deserialize=PT;function DT(n,e,t,r=lr){const i=new r(t);return Yg(n,e,i)}zE=pn.deserializeUnchecked=DT;var G={};Object.defineProperty(G,"__esModule",{value:!0});G.s16=G.s8=G.nu64be=G.u48be=G.u40be=G.u32be=G.u24be=G.u16be=dn=G.nu64=G.u48=G.u40=pe=G.u32=G.u24=hr=G.u16=Be=G.u8=mo=G.offset=G.greedy=G.Constant=G.UTF8=G.CString=G.Blob=G.Boolean=G.BitField=G.BitStructure=G.VariantLayout=G.Union=G.UnionLayoutDiscriminator=G.UnionDiscriminator=G.Structure=G.Sequence=G.DoubleBE=G.Double=G.FloatBE=G.Float=G.NearInt64BE=G.NearInt64=G.NearUInt64BE=G.NearUInt64=G.IntBE=G.Int=G.UIntBE=G.UInt=G.OffsetLayout=G.GreedyCount=G.ExternalLayout=G.bindConstructorLayout=G.nameWithProperty=G.Layout=G.uint8ArrayToBuffer=G.checkUint8Array=void 0;G.constant=G.utf8=G.cstr=Ye=G.blob=G.unionLayoutDiscriminator=G.union=gn=G.seq=G.bits=ge=G.struct=G.f64be=G.f64=G.f32be=G.f32=G.ns64be=G.s48be=G.s40be=G.s32be=G.s24be=G.s16be=tr=G.ns64=G.s48=G.s40=G.s32=G.s24=void 0;const Zg=$g;function Oa(n){if(!(n instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}G.checkUint8Array=Oa;function We(n){return Oa(n),Zg.Buffer.from(n.buffer,n.byteOffset,n.length)}G.uint8ArrayToBuffer=We;let Ve=class{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}};G.Layout=Ve;function Xg(n,e){return e.property?n+"["+e.property+"]":n}G.nameWithProperty=Xg;function UT(n,e){if(typeof n!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(n,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Ve))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");n.layout_=e,e.boundConstructor_=n,e.makeDestinationObject=()=>new n,Object.defineProperty(n.prototype,"encode",{value(t,r){return e.encode(this,t,r)},writable:!0}),Object.defineProperty(n,"decode",{value(t,r){return e.decode(t,r)},writable:!0})}G.bindConstructorLayout=UT;let Fn=class extends Ve{isCount(){throw new Error("ExternalLayout is abstract")}};G.ExternalLayout=Fn;let $E=class extends Fn{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){Oa(e);const r=e.length-t;return Math.floor(r/this.elementSpan)}encode(e,t,r){return 0}};G.GreedyCount=$E;let Qg=class extends Fn{constructor(e,t=0,r){if(!(e instanceof Ve))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof wr||this.layout instanceof Br}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,r=0){return this.layout.encode(e,t,r+this.offset)}};G.OffsetLayout=Qg;let wr=class extends Ve{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return We(e).readUIntLE(t,this.span)}encode(e,t,r=0){return We(t).writeUIntLE(e,r,this.span),this.span}};G.UInt=wr;let Br=class extends Ve{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return We(e).readUIntBE(t,this.span)}encode(e,t,r=0){return We(t).writeUIntBE(e,r,this.span),this.span}};G.UIntBE=Br;let gs=class extends Ve{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return We(e).readIntLE(t,this.span)}encode(e,t,r=0){return We(t).writeIntLE(e,r,this.span),this.span}};G.Int=gs;let Ma=class extends Ve{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return We(e).readIntBE(t,this.span)}encode(e,t,r=0){return We(t).writeIntBE(e,r,this.span),this.span}};G.IntBE=Ma;const e0=Math.pow(2,32);function qd(n){const e=Math.floor(n/e0),t=n-e*e0;return{hi32:e,lo32:t}}function Yd(n,e){return n*e0+e}let GE=class extends Ve{constructor(e){super(8,e)}decode(e,t=0){const r=We(e),i=r.readUInt32LE(t),o=r.readUInt32LE(t+4);return Yd(o,i)}encode(e,t,r=0){const i=qd(e),o=We(t);return o.writeUInt32LE(i.lo32,r),o.writeUInt32LE(i.hi32,r+4),8}};G.NearUInt64=GE;let qE=class extends Ve{constructor(e){super(8,e)}decode(e,t=0){const r=We(e),i=r.readUInt32BE(t),o=r.readUInt32BE(t+4);return Yd(i,o)}encode(e,t,r=0){const i=qd(e),o=We(t);return o.writeUInt32BE(i.hi32,r),o.writeUInt32BE(i.lo32,r+4),8}};G.NearUInt64BE=qE;let YE=class extends Ve{constructor(e){super(8,e)}decode(e,t=0){const r=We(e),i=r.readUInt32LE(t),o=r.readInt32LE(t+4);return Yd(o,i)}encode(e,t,r=0){const i=qd(e),o=We(t);return o.writeUInt32LE(i.lo32,r),o.writeInt32LE(i.hi32,r+4),8}};G.NearInt64=YE;let ZE=class extends Ve{constructor(e){super(8,e)}decode(e,t=0){const r=We(e),i=r.readInt32BE(t),o=r.readUInt32BE(t+4);return Yd(i,o)}encode(e,t,r=0){const i=qd(e),o=We(t);return o.writeInt32BE(i.hi32,r),o.writeUInt32BE(i.lo32,r+4),8}};G.NearInt64BE=ZE;let XE=class extends Ve{constructor(e){super(4,e)}decode(e,t=0){return We(e).readFloatLE(t)}encode(e,t,r=0){return We(t).writeFloatLE(e,r),4}};G.Float=XE;let QE=class extends Ve{constructor(e){super(4,e)}decode(e,t=0){return We(e).readFloatBE(t)}encode(e,t,r=0){return We(t).writeFloatBE(e,r),4}};G.FloatBE=QE;let JE=class extends Ve{constructor(e){super(8,e)}decode(e,t=0){return We(e).readDoubleLE(t)}encode(e,t,r=0){return We(t).writeDoubleLE(e,r),8}};G.Double=JE;let eb=class extends Ve{constructor(e){super(8,e)}decode(e,t=0){return We(e).readDoubleBE(t)}encode(e,t,r=0){return We(t).writeDoubleBE(e,r),8}};G.DoubleBE=eb;let tb=class extends Ve{constructor(e,t,r){if(!(e instanceof Ve))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof Fn&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(t instanceof Fn)&&0<e.span&&(i=t*e.span),super(i,r),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0,i=this.count;if(i instanceof Fn&&(i=i.decode(e,t)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let o=0;for(;o<i;)r+=this.elementLayout.getSpan(e,t+r),++o}return r}decode(e,t=0){const r=[];let i=0,o=this.count;for(o instanceof Fn&&(o=o.decode(e,t));i<o;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),i+=1;return r}encode(e,t,r=0){const i=this.elementLayout,o=e.reduce((s,a)=>s+i.encode(a,t,r+s),0);return this.count instanceof Fn&&this.count.encode(e.length,t,r),o}};G.Sequence=tb;let nb=class extends Ve{constructor(e,t,r){if(!(Array.isArray(e)&&e.reduce((o,s)=>o&&s instanceof Ve,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&r===void 0&&(r=t,t=void 0);for(const o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((o,s)=>o+s.getSpan(),0)}catch{}super(i,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((i,o)=>{const s=o.getSpan(e,t);return t+=s,i+s},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,t=0){Oa(e);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,t)),t+=i.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r=0){const i=r;let o=0,s=0;for(const a of this.fields){let c=a.span;if(s=0<c?c:0,a.property!==void 0){const l=e[a.property];l!==void 0&&(s=a.encode(l,t,r),0>c&&(c=a.getSpan(t,r)))}o=r,r+=c}return o+s-i}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}};G.Structure=nb;let Jg=class{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,r){throw new Error("UnionDiscriminator is abstract")}};G.UnionDiscriminator=Jg;let dd=class extends Jg{constructor(e,t){if(!(e instanceof Fn&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}};G.UnionLayoutDiscriminator=dd;let em=class extends Ve{constructor(e,t,r){let i;if(e instanceof wr||e instanceof Br)i=new dd(new Qg(e));else if(e instanceof Fn&&e.isCount())i=new dd(e);else if(e instanceof Jg)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof Ve))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let o=-1;t&&(o=t.span,0<=o&&(e instanceof wr||e instanceof Br)&&(o+=i.layout.span)),super(o,r),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof wr||e instanceof Br,this.defaultLayout=t,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;const r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(const t in this.registry){const r=this.registry[t];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,t=0){let r;const i=this.discriminator,o=i.decode(e,t),s=this.registry[o];if(s===void 0){const a=this.defaultLayout;let c=0;this.usesPrefixDiscriminator&&(c=i.layout.span),r=this.makeDestinationObject(),r[i.property]=o,r[a.property]=a.decode(e,t+c)}else r=s.decode(e,t);return r}encode(e,t,r=0){const i=this.getSourceVariant(e);if(i===void 0){const o=this.discriminator,s=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=o.layout.span),o.encode(e[o.property],t,r),a+s.encode(e[s.property],t,r+a)}return i.encode(e,t,r)}addVariant(e,t,r){const i=new rb(this,e,t,r);return this.registry[e]=i,i}getVariant(e,t=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,t):r=e,this.registry[r]}};G.Union=em;let rb=class extends Ve{constructor(e,t,r,i){if(!(e instanceof em))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof Ve))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=r?r.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,i),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,t+r)),r+i}decode(e,t=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let o=i;if(this.layout&&(this.layout.encode(e[this.property],t,r+i),o+=this.layout.getSpan(t,r+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};G.VariantLayout=rb;function xs(n){return 0>n&&(n+=4294967296),n}let tm=class extends Ve{constructor(e,t,r){if(!(e instanceof wr||e instanceof Br))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof t=="string"&&r===void 0&&(r=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!t,this.fields=[];let i=0;this._packedSetValue=function(o){return i=xs(o),this},this._packedGetValue=function(){return i}}decode(e,t=0){const r=this.makeDestinationObject(),i=this.word.decode(e,t);this._packedSetValue(i);for(const o of this.fields)o.property!==void 0&&(r[o.property]=o.decode(e));return r}encode(e,t,r=0){const i=this.word.decode(t,r);this._packedSetValue(i);for(const o of this.fields)if(o.property!==void 0){const s=e[o.property];s!==void 0&&o.encode(s)}return this.word.encode(this._packedGetValue(),t,r)}addField(e,t){const r=new nm(this,e,t);return this.fields.push(r),r}addBoolean(e){const t=new ib(this,e);return this.fields.push(t),t}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}};G.BitStructure=tm;let nm=class{constructor(e,t,r){if(!(e instanceof tm))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const i=8*e.span,o=e.fields.reduce((s,a)=>s+a.bits,0);if(t+o>i)throw new Error("bits too long for span remainder ("+(i-o)+" of "+i+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,t===32&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=i-o-t),this.wordMask=xs(this.valueMask<<this.start),this.property=r}decode(e,t){const r=this.container._packedGetValue();return xs(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==xs(e&this.valueMask))throw new TypeError(Xg("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),r=xs(e<<this.start);this.container._packedSetValue(xs(t&~this.wordMask)|r)}};G.BitField=nm;let ib=class extends nm{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};G.Boolean=ib;let ob=class extends Ve{constructor(e,t){if(!(e instanceof Fn&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof Fn||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t=0){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),We(e).slice(t,t+r)}encode(e,t,r){let i=this.length;if(this.length instanceof Fn&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(Xg("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(r+i>t.length)throw new RangeError("encoding overruns Uint8Array");const o=We(e);return We(t).write(o.toString("hex"),r,i,"hex"),this.length instanceof Fn&&this.length.encode(i,t,r),i}};G.Blob=ob;let sb=class extends Ve{constructor(e){super(-1,e)}getSpan(e,t=0){Oa(e);let r=t;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-t}decode(e,t=0){const r=this.getSpan(e,t);return We(e).slice(t,t+r-1).toString("utf-8")}encode(e,t,r=0){typeof e!="string"&&(e=String(e));const i=Zg.Buffer.from(e,"utf8"),o=i.length;if(r+o>t.length)throw new RangeError("encoding overruns Buffer");const s=We(t);return i.copy(s,r),s[r+o]=0,o+1}};G.CString=sb;let ab=class extends Ve{constructor(e,t){if(typeof e=="string"&&t===void 0&&(t=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return Oa(e),e.length-t}decode(e,t=0){const r=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return We(e).slice(t,t+r).toString("utf-8")}encode(e,t,r=0){typeof e!="string"&&(e=String(e));const i=Zg.Buffer.from(e,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(r+o>t.length)throw new RangeError("encoding overruns Buffer");return i.copy(We(t),r),o}};G.UTF8=ab;let cb=class extends Ve{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,r){return 0}};G.Constant=cb;G.greedy=(n,e)=>new $E(n,e);var mo=G.offset=(n,e,t)=>new Qg(n,e,t),Be=G.u8=n=>new wr(1,n),hr=G.u16=n=>new wr(2,n);G.u24=n=>new wr(3,n);var pe=G.u32=n=>new wr(4,n);G.u40=n=>new wr(5,n);G.u48=n=>new wr(6,n);var dn=G.nu64=n=>new GE(n);G.u16be=n=>new Br(2,n);G.u24be=n=>new Br(3,n);G.u32be=n=>new Br(4,n);G.u40be=n=>new Br(5,n);G.u48be=n=>new Br(6,n);G.nu64be=n=>new qE(n);G.s8=n=>new gs(1,n);G.s16=n=>new gs(2,n);G.s24=n=>new gs(3,n);G.s32=n=>new gs(4,n);G.s40=n=>new gs(5,n);G.s48=n=>new gs(6,n);var tr=G.ns64=n=>new YE(n);G.s16be=n=>new Ma(2,n);G.s24be=n=>new Ma(3,n);G.s32be=n=>new Ma(4,n);G.s40be=n=>new Ma(5,n);G.s48be=n=>new Ma(6,n);G.ns64be=n=>new ZE(n);G.f32=n=>new XE(n);G.f32be=n=>new QE(n);G.f64=n=>new JE(n);G.f64be=n=>new eb(n);var ge=G.struct=(n,e,t)=>new nb(n,e,t);G.bits=(n,e,t)=>new tm(n,e,t);var gn=G.seq=(n,e,t)=>new tb(n,e,t);G.union=(n,e,t)=>new em(n,e,t);G.unionLayoutDiscriminator=(n,e)=>new dd(n,e);var Ye=G.blob=(n,e)=>new ob(n,e);G.cstr=n=>new sb(n);G.utf8=(n,e)=>new ab(n,e);G.constant=(n,e)=>new cb(n,e);var zT=8078e3,FT=8078001,WT=8078004,HT=8078005,jT=8078006,KT=8078011;function lb(n){return Array.isArray(n)?"%5B"+n.map(lb).join("%2C%20")+"%5D":typeof n=="bigint"?`${n}n`:encodeURIComponent(String(n!=null&&Object.getPrototypeOf(n)===null?{...n}:n))}function VT([n,e]){return`${n}=${lb(e)}`}function $T(n){const e=Object.entries(n).map(VT).join("&");return btoa(e)}function GT(n,e={}){{let t=`Solana error #${n}; Decode this error by running \`npx @solana/errors decode -- ${n}`;return Object.keys(e).length&&(t+=` '${$T(e)}'`),`${t}\``}}var ra=class extends Error{constructor(...[e,t]){let r,i;if(t){const{cause:s,...a}=t;s&&(i={cause:s}),Object.keys(a).length>0&&(r=a)}const o=GT(e,r);super(o,i);$t(this,"cause",this.cause);$t(this,"context");this.context={__code:e,...r},this.name="SolanaError"}};function qT(n,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(n)}function YT(n){return Object.freeze({...n,encode:e=>{const t=new Uint8Array(qT(e,n));return n.write(e,t,0),t}})}function ZT(n){return Object.freeze({...n,decode:(e,t=0)=>n.read(e,t)[0]})}function ks(n){return"fixedSize"in n&&typeof n.fixedSize=="number"}function XT(n,e){if(ks(n)!==ks(e))throw new ra(WT);if(ks(n)&&ks(e)&&n.fixedSize!==e.fixedSize)throw new ra(HT,{decoderFixedSize:e.fixedSize,encoderFixedSize:n.fixedSize});if(!ks(n)&&!ks(e)&&n.maxSize!==e.maxSize)throw new ra(jT,{decoderMaxSize:e.maxSize,encoderMaxSize:n.maxSize});return{...e,...n,decode:e.decode,encode:n.encode,read:e.read,write:n.write}}function QT(n,e,t=0){if(e.length-t<=0)throw new ra(zT,{codecDescription:n})}function JT(n,e,t,r=0){const i=t.length-r;if(i<e)throw new ra(FT,{bytesLength:i,codecDescription:n,expected:e})}function eC(n,e,t,r){if(r<e||r>t)throw new ra(KT,{codecDescription:n,max:t,min:e,value:r})}function ub(n){return(n==null?void 0:n.endian)!==1}function tC(n){return YT({fixedSize:n.size,write(e,t,r){n.range&&eC(n.name,n.range[0],n.range[1],e);const i=new ArrayBuffer(n.size);return n.set(new DataView(i),e,ub(n.config)),t.set(new Uint8Array(i),r),r+n.size}})}function nC(n){return ZT({fixedSize:n.size,read(e,t=0){QT(n.name,e,t),JT(n.name,n.size,e,t);const r=new DataView(rC(e,t,n.size));return[n.get(r,ub(n.config)),t+n.size]}})}function rC(n,e,t){const r=n.byteOffset+(e??0),i=t??n.byteLength;return n.buffer.slice(r,r+i)}var db=(n={})=>tC({config:n,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,t,r)=>e.setBigUint64(0,BigInt(t),r),size:8}),iC=(n={})=>nC({config:n,get:(e,t)=>e.getBigUint64(0,t),name:"u64",size:8}),oC=(n={})=>XT(db(n),iC(n));let sC=class extends TypeError{constructor(e,t){let r;const{message:i,explanation:o,...s}=e,{path:a}=e,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(o??c),o!=null&&(this.cause=c),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}};function aC(n){return ll(n)&&typeof n[Symbol.iterator]=="function"}function ll(n){return typeof n=="object"&&n!=null}function fd(n){return ll(n)&&!Array.isArray(n)}function Pr(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function cC(n){const{done:e,value:t}=n.next();return e?void 0:t}function lC(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:i,branch:o}=e,{type:s}=t,{refinement:a,message:c=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${Pr(r)}\``}=n;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...n,message:c}}function*mw(n,e,t,r){aC(n)||(n=[n]);for(const i of n){const o=lC(i,e,t,r);o&&(yield o)}}function*rm(n,e,t={}){const{path:r=[],branch:i=[n],coerce:o=!1,mask:s=!1}=t,a={path:r,branch:i,mask:s};o&&(n=e.coercer(n,a));let c="valid";for(const l of e.validator(n,a))l.explanation=t.message,c="not_valid",yield[l,void 0];for(let[l,u,p]of e.entries(n,a)){const g=rm(u,p,{path:l===void 0?r:[...r,l],branch:l===void 0?i:[...i,u],coerce:o,mask:s,message:t.message});for(const h of g)h[0]?(c=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):o&&(u=h[1],l===void 0?n=u:n instanceof Map?n.set(l,u):n instanceof Set?n.add(u):ll(n)&&(u!==void 0||l in n)&&(n[l]=u))}if(c!=="not_valid")for(const l of e.refiner(n,a))l.explanation=t.message,c="not_refined",yield[l,void 0];c==="valid"&&(yield[void 0,n])}let ti=class{constructor(e){const{type:t,schema:r,validator:i,refiner:o,coercer:s=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=s,i?this.validator=(c,l)=>{const u=i(c,l);return mw(u,l,this,c)}:this.validator=()=>[],o?this.refiner=(c,l)=>{const u=o(c,l);return mw(u,l,this,c)}:this.refiner=()=>[]}assert(e,t){return fb(e,this,t)}create(e,t){return se(e,this,t)}is(e){return hb(e,this)}mask(e,t){return uC(e,this,t)}validate(e,t={}){return ul(e,this,t)}};function fb(n,e,t){const r=ul(n,e,{message:t});if(r[0])throw r[0]}function se(n,e,t){const r=ul(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function uC(n,e,t){const r=ul(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function hb(n,e){return!ul(n,e)[0]}function ul(n,e,t={}){const r=rm(n,e,t),i=cC(r);return i[0]?[new sC(i[0],function*(){for(const s of r)s[0]&&(yield s[0])}),void 0]:[void 0,i[1]]}function ms(n,e){return new ti({type:n,schema:null,validator:e})}function dC(){return ms("any",()=>!0)}function le(n){return new ti({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${Pr(e)}`}})}function Qr(){return ms("boolean",n=>typeof n=="boolean")}function im(n){return ms("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${Pr(e)}`)}function mt(n){const e=Pr(n),t=typeof n;return new ti({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${Pr(r)}`}})}function fC(){return ms("never",()=>!1)}function ue(n){return new ti({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function K(){return ms("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${Pr(n)}`)}function ve(n){return new ti({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function pb(n,e){return new ti({type:"record",schema:null,*entries(t){if(ll(t))for(const r in t){const i=t[r];yield[r,r,n],yield[r,i,e]}},validator(t){return fd(t)||`Expected an object, but received: ${Pr(t)}`},coercer(t){return fd(t)?{...t}:t}})}function oe(){return ms("string",n=>typeof n=="string"||`Expected a string, but received: ${Pr(n)}`)}function om(n){const e=fC();return new ti({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let i=0;i<r;i++)yield[i,t[i],n[i]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${Pr(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function ee(n){const e=Object.keys(n);return new ti({type:"type",schema:n,*entries(t){if(ll(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return fd(t)||`Expected an object, but received: ${Pr(t)}`},coercer(t){return fd(t)?{...t}:t}})}function Mn(n){const e=n.map(t=>t.type).join(" | ");return new ti({type:"union",schema:null,coercer(t,r){for(const i of n){const[o,s]=i.validate(t,{coerce:!0,mask:r.mask});if(!o)return s}return t},validator(t,r){const i=[];for(const o of n){const[...s]=rm(t,o,r),[a]=s;if(a[0])for(const[c]of s)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Pr(t)}`,...i]}})}function Ba(){return ms("unknown",()=>!0)}function dl(n,e,t){return new ti({...n,coercer:(r,i)=>hb(r,e)?n.coercer(t(r,i),i):n.coercer(r,i)})}var Kl,hC=new Uint8Array(16);function gb(){if(!Kl&&(Kl=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Kl))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Kl(hC)}const pC=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Zd(n){return typeof n=="string"&&pC.test(n)}var un=[];for(var bh=0;bh<256;++bh)un.push((bh+256).toString(16).substr(1));function Xd(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(un[n[e+0]]+un[n[e+1]]+un[n[e+2]]+un[n[e+3]]+"-"+un[n[e+4]]+un[n[e+5]]+"-"+un[n[e+6]]+un[n[e+7]]+"-"+un[n[e+8]]+un[n[e+9]]+"-"+un[n[e+10]]+un[n[e+11]]+un[n[e+12]]+un[n[e+13]]+un[n[e+14]]+un[n[e+15]]).toLowerCase();if(!Zd(t))throw TypeError("Stringified UUID is invalid");return t}var yw,Sh,Rh=0,Ah=0;function gC(n,e,t){var r=e&&t||0,i=e||new Array(16);n=n||{};var o=n.node||yw,s=n.clockseq!==void 0?n.clockseq:Sh;if(o==null||s==null){var a=n.random||(n.rng||gb)();o==null&&(o=yw=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),s==null&&(s=Sh=(a[6]<<8|a[7])&16383)}var c=n.msecs!==void 0?n.msecs:Date.now(),l=n.nsecs!==void 0?n.nsecs:Ah+1,u=c-Rh+(l-Ah)/1e4;if(u<0&&n.clockseq===void 0&&(s=s+1&16383),(u<0||c>Rh)&&n.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Rh=c,Ah=l,Sh=s,c+=122192928e5;var p=((c&268435455)*1e4+l)%4294967296;i[r++]=p>>>24&255,i[r++]=p>>>16&255,i[r++]=p>>>8&255,i[r++]=p&255;var g=c/4294967296*1e4&268435455;i[r++]=g>>>8&255,i[r++]=g&255,i[r++]=g>>>24&15|16,i[r++]=g>>>16&255,i[r++]=s>>>8|128,i[r++]=s&255;for(var h=0;h<6;++h)i[r+h]=o[h];return e||Xd(i)}function mb(n){if(!Zd(n))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(n.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(n.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(n.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(n.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(n.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}function mC(n){n=unescape(encodeURIComponent(n));for(var e=[],t=0;t<n.length;++t)e.push(n.charCodeAt(t));return e}var yC="6ba7b810-9dad-11d1-80b4-00c04fd430c8",wC="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function yb(n,e,t){function r(i,o,s,a){if(typeof i=="string"&&(i=mC(i)),typeof o=="string"&&(o=mb(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+i.length);if(c.set(o),c.set(i,o.length),c=t(c),c[6]=c[6]&15|e,c[8]=c[8]&63|128,s){a=a||0;for(var l=0;l<16;++l)s[a+l]=c[l];return s}return Xd(c)}try{r.name=n}catch{}return r.DNS=yC,r.URL=wC,r}function vC(n){if(typeof n=="string"){var e=unescape(encodeURIComponent(n));n=new Uint8Array(e.length);for(var t=0;t<e.length;++t)n[t]=e.charCodeAt(t)}return _C(EC(bC(n),n.length*8))}function _C(n){for(var e=[],t=n.length*32,r="0123456789abcdef",i=0;i<t;i+=8){var o=n[i>>5]>>>i%32&255,s=parseInt(r.charAt(o>>>4&15)+r.charAt(o&15),16);e.push(s)}return e}function wb(n){return(n+64>>>9<<4)+14+1}function EC(n,e){n[e>>5]|=128<<e%32,n[wb(e)-1]=e;for(var t=1732584193,r=-271733879,i=-1732584194,o=271733878,s=0;s<n.length;s+=16){var a=t,c=r,l=i,u=o;t=bn(t,r,i,o,n[s],7,-680876936),o=bn(o,t,r,i,n[s+1],12,-389564586),i=bn(i,o,t,r,n[s+2],17,606105819),r=bn(r,i,o,t,n[s+3],22,-1044525330),t=bn(t,r,i,o,n[s+4],7,-176418897),o=bn(o,t,r,i,n[s+5],12,1200080426),i=bn(i,o,t,r,n[s+6],17,-1473231341),r=bn(r,i,o,t,n[s+7],22,-45705983),t=bn(t,r,i,o,n[s+8],7,1770035416),o=bn(o,t,r,i,n[s+9],12,-1958414417),i=bn(i,o,t,r,n[s+10],17,-42063),r=bn(r,i,o,t,n[s+11],22,-1990404162),t=bn(t,r,i,o,n[s+12],7,1804603682),o=bn(o,t,r,i,n[s+13],12,-40341101),i=bn(i,o,t,r,n[s+14],17,-1502002290),r=bn(r,i,o,t,n[s+15],22,1236535329),t=Sn(t,r,i,o,n[s+1],5,-165796510),o=Sn(o,t,r,i,n[s+6],9,-1069501632),i=Sn(i,o,t,r,n[s+11],14,643717713),r=Sn(r,i,o,t,n[s],20,-373897302),t=Sn(t,r,i,o,n[s+5],5,-701558691),o=Sn(o,t,r,i,n[s+10],9,38016083),i=Sn(i,o,t,r,n[s+15],14,-660478335),r=Sn(r,i,o,t,n[s+4],20,-405537848),t=Sn(t,r,i,o,n[s+9],5,568446438),o=Sn(o,t,r,i,n[s+14],9,-1019803690),i=Sn(i,o,t,r,n[s+3],14,-187363961),r=Sn(r,i,o,t,n[s+8],20,1163531501),t=Sn(t,r,i,o,n[s+13],5,-1444681467),o=Sn(o,t,r,i,n[s+2],9,-51403784),i=Sn(i,o,t,r,n[s+7],14,1735328473),r=Sn(r,i,o,t,n[s+12],20,-1926607734),t=Rn(t,r,i,o,n[s+5],4,-378558),o=Rn(o,t,r,i,n[s+8],11,-2022574463),i=Rn(i,o,t,r,n[s+11],16,1839030562),r=Rn(r,i,o,t,n[s+14],23,-35309556),t=Rn(t,r,i,o,n[s+1],4,-1530992060),o=Rn(o,t,r,i,n[s+4],11,1272893353),i=Rn(i,o,t,r,n[s+7],16,-155497632),r=Rn(r,i,o,t,n[s+10],23,-1094730640),t=Rn(t,r,i,o,n[s+13],4,681279174),o=Rn(o,t,r,i,n[s],11,-358537222),i=Rn(i,o,t,r,n[s+3],16,-722521979),r=Rn(r,i,o,t,n[s+6],23,76029189),t=Rn(t,r,i,o,n[s+9],4,-640364487),o=Rn(o,t,r,i,n[s+12],11,-421815835),i=Rn(i,o,t,r,n[s+15],16,530742520),r=Rn(r,i,o,t,n[s+2],23,-995338651),t=An(t,r,i,o,n[s],6,-198630844),o=An(o,t,r,i,n[s+7],10,1126891415),i=An(i,o,t,r,n[s+14],15,-1416354905),r=An(r,i,o,t,n[s+5],21,-57434055),t=An(t,r,i,o,n[s+12],6,1700485571),o=An(o,t,r,i,n[s+3],10,-1894986606),i=An(i,o,t,r,n[s+10],15,-1051523),r=An(r,i,o,t,n[s+1],21,-2054922799),t=An(t,r,i,o,n[s+8],6,1873313359),o=An(o,t,r,i,n[s+15],10,-30611744),i=An(i,o,t,r,n[s+6],15,-1560198380),r=An(r,i,o,t,n[s+13],21,1309151649),t=An(t,r,i,o,n[s+4],6,-145523070),o=An(o,t,r,i,n[s+11],10,-1120210379),i=An(i,o,t,r,n[s+2],15,718787259),r=An(r,i,o,t,n[s+9],21,-343485551),t=ro(t,a),r=ro(r,c),i=ro(i,l),o=ro(o,u)}return[t,r,i,o]}function bC(n){if(n.length===0)return[];for(var e=n.length*8,t=new Uint32Array(wb(e)),r=0;r<e;r+=8)t[r>>5]|=(n[r/8]&255)<<r%32;return t}function ro(n,e){var t=(n&65535)+(e&65535),r=(n>>16)+(e>>16)+(t>>16);return r<<16|t&65535}function SC(n,e){return n<<e|n>>>32-e}function Qd(n,e,t,r,i,o){return ro(SC(ro(ro(e,n),ro(r,o)),i),t)}function bn(n,e,t,r,i,o,s){return Qd(e&t|~e&r,n,e,i,o,s)}function Sn(n,e,t,r,i,o,s){return Qd(e&r|t&~r,n,e,i,o,s)}function Rn(n,e,t,r,i,o,s){return Qd(e^t^r,n,e,i,o,s)}function An(n,e,t,r,i,o,s){return Qd(t^(e|~r),n,e,i,o,s)}var RC=yb("v3",48,vC);function AC(n,e,t){n=n||{};var r=n.random||(n.rng||gb)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=r[i];return e}return Xd(r)}function kC(n,e,t,r){switch(n){case 0:return e&t^~e&r;case 1:return e^t^r;case 2:return e&t^e&r^t&r;case 3:return e^t^r}}function kh(n,e){return n<<e|n>>>32-e}function IC(n){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof n=="string"){var r=unescape(encodeURIComponent(n));n=[];for(var i=0;i<r.length;++i)n.push(r.charCodeAt(i))}else Array.isArray(n)||(n=Array.prototype.slice.call(n));n.push(128);for(var o=n.length/4+2,s=Math.ceil(o/16),a=new Array(s),c=0;c<s;++c){for(var l=new Uint32Array(16),u=0;u<16;++u)l[u]=n[c*64+u*4]<<24|n[c*64+u*4+1]<<16|n[c*64+u*4+2]<<8|n[c*64+u*4+3];a[c]=l}a[s-1][14]=(n.length-1)*8/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=(n.length-1)*8&4294967295;for(var p=0;p<s;++p){for(var g=new Uint32Array(80),h=0;h<16;++h)g[h]=a[p][h];for(var w=16;w<80;++w)g[w]=kh(g[w-3]^g[w-8]^g[w-14]^g[w-16],1);for(var k=t[0],A=t[1],E=t[2],b=t[3],_=t[4],x=0;x<80;++x){var L=Math.floor(x/20),U=kh(k,5)+kC(L,A,E,b)+_+e[L]+g[x]>>>0;_=b,b=E,E=kh(A,30)>>>0,A=k,k=U}t[0]=t[0]+k>>>0,t[1]=t[1]+A>>>0,t[2]=t[2]+E>>>0,t[3]=t[3]+b>>>0,t[4]=t[4]+_>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var xC=yb("v5",80,IC);const TC="00000000-0000-0000-0000-000000000000";function CC(n){if(!Zd(n))throw TypeError("Invalid UUID");return parseInt(n.substr(14,1),16)}const NC=Object.freeze(Object.defineProperty({__proto__:null,NIL:TC,parse:mb,stringify:Xd,v1:gC,v3:RC,v4:AC,v5:xC,validate:Zd,version:CC},Symbol.toStringTag,{value:"Module"})),vb=Id(NC),OC=vb.v4,MC=function(n,e,t,r){if(typeof n!="string")throw new TypeError(n+" must be a string");r=r||{};const i=typeof r.version=="number"?r.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const o={method:n};if(i===2&&(o.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");o.params=e}if(typeof t>"u"){const s=typeof r.generator=="function"?r.generator:function(){return OC()};o.id=s(o,r)}else i===2&&t===null?r.notificationIdNull&&(o.id=null):o.id=t;return o};var BC=MC;const LC=vb.v4,PC=BC,$c=function(n,e){if(!(this instanceof $c))return new $c(n,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return LC()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=n};var DC=$c;$c.prototype.request=function(n,e,t,r){const i=this;let o=null;const s=Array.isArray(n)&&typeof e=="function";if(this.options.version===1&&s)throw new TypeError("JSON-RPC 1.0 does not support batching");if(s||!s&&n&&typeof n=="object"&&typeof e=="function")r=e,o=n;else{typeof t=="function"&&(r=t,t=void 0);const l=typeof r=="function";try{o=PC(n,e,t,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(u){if(l){r(u);return}throw u}if(!l)return o}let c;try{c=JSON.stringify(o,this.options.replacer)}catch(l){r(l);return}return this.callServer(c,function(l,u){i._parseResponse(l,u,r)}),o};$c.prototype._parseResponse=function(n,e,t){if(n){t(n);return}if(!e){t();return}let r;try{r=JSON.parse(e,this.options.reviver)}catch(i){t(i);return}if(t.length===3)if(Array.isArray(r)){const i=function(s){return typeof s.error<"u"},o=function(s){return!i(s)};t(null,r.filter(i),r.filter(o));return}else{t(null,r.error,r.result);return}t(null,r)};const UC=Oi(DC);var _b={exports:{}};(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function o(c,l,u,p,g){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,p||c,g),w=t?t+l:l;return c._events[w]?c._events[w].fn?c._events[w]=[c._events[w],h]:c._events[w].push(h):(c._events[w]=h,c._eventsCount++),c}function s(c,l){--c._eventsCount===0?c._events=new r:delete c._events[l]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],u,p;if(this._eventsCount===0)return l;for(p in u=this._events)e.call(u,p)&&l.push(t?p.slice(1):p);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},a.prototype.listeners=function(l){var u=t?t+l:l,p=this._events[u];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,h=p.length,w=new Array(h);g<h;g++)w[g]=p[g].fn;return w},a.prototype.listenerCount=function(l){var u=t?t+l:l,p=this._events[u];return p?p.fn?1:p.length:0},a.prototype.emit=function(l,u,p,g,h,w){var k=t?t+l:l;if(!this._events[k])return!1;var A=this._events[k],E=arguments.length,b,_;if(A.fn){switch(A.once&&this.removeListener(l,A.fn,void 0,!0),E){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,u),!0;case 3:return A.fn.call(A.context,u,p),!0;case 4:return A.fn.call(A.context,u,p,g),!0;case 5:return A.fn.call(A.context,u,p,g,h),!0;case 6:return A.fn.call(A.context,u,p,g,h,w),!0}for(_=1,b=new Array(E-1);_<E;_++)b[_-1]=arguments[_];A.fn.apply(A.context,b)}else{var x=A.length,L;for(_=0;_<x;_++)switch(A[_].once&&this.removeListener(l,A[_].fn,void 0,!0),E){case 1:A[_].fn.call(A[_].context);break;case 2:A[_].fn.call(A[_].context,u);break;case 3:A[_].fn.call(A[_].context,u,p);break;case 4:A[_].fn.call(A[_].context,u,p,g);break;default:if(!b)for(L=1,b=new Array(E-1);L<E;L++)b[L-1]=arguments[L];A[_].fn.apply(A[_].context,b)}}return!0},a.prototype.on=function(l,u,p){return o(this,l,u,p,!1)},a.prototype.once=function(l,u,p){return o(this,l,u,p,!0)},a.prototype.removeListener=function(l,u,p,g){var h=t?t+l:l;if(!this._events[h])return this;if(!u)return s(this,h),this;var w=this._events[h];if(w.fn)w.fn===u&&(!g||w.once)&&(!p||w.context===p)&&s(this,h);else{for(var k=0,A=[],E=w.length;k<E;k++)(w[k].fn!==u||g&&!w[k].once||p&&w[k].context!==p)&&A.push(w[k]);A.length?this._events[h]=A.length===1?A[0]:A:s(this,h)}return this},a.prototype.removeAllListeners=function(l){var u;return l?(u=t?t+l:l,this._events[u]&&s(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,n.exports=a})(_b);var zC=_b.exports;const Eb=Oi(zC);var FC=class extends Eb{constructor(e,t){super();$t(this,"socket");this.socket=new window.WebSocket(e,t.protocols),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=r=>this.emit("message",r.data),this.socket.onerror=r=>this.emit("error",r),this.socket.onclose=r=>{this.emit("close",r.code,r.reason)}}send(e,t,r){const i=r||t;try{this.socket.send(e),i()}catch(o){i(o)}}close(e,t){this.socket.close(e,t)}addEventListener(e,t,r){this.socket.addEventListener(e,t,r)}};function WC(n,e){return new FC(n,e)}var HC=class{encode(n){return JSON.stringify(n)}decode(n){return JSON.parse(n)}},jC=class extends Eb{constructor(e,t="ws://localhost:8080",{autoconnect:r=!0,reconnect:i=!0,reconnect_interval:o=1e3,max_reconnects:s=5,...a}={},c,l){super();$t(this,"address");$t(this,"rpc_id");$t(this,"queue");$t(this,"options");$t(this,"autoconnect");$t(this,"ready");$t(this,"reconnect");$t(this,"reconnect_timer_id");$t(this,"reconnect_interval");$t(this,"max_reconnects");$t(this,"rest_options");$t(this,"current_reconnects");$t(this,"generate_request_id");$t(this,"socket");$t(this,"webSocketFactory");$t(this,"dataPack");this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=t,this.autoconnect=r,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=o,this.max_reconnects=s,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=c||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),l?this.dataPack=l:this.dataPack=new HC,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,t,r,i){return!i&&typeof r=="object"&&(i=r,r=null),new Promise((o,s)=>{if(!this.ready)return s(new Error("socket not ready"));const a=this.generate_request_id(e,t),c={jsonrpc:"2.0",method:e,params:t||void 0,id:a};this.socket.send(this.dataPack.encode(c),i,l=>{if(l)return s(l);this.queue[a]={promise:[o,s]},r&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],s(new Error("reply timeout"))},r))})})}async login(e){const t=await this.call("rpc.login",e);if(!t)throw new Error("authentication failed");return t}async listMethods(){return await this.call("__listMethods")}notify(e,t){return new Promise((r,i)=>{if(!this.ready)return i(new Error("socket not ready"));const o={jsonrpc:"2.0",method:e,params:t};this.socket.send(this.dataPack.encode(o),s=>{if(s)return i(s);r()})})}async subscribe(e){typeof e=="string"&&(e=[e]);const t=await this.call("rpc.on",e);if(typeof e=="string"&&t[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+t[e]);return t}async unsubscribe(e){typeof e=="string"&&(e=[e]);const t=await this.call("rpc.off",e);if(typeof e=="string"&&t[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+t);return t}close(e,t){this.socket&&this.socket.close(e||1e3,t)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}getCurrentReconnects(){return this.current_reconnects}getMaxReconnects(){return this.max_reconnects}isReconnecting(){return this.reconnect_timer_id!==void 0}willReconnect(){return this.reconnect&&(this.max_reconnects===0||this.current_reconnects<this.max_reconnects)}_connect(e,t){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,t),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=me.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);const i=[r.notification];if(r.params.constructor===Object)i.push(r.params);else for(let o=0;o<r.params.length;o++)i.push(r.params[o]);return Promise.resolve().then(()=>{this.emit.apply(this,i)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r==null?void 0:r.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",r,i),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)?this.reconnect_timer_id=setTimeout(()=>this._connect(e,t),this.reconnect_interval):this.reconnect&&this.max_reconnects>0&&this.current_reconnects>=this.max_reconnects&&setTimeout(()=>this.emit("max_reconnects_reached",r,i),1))})}};const KC=BigInt(0),qa=BigInt(1),VC=BigInt(2),$C=BigInt(7),GC=BigInt(256),qC=BigInt(113),bb=[],Sb=[],Rb=[];for(let n=0,e=qa,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],bb.push(2*(5*r+t)),Sb.push((n+1)*(n+2)/2%64);let i=KC;for(let o=0;o<7;o++)e=(e<<qa^(e>>$C)*qC)%GC,e&VC&&(i^=qa<<(qa<<BigInt(o))-qa);Rb.push(i)}const Ab=pE(Rb,!0),YC=Ab[0],ZC=Ab[1],ww=(n,e,t)=>t>32?kx(n,e,t):Rx(n,e,t),vw=(n,e,t)=>t>32?Ix(n,e,t):Ax(n,e,t);function XC(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let s=0;s<10;s++)t[s]=n[s]^n[s+10]^n[s+20]^n[s+30]^n[s+40];for(let s=0;s<10;s+=2){const a=(s+8)%10,c=(s+2)%10,l=t[c],u=t[c+1],p=ww(l,u,1)^t[a],g=vw(l,u,1)^t[a+1];for(let h=0;h<50;h+=10)n[s+h]^=p,n[s+h+1]^=g}let i=n[2],o=n[3];for(let s=0;s<24;s++){const a=Sb[s],c=ww(i,o,a),l=vw(i,o,a),u=bb[s];i=n[u],o=n[u+1],n[u]=c,n[u+1]=l}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)t[a]=n[s+a];for(let a=0;a<10;a++)n[s+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=YC[r],n[1]^=ZC[r]}Eo(t)}class sm extends Ug{constructor(e,t,r,i=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=o,Kc(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=px(this.state)}clone(){return this._cloneInto()}keccak(){nw(this.state32),XC(this.state32,this.rounds),nw(this.state32),this.posOut=0,this.pos=0}update(e){ma(this),e=Vd(e),xi(e);const{blockLen:t,state:r}=this,i=e.length;for(let o=0;o<i;){const s=Math.min(t-this.pos,i-o);for(let a=0;a<s;a++)r[this.pos++]^=e[o++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:i}=this;e[r]^=t,t&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){ma(this,!1),xi(e),this.finish();const t=this.state,{blockLen:r}=this;for(let i=0,o=e.length;i<o;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,o-i);e.set(t.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Kc(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(dE(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Eo(this.state)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new sm(t,r,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}}const QC=(n,e,t)=>zg(()=>new sm(e,n,t)),_w=QC(1,136,256/8);class kb extends Ug{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,uE(e);const r=Vd(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?e.create().update(r).digest():r);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),Eo(o)}update(e){return ma(this),this.iHash.update(e),this}digestInto(e){ma(this),xi(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Ib=(n,e,t)=>new kb(n,e).update(t).digest();Ib.create=(n,e)=>new kb(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ew=(n,e)=>(n+(n>=0?e:-e)/xb)/e;function JC(n,e,t){const[[r,i],[o,s]]=e,a=Ew(s*n,t),c=Ew(-i*n,t);let l=n-a*r-c*o,u=-a*i-c*s;const p=l<Ei,g=u<Ei;p&&(l=-l),g&&(u=-u);const h=al(Math.ceil(vE(t)/2))+ia;if(l<Ei||l>=h||u<Ei||u>=h)throw new Error("splitScalar (endomorphism): failed, k="+n);return{k1neg:p,k1:l,k2neg:g,k2:u}}function t0(n){if(!["compact","recovered","der"].includes(n))throw new Error('Signature format must be "compact", "recovered", or "der"');return n}function Ih(n,e){const t={};for(let r of Object.keys(e))t[r]=n[r]===void 0?e[r]:n[r];return cs(t.lowS,"lowS"),cs(t.prehash,"prehash"),t.format!==void 0&&t0(t.format),t}class eN extends Error{constructor(e=""){super(e)}}const fi={Err:eN,_tlv:{encode:(n,e)=>{const{Err:t}=fi;if(n<0||n>256)throw new t("tlv.encode: wrong tag");if(e.length&1)throw new t("tlv.encode: unpadded data");const r=e.length/2,i=Hl(r);if(i.length/2&128)throw new t("tlv.encode: long form length too big");const o=r>127?Hl(i.length/2|128):"";return Hl(n)+o+i+e},decode(n,e){const{Err:t}=fi;let r=0;if(n<0||n>256)throw new t("tlv.encode: wrong tag");if(e.length<2||e[r++]!==n)throw new t("tlv.decode: wrong tlv");const i=e[r++],o=!!(i&128);let s=0;if(!o)s=i;else{const c=i&127;if(!c)throw new t("tlv.decode(long): indefinite length not supported");if(c>4)throw new t("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new t("tlv.decode: length bytes not complete");if(l[0]===0)throw new t("tlv.decode(long): zero leftmost byte");for(const u of l)s=s<<8|u;if(r+=c,s<128)throw new t("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+s);if(a.length!==s)throw new t("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+s)}}},_int:{encode(n){const{Err:e}=fi;if(n<Ei)throw new e("integer: negative integers are not allowed");let t=Hl(n);if(Number.parseInt(t[0],16)&8&&(t="00"+t),t.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return t},decode(n){const{Err:e}=fi;if(n[0]&128)throw new e("invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return $d(n)}},toSig(n){const{Err:e,_int:t,_tlv:r}=fi,i=It("signature",n),{v:o,l:s}=r.decode(48,i);if(s.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,o),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:t.decode(a),s:t.decode(l)}},hexFromSig(n){const{_tlv:e,_int:t}=fi,r=e.encode(2,t.encode(n.r)),i=e.encode(2,t.encode(n.s)),o=r+i;return e.encode(48,o)}},Ei=BigInt(0),ia=BigInt(1),xb=BigInt(2),Vl=BigInt(3),tN=BigInt(4);function Gs(n,e){const{BYTES:t}=n;let r;if(typeof e=="bigint")r=e;else{let i=It("private key",e);try{r=n.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${t}, got ${typeof e}`)}}if(!n.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function nN(n,e={}){const t=LE("weierstrass",n,e),{Fp:r,Fn:i}=t;let o=t.CURVE;const{h:s,n:a}=o;cl(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=e;if(c&&(!r.is0(o.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const l=Cb(r,i);function u(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function p($,R,d){const{x:f,y:S}=R.toAffine(),T=r.toBytes(f);if(cs(d,"isCompressed"),d){u();const I=!r.isOdd(S);return Vr(Tb(I),T)}else return Vr(Uint8Array.of(4),T,r.toBytes(S))}function g($){Cr($,void 0,"Point");const{publicKey:R,publicKeyUncompressed:d}=l,f=$.length,S=$[0],T=$.subarray(1);if(f===R&&(S===2||S===3)){const I=r.fromBytes(T);if(!r.isValid(I))throw new Error("bad point: is not on curve, wrong x");const O=k(I);let P;try{P=r.sqrt(O)}catch(B){const te=B instanceof Error?": "+B.message:"";throw new Error("bad point: is not on curve, sqrt error"+te)}u();const N=r.isOdd(P);return(S&1)===1!==N&&(P=r.neg(P)),{x:I,y:P}}else if(f===d&&S===4){const I=r.BYTES,O=r.fromBytes(T.subarray(0,I)),P=r.fromBytes(T.subarray(I,I*2));if(!A(O,P))throw new Error("bad point: is not on curve");return{x:O,y:P}}else throw new Error(`bad point: got length ${f}, expected compressed=${R} or uncompressed=${d}`)}const h=e.toBytes||p,w=e.fromBytes||g;function k($){const R=r.sqr($),d=r.mul(R,$);return r.add(r.add(d,r.mul($,o.a)),o.b)}function A($,R){const d=r.sqr(R),f=k($);return r.eql(d,f)}if(!A(o.Gx,o.Gy))throw new Error("bad curve params: generator point");const E=r.mul(r.pow(o.a,Vl),tN),b=r.mul(r.sqr(o.b),BigInt(27));if(r.is0(r.add(E,b)))throw new Error("bad curve params: a or b");function _($,R,d=!1){if(!r.isValid(R)||d&&r.is0(R))throw new Error(`bad point coordinate ${$}`);return R}function x($){if(!($ instanceof z))throw new Error("ProjectivePoint expected")}function L($){if(!c||!c.basises)throw new Error("no endo");return JC($,c.basises,i.ORDER)}const U=od(($,R)=>{const{X:d,Y:f,Z:S}=$;if(r.eql(S,r.ONE))return{x:d,y:f};const T=$.is0();R==null&&(R=T?r.ONE:r.inv(S));const I=r.mul(d,R),O=r.mul(f,R),P=r.mul(S,R);if(T)return{x:r.ZERO,y:r.ZERO};if(!r.eql(P,r.ONE))throw new Error("invZ was invalid");return{x:I,y:O}}),D=od($=>{if($.is0()){if(e.allowInfinityPoint&&!r.is0($.Y))return;throw new Error("bad point: ZERO")}const{x:R,y:d}=$.toAffine();if(!r.isValid(R)||!r.isValid(d))throw new Error("bad point: x or y not field elements");if(!A(R,d))throw new Error("bad point: equation left != right");if(!$.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function W($,R,d,f,S){return d=new z(r.mul(d.X,$),d.Y,d.Z),R=sd(f,R),d=sd(S,d),R.add(d)}class z{constructor(R,d,f){this.X=_("x",R),this.Y=_("y",d,!0),this.Z=_("z",f),Object.freeze(this)}static CURVE(){return o}static fromAffine(R){const{x:d,y:f}=R||{};if(!R||!r.isValid(d)||!r.isValid(f))throw new Error("invalid affine point");if(R instanceof z)throw new Error("projective point not allowed");return r.is0(d)&&r.is0(f)?z.ZERO:new z(d,f,r.ONE)}static fromBytes(R){const d=z.fromAffine(w(Cr(R,void 0,"point")));return d.assertValidity(),d}static fromHex(R){return z.fromBytes(It("pointHex",R))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(R=8,d=!0){return q.createCache(this,R),d||this.multiply(Vl),this}assertValidity(){D(this)}hasEvenY(){const{y:R}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(R)}equals(R){x(R);const{X:d,Y:f,Z:S}=this,{X:T,Y:I,Z:O}=R,P=r.eql(r.mul(d,O),r.mul(T,S)),N=r.eql(r.mul(f,O),r.mul(I,S));return P&&N}negate(){return new z(this.X,r.neg(this.Y),this.Z)}double(){const{a:R,b:d}=o,f=r.mul(d,Vl),{X:S,Y:T,Z:I}=this;let O=r.ZERO,P=r.ZERO,N=r.ZERO,y=r.mul(S,S),B=r.mul(T,T),te=r.mul(I,I),ne=r.mul(S,T);return ne=r.add(ne,ne),N=r.mul(S,I),N=r.add(N,N),O=r.mul(R,N),P=r.mul(f,te),P=r.add(O,P),O=r.sub(B,P),P=r.add(B,P),P=r.mul(O,P),O=r.mul(ne,O),N=r.mul(f,N),te=r.mul(R,te),ne=r.sub(y,te),ne=r.mul(R,ne),ne=r.add(ne,N),N=r.add(y,y),y=r.add(N,y),y=r.add(y,te),y=r.mul(y,ne),P=r.add(P,y),te=r.mul(T,I),te=r.add(te,te),y=r.mul(te,ne),O=r.sub(O,y),N=r.mul(te,B),N=r.add(N,N),N=r.add(N,N),new z(O,P,N)}add(R){x(R);const{X:d,Y:f,Z:S}=this,{X:T,Y:I,Z:O}=R;let P=r.ZERO,N=r.ZERO,y=r.ZERO;const B=o.a,te=r.mul(o.b,Vl);let ne=r.mul(d,T),ae=r.mul(f,I),Re=r.mul(S,O),Ae=r.add(d,f),Ee=r.add(T,I);Ae=r.mul(Ae,Ee),Ee=r.add(ne,ae),Ae=r.sub(Ae,Ee),Ee=r.add(d,S);let _t=r.add(T,O);return Ee=r.mul(Ee,_t),_t=r.add(ne,Re),Ee=r.sub(Ee,_t),_t=r.add(f,S),P=r.add(I,O),_t=r.mul(_t,P),P=r.add(ae,Re),_t=r.sub(_t,P),y=r.mul(B,Ee),P=r.mul(te,Re),y=r.add(P,y),P=r.sub(ae,y),y=r.add(ae,y),N=r.mul(P,y),ae=r.add(ne,ne),ae=r.add(ae,ne),Re=r.mul(B,Re),Ee=r.mul(te,Ee),ae=r.add(ae,Re),Re=r.sub(ne,Re),Re=r.mul(B,Re),Ee=r.add(Ee,Re),ne=r.mul(ae,Ee),N=r.add(N,ne),ne=r.mul(_t,Ee),P=r.mul(Ae,P),P=r.sub(P,ne),ne=r.mul(Ae,ae),y=r.mul(_t,y),y=r.add(y,ne),new z(P,N,y)}subtract(R){return this.add(R.negate())}is0(){return this.equals(z.ZERO)}multiply(R){const{endo:d}=e;if(!i.isValidNot0(R))throw new Error("invalid scalar: out of range");let f,S;const T=I=>q.cached(this,I,O=>Ko(z,O));if(d){const{k1neg:I,k1:O,k2neg:P,k2:N}=L(R),{p:y,f:B}=T(O),{p:te,f:ne}=T(N);S=B.add(ne),f=W(d.beta,y,te,I,P)}else{const{p:I,f:O}=T(R);f=I,S=O}return Ko(z,[f,S])[0]}multiplyUnsafe(R){const{endo:d}=e,f=this;if(!i.isValid(R))throw new Error("invalid scalar: out of range");if(R===Ei||f.is0())return z.ZERO;if(R===ia)return f;if(q.hasCache(this))return this.multiply(R);if(d){const{k1neg:S,k1:T,k2neg:I,k2:O}=L(R),{p1:P,p2:N}=eT(z,f,T,O);return W(d.beta,P,N,S,I)}else return q.unsafe(f,R)}multiplyAndAddUnsafe(R,d,f){const S=this.multiplyUnsafe(d).add(R.multiplyUnsafe(f));return S.is0()?void 0:S}toAffine(R){return U(this,R)}isTorsionFree(){const{isTorsionFree:R}=e;return s===ia?!0:R?R(z,this):q.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:R}=e;return s===ia?this:R?R(z,this):this.multiplyUnsafe(s)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}toBytes(R=!0){return cs(R,"isCompressed"),this.assertValidity(),h(z,this,R)}toHex(R=!0){return ts(this.toBytes(R))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(R=!0){return this.toBytes(R)}_setWindowSize(R){this.precompute(R)}static normalizeZ(R){return Ko(z,R)}static msm(R,d){return BE(z,i,R,d)}static fromPrivateKey(R){return z.BASE.multiply(Gs(i,R))}}z.BASE=new z(o.Gx,o.Gy,r.ONE),z.ZERO=new z(r.ZERO,r.ONE,r.ZERO),z.Fp=r,z.Fn=i;const H=i.BITS,q=new ME(z,e.endo?Math.ceil(H/2):H);return z.BASE.precompute(8),z}function Tb(n){return Uint8Array.of(n?2:3)}function Cb(n,e){return{secretKey:e.BYTES,publicKey:1+n.BYTES,publicKeyUncompressed:1+2*n.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function rN(n,e={}){const{Fn:t}=n,r=e.randomBytes||Fg,i=Object.assign(Cb(n.Fp,t),{seed:CE(t.ORDER)});function o(h){try{return!!Gs(t,h)}catch{return!1}}function s(h,w){const{publicKey:k,publicKeyUncompressed:A}=i;try{const E=h.length;return w===!0&&E!==k||w===!1&&E!==A?!1:!!n.fromBytes(h)}catch{return!1}}function a(h=r(i.seed)){return Xx(Cr(h,i.seed,"seed"),t.ORDER)}function c(h,w=!0){return n.BASE.multiply(Gs(t,h)).toBytes(w)}function l(h){const w=a(h);return{secretKey:w,publicKey:c(w)}}function u(h){if(typeof h=="bigint")return!1;if(h instanceof n)return!0;const{secretKey:w,publicKey:k,publicKeyUncompressed:A}=i;if(t.allowedLengths||w===k)return;const E=It("key",h).length;return E===k||E===A}function p(h,w,k=!0){if(u(h)===!0)throw new Error("first arg must be private key");if(u(w)===!1)throw new Error("second arg must be public key");const A=Gs(t,h);return n.fromHex(w).multiply(A).toBytes(k)}return Object.freeze({getPublicKey:c,getSharedSecret:p,keygen:l,Point:n,utils:{isValidSecretKey:o,isValidPublicKey:s,randomSecretKey:a,isValidPrivateKey:o,randomPrivateKey:a,normPrivateKeyToScalar:h=>Gs(t,h),precompute(h=8,w=n.BASE){return w.precompute(h,!1)}},lengths:i})}function iN(n,e,t={}){uE(e),cl(t,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=t.randomBytes||Fg,i=t.hmac||((d,...f)=>Ib(e,d,Vr(...f))),{Fp:o,Fn:s}=n,{ORDER:a,BITS:c}=s,{keygen:l,getPublicKey:u,getSharedSecret:p,utils:g,lengths:h}=rN(n,t),w={prehash:!1,lowS:typeof t.lowS=="boolean"?t.lowS:!1,format:void 0,extraEntropy:!1},k="compact";function A(d){const f=a>>ia;return d>f}function E(d,f){if(!s.isValidNot0(f))throw new Error(`invalid signature ${d}: out of range 1..Point.Fn.ORDER`);return f}function b(d,f){t0(f);const S=h.signature,T=f==="compact"?S:f==="recovered"?S+1:void 0;return Cr(d,T,`${f} signature`)}class _{constructor(f,S,T){this.r=E("r",f),this.s=E("s",S),T!=null&&(this.recovery=T),Object.freeze(this)}static fromBytes(f,S=k){b(f,S);let T;if(S==="der"){const{r:N,s:y}=fi.toSig(Cr(f));return new _(N,y)}S==="recovered"&&(T=f[0],S="compact",f=f.subarray(1));const I=s.BYTES,O=f.subarray(0,I),P=f.subarray(I,I*2);return new _(s.fromBytes(O),s.fromBytes(P),T)}static fromHex(f,S){return this.fromBytes(id(f),S)}addRecoveryBit(f){return new _(this.r,this.s,f)}recoverPublicKey(f){const S=o.ORDER,{r:T,s:I,recovery:O}=this;if(O==null||![0,1,2,3].includes(O))throw new Error("recovery id invalid");if(a*xb<S&&O>1)throw new Error("recovery id is ambiguous for h>1 curve");const N=O===2||O===3?T+a:T;if(!o.isValid(N))throw new Error("recovery id 2 or 3 invalid");const y=o.toBytes(N),B=n.fromBytes(Vr(Tb((O&1)===0),y)),te=s.inv(N),ne=L(It("msgHash",f)),ae=s.create(-ne*te),Re=s.create(I*te),Ae=n.BASE.multiplyUnsafe(ae).add(B.multiplyUnsafe(Re));if(Ae.is0())throw new Error("point at infinify");return Ae.assertValidity(),Ae}hasHighS(){return A(this.s)}toBytes(f=k){if(t0(f),f==="der")return id(fi.hexFromSig(this));const S=s.toBytes(this.r),T=s.toBytes(this.s);if(f==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Vr(Uint8Array.of(this.recovery),S,T)}return Vr(S,T)}toHex(f){return ts(this.toBytes(f))}assertValidity(){}static fromCompact(f){return _.fromBytes(It("sig",f),"compact")}static fromDER(f){return _.fromBytes(It("sig",f),"der")}normalizeS(){return this.hasHighS()?new _(this.r,s.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return ts(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return ts(this.toBytes("compact"))}}const x=t.bits2int||function(f){if(f.length>8192)throw new Error("input is too large");const S=$d(f),T=f.length*8-c;return T>0?S>>BigInt(T):S},L=t.bits2int_modN||function(f){return s.create(x(f))},U=al(c);function D(d){return Qp("num < 2^"+c,d,Ei,U),s.toBytes(d)}function W(d,f){return Cr(d,void 0,"message"),f?Cr(e(d),void 0,"prehashed message"):d}function z(d,f,S){if(["recovered","canonical"].some(ae=>ae in S))throw new Error("sign() legacy options not supported");const{lowS:T,prehash:I,extraEntropy:O}=Ih(S,w);d=W(d,I);const P=L(d),N=Gs(s,f),y=[D(N),D(P)];if(O!=null&&O!==!1){const ae=O===!0?r(h.secretKey):O;y.push(It("extraEntropy",ae))}const B=Vr(...y),te=P;function ne(ae){const Re=x(ae);if(!s.isValidNot0(Re))return;const Ae=s.inv(Re),Ee=n.BASE.multiply(Re).toAffine(),_t=s.create(Ee.x);if(_t===Ei)return;const Ue=s.create(Ae*s.create(te+_t*N));if(Ue===Ei)return;let qe=(Ee.x===_t?0:2)|Number(Ee.y&ia),Pi=Ue;return T&&A(Ue)&&(Pi=s.neg(Ue),qe^=1),new _(_t,Pi,qe)}return{seed:B,k2sig:ne}}function H(d,f,S={}){d=It("message",d);const{seed:T,k2sig:I}=z(d,f,S);return Wx(e.outputLen,s.BYTES,i)(T,I)}function q(d){let f;const S=typeof d=="string"||sl(d),T=!S&&d!==null&&typeof d=="object"&&typeof d.r=="bigint"&&typeof d.s=="bigint";if(!S&&!T)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(T)f=new _(d.r,d.s);else if(S){try{f=_.fromBytes(It("sig",d),"der")}catch(I){if(!(I instanceof fi.Err))throw I}if(!f)try{f=_.fromBytes(It("sig",d),"compact")}catch{return!1}}return f||!1}function $(d,f,S,T={}){const{lowS:I,prehash:O,format:P}=Ih(T,w);if(S=It("publicKey",S),f=W(It("message",f),O),"strict"in T)throw new Error("options.strict was renamed to lowS");const N=P===void 0?q(d):_.fromBytes(It("sig",d),P);if(N===!1)return!1;try{const y=n.fromBytes(S);if(I&&N.hasHighS())return!1;const{r:B,s:te}=N,ne=L(f),ae=s.inv(te),Re=s.create(ne*ae),Ae=s.create(B*ae),Ee=n.BASE.multiplyUnsafe(Re).add(y.multiplyUnsafe(Ae));return Ee.is0()?!1:s.create(Ee.x)===B}catch{return!1}}function R(d,f,S={}){const{prehash:T}=Ih(S,w);return f=W(f,T),_.fromBytes(d,"recovered").recoverPublicKey(f).toBytes()}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:p,utils:g,lengths:h,Point:n,sign:H,verify:$,recoverPublicKey:R,Signature:_,hash:e})}function oN(n){const e={a:n.a,b:n.b,p:n.Fp.ORDER,n:n.n,h:n.h,Gx:n.Gx,Gy:n.Gy},t=n.Fp;let r=n.allowedPrivateKeyLengths?Array.from(new Set(n.allowedPrivateKeyLengths.map(s=>Math.ceil(s/2)))):void 0;const i=ps(e.n,{BITS:n.nBitLength,allowedLengths:r,modFromBytes:n.wrapPrivateKey}),o={Fp:t,Fn:i,allowInfinityPoint:n.allowInfinityPoint,endo:n.endo,isTorsionFree:n.isTorsionFree,clearCofactor:n.clearCofactor,fromBytes:n.fromBytes,toBytes:n.toBytes};return{CURVE:e,curveOpts:o}}function sN(n){const{CURVE:e,curveOpts:t}=oN(n),r={hmac:n.hmac,randomBytes:n.randomBytes,lowS:n.lowS,bits2int:n.bits2int,bits2int_modN:n.bits2int_modN};return{CURVE:e,curveOpts:t,hash:n.hash,ecdsaOpts:r}}function aN(n,e){const t=e.Point;return Object.assign({},e,{ProjectivePoint:t,CURVE:Object.assign({},n,xE(t.Fn.ORDER,t.Fn.BITS))})}function cN(n){const{CURVE:e,curveOpts:t,hash:r,ecdsaOpts:i}=sN(n),o=nN(e,t),s=iN(o,r,i);return aN(n,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function lN(n,e){const t=r=>cN({...n,hash:r});return{...t(e),create:t}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const am={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},uN={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},bw=BigInt(2);function dN(n){const e=am.p,t=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),l=n*n*n%e,u=l*l*n%e,p=kt(u,t,e)*u%e,g=kt(p,t,e)*u%e,h=kt(g,bw,e)*l%e,w=kt(h,i,e)*h%e,k=kt(w,o,e)*w%e,A=kt(k,a,e)*k%e,E=kt(A,c,e)*A%e,b=kt(E,a,e)*k%e,_=kt(b,t,e)*u%e,x=kt(_,s,e)*w%e,L=kt(x,r,e)*l%e,U=kt(L,bw,e);if(!n0.eql(n0.sqr(U),n))throw new Error("Cannot find square root");return U}const n0=ps(am.p,{sqrt:dN}),cm=lN({...am,Fp:n0,lowS:!0,endo:uN},mE),fN=Na.utils.randomPrivateKey,Sw=()=>{const n=Na.utils.randomPrivateKey(),e=hd(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},hd=Na.getPublicKey;function Rw(n){try{return Na.ExtendedPoint.fromHex(n),!0}catch{return!1}}const lm=(n,e)=>Na.sign(n,e.slice(0,32)),hN=Na.verify,Ce=n=>me.isBuffer(n)?n:n instanceof Uint8Array?me.from(n.buffer,n.byteOffset,n.byteLength):me.from(n);let um=class{constructor(e){Object.assign(this,e)}encode(){return me.from(KE(wc,this))}static decode(e){return VE(wc,this,e)}static decodeUnchecked(e){return zE(wc,this,e)}};class pN extends um{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const wc=new Map;var Nb;const Ob=32,Xr=32;function gN(n){return n._bn!==void 0}let Aw=1;class Z extends um{constructor(e){if(super({}),this._bn=void 0,gN(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Zt.decode(e);if(t.length!=Xr)throw new Error("Invalid public key input");this._bn=new Tr(t)}else this._bn=new Tr(e);if(this._bn.byteLength()>Xr)throw new Error("Invalid public key input")}}static unique(){const e=new Z(Aw);return Aw+=1,new Z(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Zt.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(me);if(e.length===Xr)return e;const t=me.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const i=me.concat([e.toBuffer(),me.from(t),r.toBuffer()]),o=gw(i);return new Z(o)}static createProgramAddressSync(e,t){let r=me.alloc(0);e.forEach(function(o){if(o.length>Ob)throw new TypeError("Max seed length exceeded");r=me.concat([r,Ce(o)])}),r=me.concat([r,t.toBuffer(),me.from("ProgramDerivedAddress")]);const i=gw(r);if(Rw(i))throw new Error("Invalid seeds, address must fall off the curve");return new Z(i)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,i;for(;r!=0;){try{const o=e.concat(me.from([r]));i=this.createProgramAddressSync(o,t)}catch(o){if(o instanceof TypeError)throw o;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new Z(e);return Rw(t.toBytes())}}Nb=Z;Z.default=new Nb("11111111111111111111111111111111");wc.set(Z,{kind:"struct",fields:[["_bn","u256"]]});class mN{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=Ce(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=Ce(fN()),this._publicKey=Ce(hd(this._secretKey))}get publicKey(){return new Z(this._publicKey)}get secretKey(){return me.concat([this._secretKey,this._publicKey],64)}}const yN=new Z("BPFLoader1111111111111111111111111111111111"),yo=1232,Jd=127,Gc=64;class dm extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(dm.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class fm extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(fm.prototype,"name",{value:"TransactionExpiredTimeoutError"});class qs extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(qs.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class qc{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((o,s)=>{r.set(o.toBase58(),s)});const i=o=>{const s=r.get(o.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return e.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(s=>i(s.pubkey)),data:o.data}))}}const Ne=(n="publicKey")=>Ye(32,n),wN=(n="signature")=>Ye(64,n),Vo=(n="string")=>{const e=ge([pe("length"),pe("lengthPadding"),Ye(mo(pe(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(o,s)=>t(o,s).chars.toString(),i.encode=(o,s,a)=>{const c={chars:me.from(o,"utf8")};return r(c,s,a)},i.alloc=o=>pe().span+pe().span+me.from(o,"utf8").length,i},vN=(n="authorized")=>ge([Ne("staker"),Ne("withdrawer")],n),_N=(n="lockup")=>ge([tr("unixTimestamp"),tr("epoch"),Ne("custodian")],n),EN=(n="voteInit")=>ge([Ne("nodePubkey"),Ne("authorizedVoter"),Ne("authorizedWithdrawer"),Be("commission")],n),bN=(n="voteAuthorizeWithSeedArgs")=>ge([pe("voteAuthorizationType"),Ne("currentAuthorityDerivedKeyOwnerPubkey"),Vo("currentAuthorityDerivedKeySeed"),Ne("newAuthorized")],n);function Mb(n,e){const t=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const o=e[i.property];if(Array.isArray(o))return o.length*t(i.elementLayout)}else if("fields"in i)return Mb({layout:i},e[i.property]);return 0};let r=0;return n.layout.fields.forEach(i=>{r+=t(i)}),r}function Dn(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,!(r&128))break}return e}function nr(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function Fe(n,e){if(!n)throw new Error(e||"Assertion failed")}class ef{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,i=s=>{const a=s.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},o=i(t);o.isSigner=!0,o.isWritable=!0;for(const s of e){i(s.programId).isInvoked=!0;for(const a of s.keys){const c=i(a.pubkey);c.isSigner||(c.isSigner=a.isSigner),c.isWritable||(c.isWritable=a.isWritable)}}return new ef(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Fe(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),i=e.filter(([,c])=>!c.isSigner&&c.isWritable),o=e.filter(([,c])=>!c.isSigner&&!c.isWritable),s={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:o.length};{Fe(t.length>0,"Expected at least one writable signer key");const[c]=t[0];Fe(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new Z(c)),...r.map(([c])=>new Z(c)),...i.map(([c])=>new Z(c)),...o.map(([c])=>new Z(c))];return[s,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[i,o]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(t.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:i},{writable:r,readonly:o}]}drainKeysFoundInLookupTable(e,t){const r=new Array,i=new Array;for(const[o,s]of this.keyMetaMap.entries())if(t(s)){const a=new Z(o),c=e.findIndex(l=>l.equals(a));c>=0&&(Fe(c<256,"Max lookup table index exceeded"),r.push(c),i.push(a),this.keyMetaMap.delete(o))}return[r,i]}}const Bb="Reached end of buffer unexpectedly";function $r(n){if(n.length===0)throw new Error(Bb);return n.shift()}function Un(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(Bb);return n.splice(...e)}class Dr{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new Z(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Zt.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new qc(this.staticAccountKeys)}static compile(e){const t=ef.compile(e.instructions,e.payerKey),[r,i]=t.getMessageComponents(),s=new qc(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Zt.encode(a.data)}));return new Dr({header:r,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:s})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,o=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<o}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];nr(t,e);const r=this.instructions.map(p=>{const{accounts:g,programIdIndex:h}=p,w=Array.from(Zt.decode(p.data));let k=[];nr(k,g.length);let A=[];return nr(A,w.length),{programIdIndex:h,keyIndicesCount:me.from(k),keyIndices:g,dataLength:me.from(A),data:w}});let i=[];nr(i,r.length);let o=me.alloc(yo);me.from(i).copy(o);let s=i.length;r.forEach(p=>{const h=ge([Be("programIdIndex"),Ye(p.keyIndicesCount.length,"keyIndicesCount"),gn(Be("keyIndex"),p.keyIndices.length,"keyIndices"),Ye(p.dataLength.length,"dataLength"),gn(Be("userdatum"),p.data.length,"data")]).encode(p,o,s);s+=h}),o=o.slice(0,s);const a=ge([Ye(1,"numRequiredSignatures"),Ye(1,"numReadonlySignedAccounts"),Ye(1,"numReadonlyUnsignedAccounts"),Ye(t.length,"keyCount"),gn(Ne("key"),e,"keys"),Ne("recentBlockhash")]),c={numRequiredSignatures:me.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:me.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:me.from([this.header.numReadonlyUnsignedAccounts]),keyCount:me.from(t),keys:this.accountKeys.map(p=>Ce(p.toBytes())),recentBlockhash:Zt.decode(this.recentBlockhash)};let l=me.alloc(2048);const u=a.encode(c,l);return o.copy(l,u),l.slice(0,u+o.length)}static from(e){let t=[...e];const r=$r(t);if(r!==(r&Jd))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=$r(t),o=$r(t),s=Dn(t);let a=[];for(let g=0;g<s;g++){const h=Un(t,0,Xr);a.push(new Z(me.from(h)))}const c=Un(t,0,Xr),l=Dn(t);let u=[];for(let g=0;g<l;g++){const h=$r(t),w=Dn(t),k=Un(t,0,w),A=Dn(t),E=Un(t,0,A),b=Zt.encode(me.from(E));u.push({programIdIndex:h,accounts:k,data:b})}const p={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:Zt.encode(me.from(c)),accountKeys:a,instructions:u};return new Dr(p)}}class ls{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new qc(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const i=e-r,o=this.addressTableLookups.reduce((s,a)=>s+a.writableIndexes.length,0);return i<o}else if(e>=this.header.numRequiredSignatures){const i=e-t,s=r-t-this.header.numReadonlyUnsignedAccounts;return i<s}else{const i=t-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=e.find(o=>o.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const o of r.writableIndexes)if(o<i.state.addresses.length)t.writable.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`);for(const o of r.readonlyIndexes)if(o<i.state.addresses.length)t.readonly.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=ef.compile(e.instructions,e.payerKey),r=new Array,i={writable:new Array,readonly:new Array},o=e.addressLookupTableAccounts||[];for(const u of o){const p=t.extractTableLookup(u);if(p!==void 0){const[g,{writable:h,readonly:w}]=p;r.push(g),i.writable.push(...h),i.readonly.push(...w)}}const[s,a]=t.getMessageComponents(),l=new qc(a,i).compileInstructions(e.instructions);return new ls({header:s,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:l,addressTableLookups:r})}serialize(){const e=Array();nr(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();nr(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),o=Array();nr(o,this.addressTableLookups.length);const s=ge([Be("prefix"),ge([Be("numRequiredSignatures"),Be("numReadonlySignedAccounts"),Be("numReadonlyUnsignedAccounts")],"header"),Ye(e.length,"staticAccountKeysLength"),gn(Ne(),this.staticAccountKeys.length,"staticAccountKeys"),Ne("recentBlockhash"),Ye(r.length,"instructionsLength"),Ye(t.length,"serializedInstructions"),Ye(o.length,"addressTableLookupsLength"),Ye(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(yo),l=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(u=>u.toBytes()),recentBlockhash:Zt.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:i},a);return a.slice(0,l)}serializeInstructions(){let e=0;const t=new Uint8Array(yo);for(const r of this.compiledInstructions){const i=Array();nr(i,r.accountKeyIndexes.length);const o=Array();nr(o,r.data.length);const s=ge([Be("programIdIndex"),Ye(i.length,"encodedAccountKeyIndexesLength"),gn(Be(),r.accountKeyIndexes.length,"accountKeyIndexes"),Ye(o.length,"encodedDataLength"),Ye(r.data.length,"data")]);e+=s.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(yo);for(const r of this.addressTableLookups){const i=Array();nr(i,r.writableIndexes.length);const o=Array();nr(o,r.readonlyIndexes.length);const s=ge([Ne("accountKey"),Ye(i.length,"encodedWritableIndexesLength"),gn(Be(),r.writableIndexes.length,"writableIndexes"),Ye(o.length,"encodedReadonlyIndexesLength"),gn(Be(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=s.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=$r(t),i=r&Jd;Fe(r!==i,"Expected versioned message but received legacy message");const o=i;Fe(o===0,`Expected versioned message with version 0 but found version ${o}`);const s={numRequiredSignatures:$r(t),numReadonlySignedAccounts:$r(t),numReadonlyUnsignedAccounts:$r(t)},a=[],c=Dn(t);for(let w=0;w<c;w++)a.push(new Z(Un(t,0,Xr)));const l=Zt.encode(Un(t,0,Xr)),u=Dn(t),p=[];for(let w=0;w<u;w++){const k=$r(t),A=Dn(t),E=Un(t,0,A),b=Dn(t),_=new Uint8Array(Un(t,0,b));p.push({programIdIndex:k,accountKeyIndexes:E,data:_})}const g=Dn(t),h=[];for(let w=0;w<g;w++){const k=new Z(Un(t,0,Xr)),A=Dn(t),E=Un(t,0,A),b=Dn(t),_=Un(t,0,b);h.push({accountKey:k,writableIndexes:E,readonlyIndexes:_})}return new ls({header:s,staticAccountKeys:a,recentBlockhash:l,compiledInstructions:p,addressTableLookups:h})}}const tf={deserializeMessageVersion(n){const e=n[0],t=e&Jd;return t===e?"legacy":t},deserialize:n=>{const e=tf.deserializeMessageVersion(n);if(e==="legacy")return Dr.from(n);if(e===0)return ls.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let ci=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const SN=me.alloc(Gc).fill(0);class Ge{constructor(e){this.keys=void 0,this.programId=void 0,this.data=me.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Me{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new Ge(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let k=0;k<t.length;k++)if(t[k].programId===void 0)throw new Error(`Transaction instruction index ${k} has undefined program id`);const i=[],o=[];t.forEach(k=>{k.keys.forEach(E=>{o.push({...E})});const A=k.programId.toString();i.includes(A)||i.push(A)}),i.forEach(k=>{o.push({pubkey:new Z(k),isSigner:!1,isWritable:!1})});const s=[];o.forEach(k=>{const A=k.pubkey.toString(),E=s.findIndex(b=>b.pubkey.toString()===A);E>-1?(s[E].isWritable=s[E].isWritable||k.isWritable,s[E].isSigner=s[E].isSigner||k.isSigner):s.push(k)}),s.sort(function(k,A){if(k.isSigner!==A.isSigner)return k.isSigner?-1:1;if(k.isWritable!==A.isWritable)return k.isWritable?-1:1;const E={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return k.pubkey.toBase58().localeCompare(A.pubkey.toBase58(),"en",E)});const a=s.findIndex(k=>k.pubkey.equals(r));if(a>-1){const[k]=s.splice(a,1);k.isSigner=!0,k.isWritable=!0,s.unshift(k)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const k of this.signatures){const A=s.findIndex(E=>E.pubkey.equals(k.publicKey));if(A>-1)s[A].isSigner||(s[A].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${k.publicKey.toString()}`)}let c=0,l=0,u=0;const p=[],g=[];s.forEach(({pubkey:k,isSigner:A,isWritable:E})=>{A?(p.push(k.toString()),c+=1,E||(l+=1)):(g.push(k.toString()),E||(u+=1))});const h=p.concat(g),w=t.map(k=>{const{data:A,programId:E}=k;return{programIdIndex:h.indexOf(E.toString()),accounts:k.keys.map(b=>h.indexOf(b.pubkey.toString())),data:Zt.encode(A)}});return w.forEach(k=>{Fe(k.programIdIndex>=0),k.accounts.forEach(A=>Fe(A>=0))}),new Dr({header:{numRequiredSignatures:c,numReadonlySignedAccounts:l,numReadonlyUnsignedAccounts:u},accountKeys:h,recentBlockhash:e,instructions:w})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((i,o)=>t[o].equals(i.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const i=r.toString();return t.has(i)?!1:(t.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const o of e){const s=o.publicKey.toString();t.has(s)||(t.add(s),r.push(o))}this.signatures=r.map(o=>({signature:null,publicKey:o.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const o of e){const s=o.publicKey.toString();t.has(s)||(t.add(s),r.push(o))}const i=this._compile();this._partialSign(i,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(i=>{const o=lm(r,i.secretKey);this._addSignature(i.publicKey,Ce(o))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Fe(t.length===64);const r=this.signatures.findIndex(i=>e.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=me.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:i,publicKey:o}of this.signatures)i===null?t&&(r.missing||(r.missing=[])).push(o):hN(i,e,o.toBytes())||(r.invalid||(r.invalid=[])).push(o);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r){const o=this._getMessageSignednessErrors(i,t);if(o){let s="Signature verification failed.";throw o.invalid&&(s+=`
Invalid signature for public key${o.invalid.length===1?"":"(s)"} [\`${o.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),o.missing&&(s+=`
Missing signature for public key${o.missing.length===1?"":"(s)"} [\`${o.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(s)}}return this._serialize(i)}_serialize(e){const{signatures:t}=this,r=[];nr(r,t.length);const i=r.length+t.length*64+e.length,o=me.alloc(i);return Fe(t.length<256),me.from(r).copy(o,0),t.forEach(({signature:s},a)=>{s!==null&&(Fe(s.length===64,"signature has invalid length"),me.from(s).copy(o,r.length+a*64))}),e.copy(o,r.length+t.length*64),Fe(o.length<=yo,`Transaction too large: ${o.length} > ${yo}`),o}get keys(){return Fe(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Fe(this.instructions.length===1),this.instructions[0].programId}get data(){return Fe(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=Dn(t);let i=[];for(let o=0;o<r;o++){const s=Un(t,0,Gc);i.push(Zt.encode(me.from(s)))}return Me.populate(Dr.from(t),i)}static populate(e,t=[]){const r=new Me;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((i,o)=>{const s={signature:i==Zt.encode(SN)?null:Zt.decode(i),publicKey:e.accountKeys[o]};r.signatures.push(s)}),e.instructions.forEach(i=>{const o=i.accounts.map(s=>{const a=e.accountKeys[s];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(s),isWritable:e.isAccountWritable(s)}});r.instructions.push(new Ge({keys:o,programId:e.accountKeys[i.programIdIndex],data:Zt.decode(i.data)}))}),r._message=e,r._json=r.toJSON(),r}}class hm{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:i,recentBlockhash:o}=e,{numRequiredSignatures:s,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,l=s-a;Fe(l>0,"Message header is invalid");const u=e.staticAccountKeys.length-s-c;Fe(u>=0,"Message header is invalid");const p=e.getAccountKeys(t),g=p.get(0);if(g===void 0)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const w of i){const k=[];for(const E of w.accountKeyIndexes){const b=p.get(E);if(b===void 0)throw new Error(`Failed to find key for account key index ${E}`);const _=E<s;let x;_?x=E<l:E<p.staticAccountKeys.length?x=E-s<u:x=E-p.staticAccountKeys.length<p.accountKeysFromLookups.writable.length,k.push({pubkey:b,isSigner:E<r.numRequiredSignatures,isWritable:x})}const A=p.get(w.programIdIndex);if(A===void 0)throw new Error(`Failed to find program id for program id index ${w.programIdIndex}`);h.push(new Ge({programId:A,data:Ce(w.data),keys:k}))}return new hm({payerKey:g,instructions:h,recentBlockhash:o})}compileToLegacyMessage(){return Dr.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return ls.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class va{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)Fe(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let i=0;i<e.header.numRequiredSignatures;i++)r.push(new Uint8Array(Gc));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();nr(t,this.signatures.length);const r=ge([Ye(t.length,"encodedSignaturesLength"),gn(wN(),this.signatures.length,"signatures"),Ye(e.length,"serializedMessage")]),i=new Uint8Array(2048),o=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,o)}static deserialize(e){let t=[...e];const r=[],i=Dn(t);for(let s=0;s<i;s++)r.push(new Uint8Array(Un(t,0,Gc)));const o=tf.deserialize(new Uint8Array(t));return new va(o,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const o=r.findIndex(s=>s.equals(i.publicKey));Fe(o>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[o]=lm(t,i.secretKey)}}addSignature(e,t){Fe(t.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(e));Fe(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=t}}const RN=160,AN=64,kN=RN/AN,Lb=1e3/kN,Hr=new Z("SysvarC1ock11111111111111111111111111111111"),IN=new Z("SysvarEpochSchedu1e111111111111111111111111"),xN=new Z("Sysvar1nstructions1111111111111111111111111"),pu=new Z("SysvarRecentB1ockHashes11111111111111111111"),_a=new Z("SysvarRent111111111111111111111111111111111"),TN=new Z("SysvarRewards111111111111111111111111111111"),CN=new Z("SysvarS1otHashes111111111111111111111111111"),NN=new Z("SysvarS1otHistory11111111111111111111111111"),gu=new Z("SysvarStakeHistory1111111111111111111111111");class bo extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:i}){const o=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",s="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+o+s;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+o+s;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const o=i.meta.logMessages;this.transactionLogs=o,t(o)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const ON={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class we extends Error{constructor({code:e,message:t,data:r},i){super(i!=null?`${i}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function r0(n,e,t,r){const i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},o=await n.sendTransaction(e,t,i);let s;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)s=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:o,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;s=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:o},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),s=(await n.confirmTransaction(o,r&&r.commitment)).value;if(s.err)throw o!=null?new bo({action:"send",signature:o,transactionMessage:`Status: (${JSON.stringify(s)})`}):new Error(`Transaction ${o} failed (${JSON.stringify(s)})`);return o}function Uo(n){return new Promise(e=>setTimeout(e,n))}function Pe(n,e){const t=n.layout.span>=0?n.layout.span:Mb(n,e),r=me.alloc(t),i=Object.assign({instruction:n.index},e);return n.layout.encode(i,r),r}function je(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const Pb=dn("lamportsPerSignature"),Db=ge([pe("version"),pe("state"),Ne("authorizedPubkey"),Ne("nonce"),ge([Pb],"feeCalculator")]),i0=Db.span;class nf{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=Db.decode(Ce(e),0);return new nf({authorizedPubkey:new Z(t.authorizedPubkey),nonce:new Z(t.nonce).toString(),feeCalculator:t.feeCalculator})}}function Ea(n){const e=Ye(8,n),t=e.decode.bind(e),r=e.encode.bind(e),i=e,o=oC();return i.decode=(s,a)=>{const c=t(s,a);return o.decode(c)},i.encode=(s,a,c)=>{const l=o.encode(s);return r(l,a,c)},i}class MN{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=pe("instruction").decode(e.data);let i;for(const[o,s]of Object.entries(Je))if(s.index==r){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:i}=je(Je.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new Z(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=je(Je.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:i}=je(Je.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new Z(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=je(Je.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:i,programId:o}=je(Je.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Z(t),seed:r,space:i,programId:new Z(o)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=je(Je.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new Z(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:i}=je(Je.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Z(t),seed:r,programId:new Z(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:i,space:o,programId:s}=je(Je.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new Z(t),seed:r,lamports:i,space:o,programId:new Z(s)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=je(Je.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new Z(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),je(Je.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=je(Je.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=je(Je.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new Z(t)}}static checkProgramId(e){if(!e.equals(ut.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Je=Object.freeze({Create:{index:0,layout:ge([pe("instruction"),tr("lamports"),tr("space"),Ne("programId")])},Assign:{index:1,layout:ge([pe("instruction"),Ne("programId")])},Transfer:{index:2,layout:ge([pe("instruction"),Ea("lamports")])},CreateWithSeed:{index:3,layout:ge([pe("instruction"),Ne("base"),Vo("seed"),tr("lamports"),tr("space"),Ne("programId")])},AdvanceNonceAccount:{index:4,layout:ge([pe("instruction")])},WithdrawNonceAccount:{index:5,layout:ge([pe("instruction"),tr("lamports")])},InitializeNonceAccount:{index:6,layout:ge([pe("instruction"),Ne("authorized")])},AuthorizeNonceAccount:{index:7,layout:ge([pe("instruction"),Ne("authorized")])},Allocate:{index:8,layout:ge([pe("instruction"),tr("space")])},AllocateWithSeed:{index:9,layout:ge([pe("instruction"),Ne("base"),Vo("seed"),tr("space"),Ne("programId")])},AssignWithSeed:{index:10,layout:ge([pe("instruction"),Ne("base"),Vo("seed"),Ne("programId")])},TransferWithSeed:{index:11,layout:ge([pe("instruction"),Ea("lamports"),Vo("seed"),Ne("programId")])},UpgradeNonceAccount:{index:12,layout:ge([pe("instruction")])}});class ut{constructor(){}static createAccount(e){const t=Je.Create,r=Pe(t,{lamports:e.lamports,space:e.space,programId:Ce(e.programId.toBuffer())});return new Ge({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const i=Je.TransferWithSeed;t=Pe(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Ce(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=Je.Transfer;t=Pe(i,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Ge({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const i=Je.AssignWithSeed;t=Pe(i,{base:Ce(e.basePubkey.toBuffer()),seed:e.seed,programId:Ce(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=Je.Assign;t=Pe(i,{programId:Ce(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ge({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=Je.CreateWithSeed,r=Pe(t,{base:Ce(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Ce(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Ge({keys:i,programId:this.programId,data:r})}static createNonceAccount(e){const t=new Me;"basePubkey"in e&&"seed"in e?t.add(ut.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:i0,programId:this.programId})):t.add(ut.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:i0,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=Je.InitializeNonceAccount,r=Pe(t,{authorized:Ce(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:pu,isSigner:!1,isWritable:!1},{pubkey:_a,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new Ge(i)}static nonceAdvance(e){const t=Je.AdvanceNonceAccount,r=Pe(t),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:pu,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new Ge(i)}static nonceWithdraw(e){const t=Je.WithdrawNonceAccount,r=Pe(t,{lamports:e.lamports});return new Ge({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:pu,isSigner:!1,isWritable:!1},{pubkey:_a,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=Je.AuthorizeNonceAccount,r=Pe(t,{authorized:Ce(e.newAuthorizedPubkey.toBuffer())});return new Ge({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const i=Je.AllocateWithSeed;t=Pe(i,{base:Ce(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Ce(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=Je.Allocate;t=Pe(i,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ge({keys:r,programId:this.programId,data:t})}}ut.programId=new Z("11111111111111111111111111111111");const BN=yo-300;class us{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/us.chunkSize)+1+1)}static async load(e,t,r,i,o){{const p=await e.getMinimumBalanceForRentExemption(o.length),g=await e.getAccountInfo(r.publicKey,"confirmed");let h=null;if(g!==null){if(g.executable)return console.error("Program load failed, account is already executable"),!1;g.data.length!==o.length&&(h=h||new Me,h.add(ut.allocate({accountPubkey:r.publicKey,space:o.length}))),g.owner.equals(i)||(h=h||new Me,h.add(ut.assign({accountPubkey:r.publicKey,programId:i}))),g.lamports<p&&(h=h||new Me,h.add(ut.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:p-g.lamports})))}else h=new Me().add(ut.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:p>0?p:1,space:o.length,programId:i}));h!==null&&await r0(e,h,[t,r],{commitment:"confirmed"})}const s=ge([pe("instruction"),pe("offset"),pe("bytesLength"),pe("bytesLengthPadding"),gn(Be("byte"),mo(pe(),-8),"bytes")]),a=us.chunkSize;let c=0,l=o,u=[];for(;l.length>0;){const p=l.slice(0,a),g=me.alloc(a+16);s.encode({instruction:0,offset:c,bytes:p,bytesLength:0,bytesLengthPadding:0},g);const h=new Me().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:g});u.push(r0(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await Uo(1e3/4),c+=a,l=l.slice(a)}await Promise.all(u);{const p=ge([pe("instruction")]),g=me.alloc(p.span);p.encode({instruction:1},g);const h=new Me().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:_a,isSigner:!1,isWritable:!1}],programId:i,data:g}),w="processed",k=await e.sendTransaction(h,[t,r],{preflightCommitment:w}),{context:A,value:E}=await e.confirmTransaction({signature:k,lastValidBlockHeight:h.lastValidBlockHeight,blockhash:h.recentBlockhash},w);if(E.err)throw new Error(`Transaction ${k} failed (${JSON.stringify(E)})`);for(;;){try{if(await e.getSlot({commitment:w})>A.slot)break}catch{}await new Promise(b=>setTimeout(b,Math.round(Lb/2)))}}return!0}}us.chunkSize=BN;const LN=new Z("BPFLoader2111111111111111111111111111111111");class PN{static getMinNumSignatures(e){return us.getMinNumSignatures(e)}static load(e,t,r,i,o){return us.load(e,t,r,o,i)}}function DN(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var xh,kw;function UN(){if(kw)return xh;kw=1;var n=Object.prototype.toString,e=Object.keys||function(r){var i=[];for(var o in r)i.push(o);return i};function t(r,i){var o,s,a,c,l,u,p;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return t(r.toJSON(),i);if(p=n.call(r),p==="[object Array]"){for(a="[",s=r.length-1,o=0;o<s;o++)a+=t(r[o],!0)+",";return s>-1&&(a+=t(r[o],!0)),a+"]"}else if(p==="[object Object]"){for(c=e(r).sort(),s=c.length,a="",o=0;o<s;)l=c[o],u=t(r[l],!1),u!==void 0&&(a&&(a+=","),a+=JSON.stringify(l)+":"+u),o++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return xh=function(r){var i=t(r,!1);if(i!==void 0)return""+i},xh}var zN=UN(),Iw=DN(zN);const Ya=32;function Th(n){let e=0;for(;n>1;)n/=2,e++;return e}function FN(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class Ub{constructor(e,t,r,i,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=o}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=Th(FN(e+Ya+1))-Th(Ya)-1,r=this.getSlotsInEpoch(t),i=e-(r-Ya);return[t,i]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),i=this.firstNormalEpoch+r,o=t%this.slotsPerEpoch;return[i,o]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*Ya:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Th(Ya)):this.slotsPerEpoch}}var WN=globalThis.fetch;class HN extends jC{constructor(e,t,r){const i=o=>{const s=WC(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in s?this.underlyingSocket=s.socket:this.underlyingSocket=s,s};super(i,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function jN(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const xw=56;class o0{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=jN(KN,e),r=e.length-xw;Fe(r>=0,"lookup table is invalid"),Fe(r%32===0,"lookup table is invalid");const i=r/32,{addresses:o}=ge([gn(Ne(),i,"addresses")]).decode(e.slice(xw));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new Z(t.authority[0]):void 0,addresses:o.map(s=>new Z(s))}}}const KN={index:1,layout:ge([pe("typeIndex"),Ea("deactivationSlot"),dn("lastExtendedSlot"),Be("lastExtendedStartIndex"),Be(),gn(Ne(),mo(Be(),-1),"authority")])},VN=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function $N(n){const e=n.match(VN);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,i,o]=e,s=n.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),c=a==null?"":`:${a+1}`;return`${s}//${r}${c}${o}`}const vt=dl(im(Z),oe(),n=>new Z(n)),zb=om([oe(),mt("base64")]),pm=dl(im(me),zb,n=>me.from(n[0],"base64")),Fb=30*1e3;function GN(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Xe(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...i}=n;e=r,t=i}return{commitment:e,config:t}}function Tw(n){return n.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function Wb(n){return Mn([ee({jsonrpc:mt("2.0"),id:oe(),result:n}),ee({jsonrpc:mt("2.0"),id:oe(),error:ee({code:Ba(),message:oe(),data:ve(dC())})})])}const qN=Wb(Ba());function Te(n){return dl(Wb(n),qN,e=>"error"in e?e:{...e,result:se(e.result,n)})}function Tt(n){return Te(ee({context:ee({slot:K()}),value:n}))}function rf(n){return ee({context:ee({slot:K()}),value:n})}function Ch(n,e){return n===0?new ls({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new Z(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Zt.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new Dr(e)}const YN=ee({foundation:K(),foundationTerm:K(),initial:K(),taper:K(),terminal:K()}),ZN=Te(le(ue(ee({epoch:K(),effectiveSlot:K(),amount:K(),postBalance:K(),commission:ve(ue(K()))})))),XN=le(ee({slot:K(),prioritizationFee:K()})),QN=ee({total:K(),validator:K(),foundation:K(),epoch:K()}),JN=ee({epoch:K(),slotIndex:K(),slotsInEpoch:K(),absoluteSlot:K(),blockHeight:ve(K()),transactionCount:ve(K())}),eO=ee({slotsPerEpoch:K(),leaderScheduleSlotOffset:K(),warmup:Qr(),firstNormalEpoch:K(),firstNormalSlot:K()}),tO=pb(oe(),le(K())),ys=ue(Mn([ee({}),oe()])),nO=ee({err:ys}),rO=mt("receivedSignature"),iO=ee({"solana-core":oe(),"feature-set":ve(K())}),oO=ee({program:oe(),programId:vt,parsed:Ba()}),sO=ee({programId:vt,accounts:le(vt),data:oe()}),Cw=Tt(ee({err:ue(Mn([ee({}),oe()])),logs:ue(le(oe())),accounts:ve(ue(le(ue(ee({executable:Qr(),owner:oe(),lamports:K(),data:le(oe()),rentEpoch:ve(K())}))))),unitsConsumed:ve(K()),returnData:ve(ue(ee({programId:oe(),data:om([oe(),mt("base64")])}))),innerInstructions:ve(ue(le(ee({index:K(),instructions:le(Mn([oO,sO]))}))))})),aO=Tt(ee({byIdentity:pb(oe(),le(K())),range:ee({firstSlot:K(),lastSlot:K()})}));function cO(n,e,t,r,i,o){const s=t||WN;let a;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(u,p)=>{const g=await new Promise((h,w)=>{try{r(u,p,(k,A)=>h([k,A]))}catch(k){w(k)}});return await s(...g)}),new UC(async(u,p)=>{const g={method:"POST",body:u,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},c3)};try{let h=5,w,k=500;for(;c?w=await c(n,g):w=await s(n,g),!(w.status!==429||i===!0||(h-=1,h===0));)console.error(`Server responded with ${w.status} ${w.statusText}.  Retrying after ${k}ms delay...`),await Uo(k),k*=2;const A=await w.text();w.ok?p(null,A):p(new Error(`${w.status} ${w.statusText}: ${A}`))}catch(h){h instanceof Error&&p(h)}},{})}function lO(n){return(e,t)=>new Promise((r,i)=>{n.request(e,t,(o,s)=>{if(o){i(o);return}r(s)})})}function uO(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const i=e.map(o=>n.request(o.methodName,o.args));n.request(i,(o,s)=>{if(o){r(o);return}t(s)})})}const dO=Te(YN),fO=Te(QN),hO=Te(XN),pO=Te(JN),gO=Te(eO),mO=Te(tO),yO=Te(K()),wO=Tt(ee({total:K(),circulating:K(),nonCirculating:K(),nonCirculatingAccounts:le(vt)})),s0=ee({amount:oe(),uiAmount:ue(K()),decimals:K(),uiAmountString:ve(oe())}),vO=Tt(le(ee({address:vt,amount:oe(),uiAmount:ue(K()),decimals:K(),uiAmountString:ve(oe())}))),_O=Tt(le(ee({pubkey:vt,account:ee({executable:Qr(),owner:vt,lamports:K(),data:pm,rentEpoch:K()})}))),a0=ee({program:oe(),parsed:Ba(),space:K()}),EO=Tt(le(ee({pubkey:vt,account:ee({executable:Qr(),owner:vt,lamports:K(),data:a0,rentEpoch:K()})}))),bO=Tt(le(ee({lamports:K(),address:vt}))),Yc=ee({executable:Qr(),owner:vt,lamports:K(),data:pm,rentEpoch:K()}),SO=ee({pubkey:vt,account:Yc}),RO=dl(Mn([im(me),a0]),Mn([zb,a0]),n=>Array.isArray(n)?se(n,pm):n),c0=ee({executable:Qr(),owner:vt,lamports:K(),data:RO,rentEpoch:K()}),AO=ee({pubkey:vt,account:c0}),kO=ee({state:Mn([mt("active"),mt("inactive"),mt("activating"),mt("deactivating")]),active:K(),inactive:K()}),IO=Te(le(ee({signature:oe(),slot:K(),err:ys,memo:ue(oe()),blockTime:ve(ue(K()))}))),xO=Te(le(ee({signature:oe(),slot:K(),err:ys,memo:ue(oe()),blockTime:ve(ue(K()))}))),TO=ee({subscription:K(),result:rf(Yc)}),CO=ee({pubkey:vt,account:Yc}),NO=ee({subscription:K(),result:rf(CO)}),OO=ee({parent:K(),slot:K(),root:K()}),MO=ee({subscription:K(),result:OO}),BO=Mn([ee({type:Mn([mt("firstShredReceived"),mt("completed"),mt("optimisticConfirmation"),mt("root")]),slot:K(),timestamp:K()}),ee({type:mt("createdBank"),parent:K(),slot:K(),timestamp:K()}),ee({type:mt("frozen"),slot:K(),timestamp:K(),stats:ee({numTransactionEntries:K(),numSuccessfulTransactions:K(),numFailedTransactions:K(),maxTransactionsPerEntry:K()})}),ee({type:mt("dead"),slot:K(),timestamp:K(),err:oe()})]),LO=ee({subscription:K(),result:BO}),PO=ee({subscription:K(),result:rf(Mn([nO,rO]))}),DO=ee({subscription:K(),result:K()}),UO=ee({pubkey:oe(),gossip:ue(oe()),tpu:ue(oe()),rpc:ue(oe()),version:ue(oe())}),Nw=ee({votePubkey:oe(),nodePubkey:oe(),activatedStake:K(),epochVoteAccount:Qr(),epochCredits:le(om([K(),K(),K()])),commission:K(),lastVote:K(),rootSlot:ue(K())}),zO=Te(ee({current:le(Nw),delinquent:le(Nw)})),FO=Mn([mt("processed"),mt("confirmed"),mt("finalized")]),WO=ee({slot:K(),confirmations:ue(K()),err:ys,confirmationStatus:ve(FO)}),HO=Tt(le(ue(WO))),jO=Te(K()),Hb=ee({accountKey:vt,writableIndexes:le(K()),readonlyIndexes:le(K())}),gm=ee({signatures:le(oe()),message:ee({accountKeys:le(oe()),header:ee({numRequiredSignatures:K(),numReadonlySignedAccounts:K(),numReadonlyUnsignedAccounts:K()}),instructions:le(ee({accounts:le(K()),data:oe(),programIdIndex:K()})),recentBlockhash:oe(),addressTableLookups:ve(le(Hb))})}),jb=ee({pubkey:vt,signer:Qr(),writable:Qr(),source:ve(Mn([mt("transaction"),mt("lookupTable")]))}),Kb=ee({accountKeys:le(jb),signatures:le(oe())}),Vb=ee({parsed:Ba(),program:oe(),programId:vt}),$b=ee({accounts:le(vt),data:oe(),programId:vt}),KO=Mn([$b,Vb]),VO=Mn([ee({parsed:Ba(),program:oe(),programId:oe()}),ee({accounts:le(oe()),data:oe(),programId:oe()})]),Gb=dl(KO,VO,n=>"accounts"in n?se(n,$b):se(n,Vb)),qb=ee({signatures:le(oe()),message:ee({accountKeys:le(jb),instructions:le(Gb),recentBlockhash:oe(),addressTableLookups:ve(ue(le(Hb)))})}),pd=ee({accountIndex:K(),mint:oe(),owner:ve(oe()),programId:ve(oe()),uiTokenAmount:s0}),Yb=ee({writable:le(vt),readonly:le(vt)}),of=ee({err:ys,fee:K(),innerInstructions:ve(ue(le(ee({index:K(),instructions:le(ee({accounts:le(K()),data:oe(),programIdIndex:K()}))})))),preBalances:le(K()),postBalances:le(K()),logMessages:ve(ue(le(oe()))),preTokenBalances:ve(ue(le(pd))),postTokenBalances:ve(ue(le(pd))),loadedAddresses:ve(Yb),computeUnitsConsumed:ve(K()),costUnits:ve(K())}),mm=ee({err:ys,fee:K(),innerInstructions:ve(ue(le(ee({index:K(),instructions:le(Gb)})))),preBalances:le(K()),postBalances:le(K()),logMessages:ve(ue(le(oe()))),preTokenBalances:ve(ue(le(pd))),postTokenBalances:ve(ue(le(pd))),loadedAddresses:ve(Yb),computeUnitsConsumed:ve(K()),costUnits:ve(K())}),La=Mn([mt(0),mt("legacy")]),ws=ee({pubkey:oe(),lamports:K(),postBalance:ue(K()),rewardType:ue(oe()),commission:ve(ue(K()))}),$O=Te(ue(ee({blockhash:oe(),previousBlockhash:oe(),parentSlot:K(),transactions:le(ee({transaction:gm,meta:ue(of),version:ve(La)})),rewards:ve(le(ws)),blockTime:ue(K()),blockHeight:ue(K())}))),GO=Te(ue(ee({blockhash:oe(),previousBlockhash:oe(),parentSlot:K(),rewards:ve(le(ws)),blockTime:ue(K()),blockHeight:ue(K())}))),qO=Te(ue(ee({blockhash:oe(),previousBlockhash:oe(),parentSlot:K(),transactions:le(ee({transaction:Kb,meta:ue(of),version:ve(La)})),rewards:ve(le(ws)),blockTime:ue(K()),blockHeight:ue(K())}))),YO=Te(ue(ee({blockhash:oe(),previousBlockhash:oe(),parentSlot:K(),transactions:le(ee({transaction:qb,meta:ue(mm),version:ve(La)})),rewards:ve(le(ws)),blockTime:ue(K()),blockHeight:ue(K())}))),ZO=Te(ue(ee({blockhash:oe(),previousBlockhash:oe(),parentSlot:K(),transactions:le(ee({transaction:Kb,meta:ue(mm),version:ve(La)})),rewards:ve(le(ws)),blockTime:ue(K()),blockHeight:ue(K())}))),XO=Te(ue(ee({blockhash:oe(),previousBlockhash:oe(),parentSlot:K(),rewards:ve(le(ws)),blockTime:ue(K()),blockHeight:ue(K())}))),QO=Te(ue(ee({blockhash:oe(),previousBlockhash:oe(),parentSlot:K(),transactions:le(ee({transaction:gm,meta:ue(of)})),rewards:ve(le(ws)),blockTime:ue(K())}))),Ow=Te(ue(ee({blockhash:oe(),previousBlockhash:oe(),parentSlot:K(),signatures:le(oe()),blockTime:ue(K())}))),Nh=Te(ue(ee({slot:K(),meta:ue(of),blockTime:ve(ue(K())),transaction:gm,version:ve(La)}))),$l=Te(ue(ee({slot:K(),transaction:qb,meta:ue(mm),blockTime:ve(ue(K())),version:ve(La)}))),JO=Tt(ee({blockhash:oe(),lastValidBlockHeight:K()})),e3=Tt(Qr()),t3=ee({slot:K(),numTransactions:K(),numSlots:K(),samplePeriodSecs:K()}),n3=Te(le(t3)),r3=Tt(ue(ee({feeCalculator:ee({lamportsPerSignature:K()})}))),i3=Te(oe()),o3=Te(oe()),s3=ee({err:ys,logs:le(oe()),signature:oe()}),a3=ee({result:rf(s3),subscription:K()}),c3={"solana-client":"js/1.0.0-maintenance"};class Zb{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const l={};return async u=>{const{commitment:p,config:g}=Xe(u),h=this._buildArgs([],p,void 0,g),w=Iw(h);return l[w]=l[w]??(async()=>{try{const k=await this._rpcRequest("getBlockHeight",h),A=se(k,Te(K()));if("error"in A)throw new we(A.error,"failed to get block height information");return A.result}finally{delete l[w]}})(),await l[w]}})();let r,i,o,s,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,i=t.httpHeaders,o=t.fetch,s=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=GN(e),this._rpcWsEndpoint=r||$N(e),this._rpcClient=cO(e,i,o,s,a,c),this._rpcRequest=lO(this._rpcClient),this._rpcBatchRequest=uO(this._rpcClient),this._rpcWebSocket=new HN(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:i}=Xe(t),o=this._buildArgs([e.toBase58()],r,void 0,i),s=await this._rpcRequest("getBalance",o),a=se(s,Tt(K()));if("error"in a)throw new we(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=se(t,Te(ue(K())));if("error"in r)throw new we(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=se(e,Te(K()));if("error"in t)throw new we(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=se(e,yO);if("error"in t)throw new we(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),i=se(r,wO);if("error"in i)throw new we(i.error,"failed to get supply");return i.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenSupply",r),o=se(i,Tt(s0));if("error"in o)throw new we(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenAccountBalance",r),o=se(i,Tt(s0));if("error"in o)throw new we(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(e,t,r){const{commitment:i,config:o}=Xe(r);let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const a=this._buildArgs(s,i,"base64",o),c=await this._rpcRequest("getTokenAccountsByOwner",a),l=se(c,_O);if("error"in l)throw new we(l.error,`failed to get token accounts owned by account ${e.toBase58()}`);return l.result}async getParsedTokenAccountsByOwner(e,t,r){let i=[e.toBase58()];"mint"in t?i.push({mint:t.mint.toBase58()}):i.push({programId:t.programId.toBase58()});const o=this._buildArgs(i,r,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",o),a=se(s,EO);if("error"in a)throw new we(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],i=await this._rpcRequest("getLargestAccounts",r),o=se(i,bO);if("error"in o)throw new we(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenLargestAccounts",r),o=se(i,vO);if("error"in o)throw new we(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:i}=Xe(t),o=this._buildArgs([e.toBase58()],r,"base64",i),s=await this._rpcRequest("getAccountInfo",o),a=se(s,Tt(ue(Yc)));if("error"in a)throw new we(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:i}=Xe(t),o=this._buildArgs([e.toBase58()],r,"jsonParsed",i),s=await this._rpcRequest("getAccountInfo",o),a=se(s,Tt(ue(c0)));if("error"in a)throw new we(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:i}=Xe(t),o=e.map(l=>l.toBase58()),s=this._buildArgs([o],r,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",s),c=se(a,Tt(le(ue(c0))));if("error"in c)throw new we(c.error,`failed to get info for accounts ${o}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:i}=Xe(t),o=e.map(l=>l.toBase58()),s=this._buildArgs([o],r,"base64",i),a=await this._rpcRequest("getMultipleAccounts",s),c=se(a,Tt(le(ue(Yc))));if("error"in c)throw new we(c.error,`failed to get info for accounts ${o}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:i,config:o}=Xe(t),s=this._buildArgs([e.toBase58()],i,void 0,{...o,epoch:r??(o==null?void 0:o.epoch)}),a=await this._rpcRequest("getStakeActivation",s),c=se(a,Te(kO));if("error"in c)throw new we(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:i}=Xe(t),{encoding:o,...s}=i||{},a=this._buildArgs([e.toBase58()],r,o||"base64",{...s,...s.filters?{filters:Tw(s.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),l=le(SO),u=s.withContext===!0?se(c,Tt(l)):se(c,Te(l));if("error"in u)throw new we(u.error,`failed to get accounts owned by program ${e.toBase58()}`);return u.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:i}=Xe(t),o=this._buildArgs([e.toBase58()],r,"jsonParsed",i),s=await this._rpcRequest("getProgramAccounts",o),a=se(s,Te(le(AO)));if("error"in a)throw new we(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var o;let r;if(typeof e=="string")r=e;else{const s=e;if((o=s.abortSignal)!=null&&o.aborted)return Promise.reject(s.abortSignal.reason);r=s.signature}let i;try{i=Zt.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Fe(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,i,o=!1;const s=new Promise((c,l)=>{try{r=this.onSignature(t,(p,g)=>{r=void 0;const h={context:g,value:p};c({__type:ci.PROCESSED,response:h})},e);const u=new Promise(p=>{r==null?p():i=this._onSubscriptionStateChange(r,g=>{g==="subscribed"&&p()})});(async()=>{if(await u,o)return;const p=await this.getSignatureStatus(t);if(o||p==null)return;const{context:g,value:h}=p;if(h!=null)if(h!=null&&h.err)l(h.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(h.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(h.confirmationStatus==="processed"||h.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,c({__type:ci.PROCESSED,response:{context:g,value:h}})}})()}catch(u){l(u)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:s}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:i}}){let o=!1;const s=new Promise(p=>{const g=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let h=await g();if(!o){for(;h<=r;)if(await Uo(1e3),o||(h=await g(),o))return;p({__type:ci.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),l=this.getCancellationPromise(t);let u;try{const p=await Promise.race([l,c,s]);if(p.__type===ci.PROCESSED)u=p.response;else throw new dm(i)}finally{o=!0,a()}return u}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:i,nonceValue:o,signature:s}}){let a=!1;const c=new Promise(h=>{let w=o,k=null;const A=async()=>{try{const{context:E,value:b}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:r});return k=E.slot,b==null?void 0:b.nonce}catch{return w}};(async()=>{if(w=await A(),!a)for(;;){if(o!==w){h({__type:ci.NONCE_INVALID,slotInWhichNonceDidAdvance:k});return}if(await Uo(2e3),a||(w=await A(),a))return}})()}),{abortConfirmation:l,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),p=this.getCancellationPromise(t);let g;try{const h=await Promise.race([p,u,c]);if(h.__type===ci.PROCESSED)g=h.response;else{let w;for(;;){const k=await this.getSignatureStatus(s);if(k==null)break;if(k.context.slot<(h.slotInWhichNonceDidAdvance??r)){await Uo(400);continue}w=k;break}if(w!=null&&w.value){const k=e||"finalized",{confirmationStatus:A}=w.value;switch(k){case"processed":case"recent":if(A!=="processed"&&A!=="confirmed"&&A!=="finalized")throw new qs(s);break;case"confirmed":case"single":case"singleGossip":if(A!=="confirmed"&&A!=="finalized")throw new qs(s);break;case"finalized":case"max":case"root":if(A!=="finalized")throw new qs(s);break;default:}g={context:w.context,value:{err:w.value.err}}}else throw new qs(s)}}finally{a=!0,l()}return g}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const i=new Promise(c=>{let l=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{l=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:ci.TIMED_OUT,timeoutMs:l}),l)}),{abortConfirmation:o,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([s,i]);if(c.__type===ci.PROCESSED)a=c.response;else throw new fm(t,c.timeoutMs/1e3)}finally{clearTimeout(r),o()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=se(e,Te(le(UO)));if("error"in t)throw new we(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),i=se(r,zO);if("error"in i)throw new we(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:t,config:r}=Xe(e),i=this._buildArgs([],t,void 0,r),o=await this._rpcRequest("getSlot",i),s=se(o,Te(K()));if("error"in s)throw new we(s.error,"failed to get slot");return s.result}async getSlotLeader(e){const{commitment:t,config:r}=Xe(e),i=this._buildArgs([],t,void 0,r),o=await this._rpcRequest("getSlotLeader",i),s=se(o,Te(oe()));if("error"in s)throw new we(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(e,t){const r=[e,t],i=await this._rpcRequest("getSlotLeaders",r),o=se(i,Te(le(vt)));if("error"in o)throw new we(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(e,t){const{context:r,value:i}=await this.getSignatureStatuses([e],t);Fe(i.length===1);const o=i[0];return{context:r,value:o}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const i=await this._rpcRequest("getSignatureStatuses",r),o=se(i,HO);if("error"in o)throw new we(o.error,"failed to get signature status");return o.result}async getTransactionCount(e){const{commitment:t,config:r}=Xe(e),i=this._buildArgs([],t,void 0,r),o=await this._rpcRequest("getTransactionCount",i),s=se(o,Te(K()));if("error"in s)throw new we(s.error,"failed to get transaction count");return s.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),i=se(r,dO);if("error"in i)throw new we(i.error,"failed to get inflation");return i.result}async getInflationReward(e,t,r){const{commitment:i,config:o}=Xe(r),s=this._buildArgs([e.map(l=>l.toBase58())],i,void 0,{...o,epoch:t??(o==null?void 0:o.epoch)}),a=await this._rpcRequest("getInflationReward",s),c=se(a,ZN);if("error"in c)throw new we(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=se(e,fO);if("error"in t)throw new we(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Xe(e),i=this._buildArgs([],t,void 0,r),o=await this._rpcRequest("getEpochInfo",i),s=se(o,pO);if("error"in s)throw new we(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=se(e,gO);if("error"in t)throw new we(t.error,"failed to get epoch schedule");const r=t.result;return new Ub(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=se(e,mO);if("error"in t)throw new we(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),o=se(i,jO);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(e){const{context:t,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(e);return{context:t,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=se(t,n3);if("error"in r)throw new we(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),o=se(i,r3);if("error"in o)throw new we(o.error,"failed to get fee calculator");const{context:s,value:a}=o.result;return{context:s,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=Ce(e.serialize()).toString("base64"),i=this._buildArgs([r],t),o=await this._rpcRequest("getFeeForMessage",i),s=se(o,Tt(ue(K())));if("error"in s)throw new we(s.error,"failed to get fee for message");if(s.result===null)throw new Error("invalid blockhash");return s.result}async getRecentPrioritizationFees(e){var s;const t=(s=e==null?void 0:e.lockedWritableAccounts)==null?void 0:s.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),o=se(i,hO);if("error"in o)throw new we(o.error,"failed to get recent prioritization fees");return o.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Xe(e),i=this._buildArgs([],t,void 0,r),o=await this._rpcRequest("getLatestBlockhash",i),s=se(o,JO);if("error"in s)throw new we(s.error,"failed to get latest blockhash");return s.result}async isBlockhashValid(e,t){const{commitment:r,config:i}=Xe(t),o=this._buildArgs([e],r,void 0,i),s=await this._rpcRequest("isBlockhashValid",o),a=se(s,e3);if("error"in a)throw new we(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=se(e,Te(iO));if("error"in t)throw new we(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=se(e,Te(oe()));if("error"in t)throw new we(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:i}=Xe(t),o=this._buildArgsAtLeastConfirmed([e],r,void 0,i),s=await this._rpcRequest("getBlock",o);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=se(s,qO);if("error"in a)throw a.error;return a.result}case"none":{const a=se(s,GO);if("error"in a)throw a.error;return a.result}default:{const a=se(s,$O);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:l,meta:u,version:p})=>({meta:u,transaction:{...l,message:Ch(p,l.message)},version:p}))}:null}}}catch(a){throw new we(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:i}=Xe(t),o=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),s=await this._rpcRequest("getBlock",o);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=se(s,ZO);if("error"in a)throw a.error;return a.result}case"none":{const a=se(s,XO);if("error"in a)throw a.error;return a.result}default:{const a=se(s,YO);if("error"in a)throw a.error;return a.result}}}catch(a){throw new we(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const i=this._buildArgs([],r,"base64",t),o=await this._rpcRequest("getBlockProduction",i),s=se(o,aO);if("error"in s)throw new we(s.error,"failed to get block production information");return s.result}async getTransaction(e,t){const{commitment:r,config:i}=Xe(t),o=this._buildArgsAtLeastConfirmed([e],r,void 0,i),s=await this._rpcRequest("getTransaction",o),a=se(s,Nh);if("error"in a)throw new we(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:Ch(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:i}=Xe(t),o=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),s=await this._rpcRequest("getTransaction",o),a=se(s,$l);if("error"in a)throw new we(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:i}=Xe(t),o=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(o)).map(c=>{const l=se(c,$l);if("error"in l)throw new we(l.error,"failed to get transactions");return l.result})}async getTransactions(e,t){const{commitment:r,config:i}=Xe(t),o=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,void 0,i)}));return(await this._rpcBatchRequest(o)).map(c=>{const l=se(c,Nh);if("error"in l)throw new we(l.error,"failed to get transactions");const u=l.result;return u&&{...u,transaction:{...u.transaction,message:Ch(u.version,u.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),i=await this._rpcRequest("getBlock",r),o=se(i,QO);if("error"in o)throw new we(o.error,"failed to get confirmed block");const s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");const a={...s,transactions:s.transactions.map(({transaction:c,meta:l})=>{const u=new Dr(c.message);return{meta:l,transaction:{...c,message:u}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:l})=>({meta:l,transaction:Me.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const i=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),o=await this._rpcRequest("getBlocks",i),s=se(o,Te(le(K())));if("error"in s)throw new we(s.error,"failed to get blocks");return s.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),o=se(i,Ow);if("error"in o)throw new we(o.error,"failed to get block");const s=o.result;if(!s)throw new Error("Block "+e+" not found");return s}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),o=se(i,Ow);if("error"in o)throw new we(o.error,"failed to get confirmed block");const s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");return s}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),i=await this._rpcRequest("getTransaction",r),o=se(i,Nh);if("error"in o)throw new we(o.error,"failed to get transaction");const s=o.result;if(!s)return s;const a=new Dr(s.transaction.message),c=s.transaction.signatures;return{...s,transaction:Me.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),i=await this._rpcRequest("getTransaction",r),o=se(i,$l);if("error"in o)throw new we(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(e,t){const r=e.map(s=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([s],t,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(s=>{const a=se(s,$l);if("error"in a)throw new we(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let i={},o=await this.getFirstAvailableBlock();for(;!("until"in i)&&(t--,!(t<=0||t<o));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(i.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let s=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>s));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(i.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),s=se(o,IO);if("error"in s)throw new we(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(e,t,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),o=await this._rpcRequest("getSignaturesForAddress",i),s=se(o,xO);if("error"in s)throw new we(s.error,"failed to get signatures for address");return s.result}async getAddressLookupTable(e,t){const{context:r,value:i}=await this.getAccountInfoAndContext(e,t);let o=null;return i!==null&&(o=new o0({key:e,state:o0.deserialize(i.data)})),{context:r,value:o}}async getNonceAndContext(e,t){const{context:r,value:i}=await this.getAccountInfoAndContext(e,t);let o=null;return i!==null&&(o=nf.fromAccountData(i.data)),{context:r,value:o}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),i=se(r,i3);if("error"in i)throw new we(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Uo(100);const r=Date.now()-this._blockhashInfo.lastFetch>=Fb;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let i=0;i<50;i++){const o=await this.getLatestBlockhash("finalized");if(r!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await Uo(Lb/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Xe(e),i=this._buildArgs([],t,"base64",r),o=await this._rpcRequest("getStakeMinimumDelegation",i),s=se(o,Tt(K()));if("error"in s)throw new we(s.error,"failed to get stake minimum delegation");return s.result}async simulateTransaction(e,t,r){if("message"in e){const k=e.serialize(),A=me.from(k).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const E=t||{};E.encoding="base64","commitment"in E||(E.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(E.innerInstructions=t.innerInstructions);const b=[A,E],_=await this._rpcRequest("simulateTransaction",b),x=se(_,Cw);if("error"in x)throw new Error("failed to simulate transaction: "+x.error.message);return x.result}let i;if(e instanceof Me){let w=e;i=new Me,i.feePayer=w.feePayer,i.instructions=e.instructions,i.nonceInfo=w.nonceInfo,i.signatures=w.signatures}else i=Me.populate(e),i._message=i._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const o=t;if(i.nonceInfo&&o)i.sign(...o);else{let w=this._disableBlockhashCaching;for(;;){const k=await this._blockhashWithExpiryBlockHeight(w);if(i.lastValidBlockHeight=k.lastValidBlockHeight,i.recentBlockhash=k.blockhash,!o)break;if(i.sign(...o),!i.signature)throw new Error("!signature");const A=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(A)&&!this._blockhashInfo.transactionSignatures.includes(A)){this._blockhashInfo.simulatedSignatures.push(A);break}else w=!0}}const s=i._compile(),a=s.serialize(),l=i._serialize(a).toString("base64"),u={encoding:"base64",commitment:this.commitment};if(r){const w=(Array.isArray(r)?r:s.nonProgramIds()).map(k=>k.toBase58());u.accounts={encoding:"base64",addresses:w}}o&&(u.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(u.innerInstructions=t.innerInstructions);const p=[l,u],g=await this._rpcRequest("simulateTransaction",p),h=se(g,Cw);if("error"in h){let w;if("data"in h.error&&(w=h.error.data.logs,w&&Array.isArray(w))){const k=`
    `,A=k+w.join(k);console.error(h.error.message,A)}throw new bo({action:"simulate",signature:"",transactionMessage:h.error.message,logs:w})}return h.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const s=e.serialize();return await this.sendRawTransaction(s,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(e.nonceInfo)e.sign(...i);else{let s=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(s);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))s=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const o=e.serialize();return await this.sendRawTransaction(o,r)}async sendRawTransaction(e,t){const r=Ce(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},i=t&&t.skipPreflight,o=i===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),i&&(r.skipPreflight=i),o&&(r.preflightCommitment=o);const s=[e,r],a=await this._rpcRequest("sendTransaction",s),c=se(a,o3);if("error"in c){let l;throw"data"in c.error&&(l=c.error.data.logs),new bo({action:i?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:l})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var i;const r=(i=this._subscriptionsByHash[e])==null?void 0:i.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const o=this._subscriptionStateChangeCallbacksByHash[e];o&&o.forEach(s=>{try{s(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){var o;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const i=(o=this._subscriptionStateChangeCallbacksByHash)[r]||(o[r]=new Set);return i.add(t),()=>{i.delete(t),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:o,method:s}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(s,o);this._setSubscription(r,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${s}\``,{args:o,error:a}),!t())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:o,unsubscribeMethod:s}=i;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(s,[o])}catch(a){if(a instanceof Error&&console.error(`${s} error:`,a.message),!t())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(i=>{try{i(...t)}catch(o){console.error(o)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=se(e,TO);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,i=Iw([e.method,t]),o=this._subscriptionsByHash[i];return o===void 0?this._subscriptionsByHash[i]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:o.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const s=this._subscriptionsByHash[i];Fe(s!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),s.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const{commitment:i,config:o}=Xe(r),s=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},s)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=se(e,NO);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,i){const{commitment:o,config:s}=Xe(r),a=this._buildArgs([e.toBase58()],o||this._commitment||"finalized","base64",s||(i?{filters:Tw(i)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=se(e,a3);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=se(e,MO);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=se(e,LO);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,i){const o=t||this._commitment;if(o||r||i){let s={};r&&(s.encoding=r),o&&(s.commitment=o),i&&(s=Object.assign(s,i)),e.push(s)}return e}_buildArgsAtLeastConfirmed(e,t,r,i){const o=t||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,i)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=se(e,PO);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const i=this._buildArgs([e],r||this._commitment||"finalized"),o=this._makeSubscription({callback:(s,a)=>{if(s.type==="status"){t(s.result,a);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return o}onSignatureWithOptions(e,t,r){const{commitment:i,...o}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},s=this._buildArgs([e],i,void 0,o),a=this._makeSubscription({callback:(c,l)=>{t(c,l);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=se(e,DO);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class oa{constructor(e){this._keypair=void 0,this._keypair=e??Sw()}static generate(){return new oa(Sw())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const i=e.slice(0,32),o=hd(i);for(let s=0;s<32;s++)if(r[s]!==o[s])throw new Error("provided secretKey is invalid")}return new oa({publicKey:r,secretKey:e})}static fromSeed(e){const t=hd(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new oa({publicKey:t,secretKey:r})}get publicKey(){return new Z(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const mi=Object.freeze({CreateLookupTable:{index:0,layout:ge([pe("instruction"),Ea("recentSlot"),Be("bumpSeed")])},FreezeLookupTable:{index:1,layout:ge([pe("instruction")])},ExtendLookupTable:{index:2,layout:ge([pe("instruction"),Ea(),gn(Ne(),mo(pe(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:ge([pe("instruction")])},CloseLookupTable:{index:4,layout:ge([pe("instruction")])}});class l3{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=pe("instruction").decode(e.data);let i;for(const[o,s]of Object.entries(mi))if(s.index==r){i=o;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=je(mi.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=je(mi.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new Z(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(ym.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class ym{constructor(){}static createLookupTable(e){const[t,r]=Z.findProgramAddressSync([e.authority.toBuffer(),db().encode(e.recentSlot)],this.programId),i=mi.CreateLookupTable,o=Pe(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:ut.programId,isSigner:!1,isWritable:!1}];return[new Ge({programId:this.programId,keys:s,data:o}),t]}static freezeLookupTable(e){const t=mi.FreezeLookupTable,r=Pe(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Ge({programId:this.programId,keys:i,data:r})}static extendLookupTable(e){const t=mi.ExtendLookupTable,r=Pe(t,{addresses:e.addresses.map(o=>o.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:ut.programId,isSigner:!1,isWritable:!1}),new Ge({programId:this.programId,keys:i,data:r})}static deactivateLookupTable(e){const t=mi.DeactivateLookupTable,r=Pe(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Ge({programId:this.programId,keys:i,data:r})}static closeLookupTable(e){const t=mi.CloseLookupTable,r=Pe(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Ge({programId:this.programId,keys:i,data:r})}}ym.programId=new Z("AddressLookupTab1e1111111111111111111111111");class u3{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=Be("instruction").decode(e.data);let i;for(const[o,s]of Object.entries(Gr))if(s.index==r){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=je(Gr.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=je(Gr.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=je(Gr.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=je(Gr.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(wm.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Gr=Object.freeze({RequestUnits:{index:0,layout:ge([Be("instruction"),pe("units"),pe("additionalFee")])},RequestHeapFrame:{index:1,layout:ge([Be("instruction"),pe("bytes")])},SetComputeUnitLimit:{index:2,layout:ge([Be("instruction"),pe("units")])},SetComputeUnitPrice:{index:3,layout:ge([Be("instruction"),Ea("microLamports")])}});class wm{constructor(){}static requestUnits(e){const t=Gr.RequestUnits,r=Pe(t,e);return new Ge({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=Gr.RequestHeapFrame,r=Pe(t,e);return new Ge({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=Gr.SetComputeUnitLimit,r=Pe(t,e);return new Ge({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=Gr.SetComputeUnitPrice,r=Pe(t,{microLamports:BigInt(e.microLamports)});return new Ge({keys:[],programId:this.programId,data:r})}}wm.programId=new Z("ComputeBudget111111111111111111111111111111");const Mw=64,Bw=32,Lw=64,Pw=ge([Be("numSignatures"),Be("padding"),hr("signatureOffset"),hr("signatureInstructionIndex"),hr("publicKeyOffset"),hr("publicKeyInstructionIndex"),hr("messageDataOffset"),hr("messageDataSize"),hr("messageInstructionIndex")]);class sf{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:i,instructionIndex:o}=e;Fe(t.length===Bw,`Public Key must be ${Bw} bytes but received ${t.length} bytes`),Fe(i.length===Lw,`Signature must be ${Lw} bytes but received ${i.length} bytes`);const s=Pw.span,a=s+t.length,c=a+i.length,l=1,u=me.alloc(c+r.length),p=o??65535;return Pw.encode({numSignatures:l,padding:0,signatureOffset:a,signatureInstructionIndex:p,publicKeyOffset:s,publicKeyInstructionIndex:p,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:p},u),u.fill(t,s),u.fill(i,a),u.fill(r,c),new Ge({keys:[],programId:sf.programId,data:u})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:i}=e;Fe(t.length===Mw,`Private key must be ${Mw} bytes but received ${t.length} bytes`);try{const o=oa.fromSecretKey(t),s=o.publicKey.toBytes(),a=lm(r,o.secretKey);return this.createInstructionWithPublicKey({publicKey:s,message:r,signature:a,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}}sf.programId=new Z("Ed25519SigVerify111111111111111111111111111");const d3=(n,e)=>{const t=cm.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};cm.utils.isValidPrivateKey;const f3=cm.getPublicKey,Dw=32,Oh=20,Uw=64,h3=11,Mh=ge([Be("numSignatures"),hr("signatureOffset"),Be("signatureInstructionIndex"),hr("ethAddressOffset"),Be("ethAddressInstructionIndex"),hr("messageDataOffset"),hr("messageDataSize"),Be("messageInstructionIndex"),Ye(20,"ethAddress"),Ye(64,"signature"),Be("recoveryId")]);class sa{constructor(){}static publicKeyToEthAddress(e){Fe(e.length===Uw,`Public key must be ${Uw} bytes but received ${e.length} bytes`);try{return me.from(_w(Ce(e))).slice(-Oh)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:i,recoveryId:o,instructionIndex:s}=e;return sa.createInstructionWithEthAddress({ethAddress:sa.publicKeyToEthAddress(t),message:r,signature:i,recoveryId:o,instructionIndex:s})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:i,recoveryId:o,instructionIndex:s=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=me.from(t.substr(2),"hex"):a=me.from(t,"hex"):a=t,Fe(a.length===Oh,`Address must be ${Oh} bytes but received ${a.length} bytes`);const c=1+h3,l=c,u=c+a.length,p=u+i.length+1,g=1,h=me.alloc(Mh.span+r.length);return Mh.encode({numSignatures:g,signatureOffset:u,signatureInstructionIndex:s,ethAddressOffset:l,ethAddressInstructionIndex:s,messageDataOffset:p,messageDataSize:r.length,messageInstructionIndex:s,signature:Ce(i),ethAddress:Ce(a),recoveryId:o},h),h.fill(Ce(r),Mh.span),new Ge({keys:[],programId:sa.programId,data:h})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:i}=e;Fe(t.length===Dw,`Private key must be ${Dw} bytes but received ${t.length} bytes`);try{const o=Ce(t),s=f3(o,!1).slice(1),a=me.from(_w(Ce(r))),[c,l]=d3(a,o);return this.createInstructionWithPublicKey({publicKey:s,message:r,signature:c,recoveryId:l,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}}sa.programId=new Z("KeccakSecp256k11111111111111111111111111111");var Xb;const Qb=new Z("StakeConfig11111111111111111111111111111111");class Jb{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class fl{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}Xb=fl;fl.default=new Xb(0,0,Z.default);class p3{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=pe("instruction").decode(e.data);let i;for(const[o,s]of Object.entries(an))if(s.index==r){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=je(an.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Jb(new Z(t.staker),new Z(t.withdrawer)),lockup:new fl(r.unixTimestamp,r.epoch,new Z(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),je(an.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=je(an.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Z(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:i,authorityOwner:o}=je(an.AuthorizeWithSeed,e.data),s={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new Z(o),newAuthorizedPubkey:new Z(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=je(an.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),je(an.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=je(an.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),je(an.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(af.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const an=Object.freeze({Initialize:{index:0,layout:ge([pe("instruction"),vN(),_N()])},Authorize:{index:1,layout:ge([pe("instruction"),Ne("newAuthorized"),pe("stakeAuthorizationType")])},Delegate:{index:2,layout:ge([pe("instruction")])},Split:{index:3,layout:ge([pe("instruction"),tr("lamports")])},Withdraw:{index:4,layout:ge([pe("instruction"),tr("lamports")])},Deactivate:{index:5,layout:ge([pe("instruction")])},Merge:{index:7,layout:ge([pe("instruction")])},AuthorizeWithSeed:{index:8,layout:ge([pe("instruction"),Ne("newAuthorized"),pe("stakeAuthorizationType"),Vo("authoritySeed"),Ne("authorityOwner")])}}),g3=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class af{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:i}=e,o=i||fl.default,s=an.Initialize,a=Pe(s,{authorized:{staker:Ce(r.staker.toBuffer()),withdrawer:Ce(r.withdrawer.toBuffer())},lockup:{unixTimestamp:o.unixTimestamp,epoch:o.epoch,custodian:Ce(o.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:_a,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new Ge(c)}static createAccountWithSeed(e){const t=new Me;t.add(ut.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:o}=e;return t.add(this.initialize({stakePubkey:r,authorized:i,lockup:o}))}static createAccount(e){const t=new Me;t.add(ut.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:o}=e;return t.add(this.initialize({stakePubkey:r,authorized:i,lockup:o}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:i}=e,o=an.Delegate,s=Pe(o);return new Me().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:Hr,isSigner:!1,isWritable:!1},{pubkey:gu,isSigner:!1,isWritable:!1},{pubkey:Qb,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:i,stakeAuthorizationType:o,custodianPubkey:s}=e,a=an.Authorize,c=Pe(a,{newAuthorized:Ce(i.toBuffer()),stakeAuthorizationType:o.index}),l=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Hr,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&l.push({pubkey:s,isSigner:!0,isWritable:!1}),new Me().add({keys:l,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:i,authorityOwner:o,newAuthorizedPubkey:s,stakeAuthorizationType:a,custodianPubkey:c}=e,l=an.AuthorizeWithSeed,u=Pe(l,{newAuthorized:Ce(s.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:i,authorityOwner:Ce(o.toBuffer())}),p=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Hr,isSigner:!1,isWritable:!1}];return c&&p.push({pubkey:c,isSigner:!0,isWritable:!1}),new Me().add({keys:p,programId:this.programId,data:u})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:i,lamports:o}=e,s=an.Split,a=Pe(s,{lamports:o});return new Ge({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new Me;return r.add(ut.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:i,splitStakePubkey:o,basePubkey:s,seed:a,lamports:c}=e,l=new Me;return l.add(ut.allocate({accountPubkey:o,basePubkey:s,seed:a,space:this.space,programId:this.programId})),t&&t>0&&l.add(ut.transfer({fromPubkey:e.authorizedPubkey,toPubkey:o,lamports:t})),l.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:i,splitStakePubkey:o,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:i}=e,o=an.Merge,s=Pe(o);return new Me().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Hr,isSigner:!1,isWritable:!1},{pubkey:gu,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:i,lamports:o,custodianPubkey:s}=e,a=an.Withdraw,c=Pe(a,{lamports:o}),l=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:Hr,isSigner:!1,isWritable:!1},{pubkey:gu,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&l.push({pubkey:s,isSigner:!0,isWritable:!1}),new Me().add({keys:l,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,i=an.Deactivate,o=Pe(i);return new Me().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Hr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}}af.programId=new Z("Stake11111111111111111111111111111111111111");af.space=200;class eS{constructor(e,t,r,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=i}}class m3{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=pe("instruction").decode(e.data);let i;for(const[o,s]of Object.entries(qr))if(s.index==r){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=je(qr.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new eS(new Z(t.nodePubkey),new Z(t.authorizedVoter),new Z(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=je(qr.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Z(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:i,voteAuthorizationType:o}}=je(qr.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new Z(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new Z(i),voteAuthorizationType:{index:o},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=je(qr.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Pa.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const qr=Object.freeze({InitializeAccount:{index:0,layout:ge([pe("instruction"),EN()])},Authorize:{index:1,layout:ge([pe("instruction"),Ne("newAuthorized"),pe("voteAuthorizationType")])},Withdraw:{index:3,layout:ge([pe("instruction"),tr("lamports")])},UpdateValidatorIdentity:{index:4,layout:ge([pe("instruction")])},AuthorizeWithSeed:{index:10,layout:ge([pe("instruction"),bN()])}}),y3=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Pa{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:i}=e,o=qr.InitializeAccount,s=Pe(o,{voteInit:{nodePubkey:Ce(i.nodePubkey.toBuffer()),authorizedVoter:Ce(i.authorizedVoter.toBuffer()),authorizedWithdrawer:Ce(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:_a,isSigner:!1,isWritable:!1},{pubkey:Hr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s};return new Ge(a)}static createAccount(e){const t=new Me;return t.add(ut.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:i,voteAuthorizationType:o}=e,s=qr.Authorize,a=Pe(s,{newAuthorized:Ce(i.toBuffer()),voteAuthorizationType:o.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Hr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Me().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:o,voteAuthorizationType:s,votePubkey:a}=e,c=qr.AuthorizeWithSeed,l=Pe(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Ce(r.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:Ce(o.toBuffer()),voteAuthorizationType:s.index}}),u=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:Hr,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new Me().add({keys:u,programId:this.programId,data:l})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:i,toPubkey:o}=e,s=qr.Withdraw,a=Pe(s,{lamports:i}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Me().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return Pa.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:i}=e,o=qr.UpdateValidatorIdentity,s=Pe(o),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Me().add({keys:a,programId:this.programId,data:s})}}Pa.programId=new Z("Vote111111111111111111111111111111111111111");Pa.space=3762;const tS=new Z("Va1idator1nfo111111111111111111111111111111"),w3=ee({name:oe(),website:ve(oe()),details:ve(oe()),iconUrl:ve(oe()),keybaseUsername:ve(oe())});class vm{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(Dn(t)!==2)return null;const i=[];for(let o=0;o<2;o++){const s=new Z(Un(t,0,Xr)),a=$r(t)===1;i.push({publicKey:s,isSigner:a})}if(i[0].publicKey.equals(tS)&&i[1].isSigner){const o=Vo().decode(me.from(t)),s=JSON.parse(o);return fb(s,w3),new vm(i[1].publicKey,s)}return null}}const v3=new Z("Vote111111111111111111111111111111111111111"),_3=ge([Ne("nodePubkey"),Ne("authorizedWithdrawer"),Be("commission"),dn(),gn(ge([dn("slot"),pe("confirmationCount")]),mo(pe(),-8),"votes"),Be("rootSlotValid"),dn("rootSlot"),dn(),gn(ge([dn("epoch"),Ne("authorizedVoter")]),mo(pe(),-8),"authorizedVoters"),ge([gn(ge([Ne("authorizedPubkey"),dn("epochOfLastAuthorizedSwitch"),dn("targetEpoch")]),32,"buf"),dn("idx"),Be("isEmpty")],"priorVoters"),dn(),gn(ge([dn("epoch"),dn("credits"),dn("prevCredits")]),mo(pe(),-8),"epochCredits"),ge([dn("slot"),dn("timestamp")],"lastTimestamp")]);class _m{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=_3.decode(Ce(e),4);let i=r.rootSlot;return r.rootSlotValid||(i=null),new _m({nodePubkey:new Z(r.nodePubkey),authorizedWithdrawer:new Z(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:i,authorizedVoters:r.authorizedVoters.map(E3),priorVoters:b3(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function E3({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new Z(n)}}function zw({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new Z(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function b3({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(zw),...n.slice(0,e).map(zw)]}const Fw={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function nS(n,e){const t=e===!1?"http":"https";if(!n)return Fw[t].devnet;const r=Fw[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function S3(n,e,t,r){let i,o;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(i=t,o=r):o=t;const s=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},a=await n.sendRawTransaction(e,s),c=o&&o.commitment,u=(await(i?n.confirmTransaction(i,c):n.confirmTransaction(a,c))).value;if(u.err)throw a!=null?new bo({action:s!=null&&s.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(u)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(u)})`);return a}const R3=1e9,A3=Object.freeze(Object.defineProperty({__proto__:null,Account:mN,AddressLookupTableAccount:o0,AddressLookupTableInstruction:l3,AddressLookupTableProgram:ym,Authorized:Jb,BLOCKHASH_CACHE_TIMEOUT_MS:Fb,BPF_LOADER_DEPRECATED_PROGRAM_ID:yN,BPF_LOADER_PROGRAM_ID:LN,BpfLoader:PN,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:Gr,ComputeBudgetInstruction:u3,ComputeBudgetProgram:wm,Connection:Zb,Ed25519Program:sf,Enum:pN,EpochSchedule:Ub,FeeCalculatorLayout:Pb,Keypair:oa,LAMPORTS_PER_SOL:R3,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:mi,Loader:us,Lockup:fl,MAX_SEED_LENGTH:Ob,Message:Dr,MessageAccountKeys:qc,MessageV0:ls,NONCE_ACCOUNT_LENGTH:i0,NonceAccount:nf,PACKET_DATA_SIZE:yo,PUBLIC_KEY_LENGTH:Xr,PublicKey:Z,SIGNATURE_LENGTH_IN_BYTES:Gc,SOLANA_SCHEMA:wc,STAKE_CONFIG_ID:Qb,STAKE_INSTRUCTION_LAYOUTS:an,SYSTEM_INSTRUCTION_LAYOUTS:Je,SYSVAR_CLOCK_PUBKEY:Hr,SYSVAR_EPOCH_SCHEDULE_PUBKEY:IN,SYSVAR_INSTRUCTIONS_PUBKEY:xN,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:pu,SYSVAR_RENT_PUBKEY:_a,SYSVAR_REWARDS_PUBKEY:TN,SYSVAR_SLOT_HASHES_PUBKEY:CN,SYSVAR_SLOT_HISTORY_PUBKEY:NN,SYSVAR_STAKE_HISTORY_PUBKEY:gu,Secp256k1Program:sa,SendTransactionError:bo,SolanaJSONRPCError:we,SolanaJSONRPCErrorCode:ON,StakeAuthorizationLayout:g3,StakeInstruction:p3,StakeProgram:af,Struct:um,SystemInstruction:MN,SystemProgram:ut,Transaction:Me,TransactionExpiredBlockheightExceededError:dm,TransactionExpiredNonceInvalidError:qs,TransactionExpiredTimeoutError:fm,TransactionInstruction:Ge,TransactionMessage:hm,TransactionStatus:ci,VALIDATOR_INFO_KEY:tS,VERSION_PREFIX_MASK:Jd,VOTE_PROGRAM_ID:v3,ValidatorInfo:vm,VersionedMessage:tf,VersionedTransaction:va,VoteAccount:_m,VoteAuthorizationLayout:y3,VoteInit:eS,VoteInstruction:m3,VoteProgram:Pa,clusterApiUrl:nS,sendAndConfirmRawTransaction:S3,sendAndConfirmTransaction:r0},Symbol.toStringTag,{value:"Module"})),rS=Q.createContext({});function Em(){return Q.useContext(rS)}const k3=({children:n,endpoint:e,config:t={commitment:"confirmed"}})=>{const r=Q.useMemo(()=>new Zb(e,t),[e,t]);return re.createElement(rS.Provider,{value:{connection:r}},n)};var iS={exports:{}};(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function o(c,l,u,p,g){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,p||c,g),w=t?t+l:l;return c._events[w]?c._events[w].fn?c._events[w]=[c._events[w],h]:c._events[w].push(h):(c._events[w]=h,c._eventsCount++),c}function s(c,l){--c._eventsCount===0?c._events=new r:delete c._events[l]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],u,p;if(this._eventsCount===0)return l;for(p in u=this._events)e.call(u,p)&&l.push(t?p.slice(1):p);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},a.prototype.listeners=function(l){var u=t?t+l:l,p=this._events[u];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,h=p.length,w=new Array(h);g<h;g++)w[g]=p[g].fn;return w},a.prototype.listenerCount=function(l){var u=t?t+l:l,p=this._events[u];return p?p.fn?1:p.length:0},a.prototype.emit=function(l,u,p,g,h,w){var k=t?t+l:l;if(!this._events[k])return!1;var A=this._events[k],E=arguments.length,b,_;if(A.fn){switch(A.once&&this.removeListener(l,A.fn,void 0,!0),E){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,u),!0;case 3:return A.fn.call(A.context,u,p),!0;case 4:return A.fn.call(A.context,u,p,g),!0;case 5:return A.fn.call(A.context,u,p,g,h),!0;case 6:return A.fn.call(A.context,u,p,g,h,w),!0}for(_=1,b=new Array(E-1);_<E;_++)b[_-1]=arguments[_];A.fn.apply(A.context,b)}else{var x=A.length,L;for(_=0;_<x;_++)switch(A[_].once&&this.removeListener(l,A[_].fn,void 0,!0),E){case 1:A[_].fn.call(A[_].context);break;case 2:A[_].fn.call(A[_].context,u);break;case 3:A[_].fn.call(A[_].context,u,p);break;case 4:A[_].fn.call(A[_].context,u,p,g);break;default:if(!b)for(L=1,b=new Array(E-1);L<E;L++)b[L-1]=arguments[L];A[_].fn.apply(A[_].context,b)}}return!0},a.prototype.on=function(l,u,p){return o(this,l,u,p,!1)},a.prototype.once=function(l,u,p){return o(this,l,u,p,!0)},a.prototype.removeListener=function(l,u,p,g){var h=t?t+l:l;if(!this._events[h])return this;if(!u)return s(this,h),this;var w=this._events[h];if(w.fn)w.fn===u&&(!g||w.once)&&(!p||w.context===p)&&s(this,h);else{for(var k=0,A=[],E=w.length;k<E;k++)(w[k].fn!==u||g&&!w[k].once||p&&w[k].context!==p)&&A.push(w[k]);A.length?this._events[h]=A.length===1?A[0]:A:s(this,h)}return this},a.prototype.removeAllListeners=function(l){var u;return l?(u=t?t+l:l,this._events[u]&&s(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,n.exports=a})(iS);var I3=iS.exports;const x3=Oi(I3);class Tn extends Error{constructor(e,t){super(e),this.error=t}}class ba extends Tn{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class nc extends Tn{constructor(){super(...arguments),this.name="WalletConfigError"}}class Zc extends Tn{constructor(){super(...arguments),this.name="WalletConnectionError"}}class oS extends Tn{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class sS extends Tn{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class $o extends Tn{constructor(){super(...arguments),this.name="WalletAccountError"}}class gd extends Tn{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class Vn extends Tn{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class io extends Tn{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class bi extends Tn{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class bm extends Tn{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class Ww extends Tn{constructor(){super(...arguments),this.name="WalletSignInError"}}var He;(function(n){n.Installed="Installed",n.NotDetected="NotDetected",n.Loadable="Loadable",n.Unsupported="Unsupported"})(He||(He={}));class aS extends x3{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(e,t,r={}){const i=this.publicKey;if(!i)throw new Vn;return e.feePayer=e.feePayer||i,e.recentBlockhash=e.recentBlockhash||(await t.getLatestBlockhash({commitment:r.preflightCommitment,minContextSlot:r.minContextSlot})).blockhash,e}}function T3(n){if(typeof window>"u"||typeof document>"u")return;const e=[];function t(){if(n())for(const o of e)o()}const r=setInterval(t,1e3);e.push(()=>clearInterval(r)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",t,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",t))),document.readyState!=="complete"&&(window.addEventListener("load",t,{once:!0}),e.push(()=>window.removeEventListener("load",t))),t()}function C3(){if(!navigator)return!1;const n=navigator.userAgent.toLowerCase(),e=n.includes("iphone")||n.includes("ipad"),t=n.includes("safari");return e&&t}function oo(n){return"version"in n}class N3 extends aS{async sendTransaction(e,t,r={}){let i=!0;try{if(oo(e)){if(!this.supportedTransactionVersions)throw new io("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new io(`Sending transaction version ${e.version} isn't supported by this wallet`);try{e=await this.signTransaction(e);const o=e.serialize();return await t.sendRawTransaction(o,r)}catch(o){throw o instanceof bi?(i=!1,o):new io(o==null?void 0:o.message,o)}}else try{const{signers:o,...s}=r;e=await this.prepareTransaction(e,t,s),o!=null&&o.length&&e.partialSign(...o),e=await this.signTransaction(e);const a=e.serialize();return await t.sendRawTransaction(a,s)}catch(o){throw o instanceof bi?(i=!1,o):new io(o==null?void 0:o.message,o)}}catch(o){throw i&&this.emit("error",o),o}}async signAllTransactions(e){for(const r of e)if(oo(r)){if(!this.supportedTransactionVersions)throw new bi("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(r.version))throw new bi(`Signing transaction version ${r.version} isn't supported by this wallet`)}const t=[];for(const r of e)t.push(await this.signTransaction(r));return t}}class cS extends N3{}class O3 extends cS{}const Wn="solana:signAndSendTransaction",ns="solana:signIn",Qi="solana:signMessage",pt="solana:signTransaction",Sm="standard:connect",l0="standard:disconnect",Rm="standard:events";function M3(n){return Sm in n.features&&Rm in n.features&&(Wn in n.features||pt in n.features)}var u0;(function(n){n.Mainnet="mainnet-beta",n.Testnet="testnet",n.Devnet="devnet"})(u0||(u0={}));class Hw extends Tn{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const B3=[],cf={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){kr("call","select")},connect(){return Promise.reject(kr("call","connect"))},disconnect(){return Promise.reject(kr("call","disconnect"))},sendTransaction(){return Promise.reject(kr("call","sendTransaction"))},signTransaction(){return Promise.reject(kr("call","signTransaction"))},signAllTransactions(){return Promise.reject(kr("call","signAllTransactions"))},signMessage(){return Promise.reject(kr("call","signMessage"))},signIn(){return Promise.reject(kr("call","signIn"))}};Object.defineProperty(cf,"wallets",{get(){return kr("read","wallets"),B3}});Object.defineProperty(cf,"wallet",{get(){return kr("read","wallet"),null}});Object.defineProperty(cf,"publicKey",{get(){return kr("read","publicKey"),null}});function kr(n,e){const t=new Error(`You have tried to ${n} "${e}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(t),t}const lS=Q.createContext(cf);function Bi(){return Q.useContext(lS)}function L3(n,e){const t=Q.useState(()=>{try{const o=localStorage.getItem(n);if(o)return JSON.parse(o)}catch(o){typeof window<"u"&&console.error(o)}return e}),r=t[0],i=Q.useRef(!0);return Q.useEffect(()=>{if(i.current){i.current=!1;return}try{r===null?localStorage.removeItem(n):localStorage.setItem(n,JSON.stringify(r))}catch(o){typeof window<"u"&&console.error(o)}},[r,n]),t}var P3=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},uS={},ur={};let Am;const D3=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ur.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};ur.getSymbolTotalCodewords=function(e){return D3[e]};ur.getBCHDigit=function(n){let e=0;for(;n!==0;)e++,n>>>=1;return e};ur.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Am=e};ur.isKanjiModeEnabled=function(){return typeof Am<"u"};ur.toSJIS=function(e){return Am(e)};var lf={};(function(n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+t)}}n.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},n.from=function(r,i){if(n.isValid(r))return r;try{return e(r)}catch{return i}}})(lf);function dS(){this.buffer=[],this.length=0}dS.prototype={get:function(n){const e=Math.floor(n/8);return(this.buffer[e]>>>7-n%8&1)===1},put:function(n,e){for(let t=0;t<e;t++)this.putBit((n>>>e-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(n){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),n&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var U3=dS;function hl(n){if(!n||n<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=n,this.data=new Uint8Array(n*n),this.reservedBit=new Uint8Array(n*n)}hl.prototype.set=function(n,e,t,r){const i=n*this.size+e;this.data[i]=t,r&&(this.reservedBit[i]=!0)};hl.prototype.get=function(n,e){return this.data[n*this.size+e]};hl.prototype.xor=function(n,e,t){this.data[n*this.size+e]^=t};hl.prototype.isReserved=function(n,e){return this.reservedBit[n*this.size+e]};var z3=hl,fS={};(function(n){const e=ur.getSymbolSize;n.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,o=e(r),s=o===145?26:Math.ceil((o-13)/(2*i-2))*2,a=[o-7];for(let c=1;c<i-1;c++)a[c]=a[c-1]-s;return a.push(6),a.reverse()},n.getPositions=function(r){const i=[],o=n.getRowColCoords(r),s=o.length;for(let a=0;a<s;a++)for(let c=0;c<s;c++)a===0&&c===0||a===0&&c===s-1||a===s-1&&c===0||i.push([o[a],o[c]]);return i}})(fS);var hS={};const F3=ur.getSymbolSize,jw=7;hS.getPositions=function(e){const t=F3(e);return[[0,0],[t-jw,0],[0,t-jw]]};var pS={};(function(n){n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};n.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},n.from=function(i){return n.isValid(i)?parseInt(i,10):void 0},n.getPenaltyN1=function(i){const o=i.size;let s=0,a=0,c=0,l=null,u=null;for(let p=0;p<o;p++){a=c=0,l=u=null;for(let g=0;g<o;g++){let h=i.get(p,g);h===l?a++:(a>=5&&(s+=e.N1+(a-5)),l=h,a=1),h=i.get(g,p),h===u?c++:(c>=5&&(s+=e.N1+(c-5)),u=h,c=1)}a>=5&&(s+=e.N1+(a-5)),c>=5&&(s+=e.N1+(c-5))}return s},n.getPenaltyN2=function(i){const o=i.size;let s=0;for(let a=0;a<o-1;a++)for(let c=0;c<o-1;c++){const l=i.get(a,c)+i.get(a,c+1)+i.get(a+1,c)+i.get(a+1,c+1);(l===4||l===0)&&s++}return s*e.N2},n.getPenaltyN3=function(i){const o=i.size;let s=0,a=0,c=0;for(let l=0;l<o;l++){a=c=0;for(let u=0;u<o;u++)a=a<<1&2047|i.get(l,u),u>=10&&(a===1488||a===93)&&s++,c=c<<1&2047|i.get(u,l),u>=10&&(c===1488||c===93)&&s++}return s*e.N3},n.getPenaltyN4=function(i){let o=0;const s=i.data.length;for(let c=0;c<s;c++)o+=i.data[c];return Math.abs(Math.ceil(o*100/s/5)-10)*e.N4};function t(r,i,o){switch(r){case n.Patterns.PATTERN000:return(i+o)%2===0;case n.Patterns.PATTERN001:return i%2===0;case n.Patterns.PATTERN010:return o%3===0;case n.Patterns.PATTERN011:return(i+o)%3===0;case n.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(o/3))%2===0;case n.Patterns.PATTERN101:return i*o%2+i*o%3===0;case n.Patterns.PATTERN110:return(i*o%2+i*o%3)%2===0;case n.Patterns.PATTERN111:return(i*o%3+(i+o)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}n.applyMask=function(i,o){const s=o.size;for(let a=0;a<s;a++)for(let c=0;c<s;c++)o.isReserved(c,a)||o.xor(c,a,t(i,c,a))},n.getBestMask=function(i,o){const s=Object.keys(n.Patterns).length;let a=0,c=1/0;for(let l=0;l<s;l++){o(l),n.applyMask(l,i);const u=n.getPenaltyN1(i)+n.getPenaltyN2(i)+n.getPenaltyN3(i)+n.getPenaltyN4(i);n.applyMask(l,i),u<c&&(c=u,a=l)}return a}})(pS);var uf={};const so=lf,Gl=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],ql=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];uf.getBlocksCount=function(e,t){switch(t){case so.L:return Gl[(e-1)*4+0];case so.M:return Gl[(e-1)*4+1];case so.Q:return Gl[(e-1)*4+2];case so.H:return Gl[(e-1)*4+3];default:return}};uf.getTotalCodewordsCount=function(e,t){switch(t){case so.L:return ql[(e-1)*4+0];case so.M:return ql[(e-1)*4+1];case so.Q:return ql[(e-1)*4+2];case so.H:return ql[(e-1)*4+3];default:return}};var gS={},df={};const vc=new Uint8Array(512),md=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)vc[t]=e,md[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)vc[t]=vc[t-255]})();df.log=function(e){if(e<1)throw new Error("log("+e+")");return md[e]};df.exp=function(e){return vc[e]};df.mul=function(e,t){return e===0||t===0?0:vc[md[e]+md[t]]};(function(n){const e=df;n.mul=function(r,i){const o=new Uint8Array(r.length+i.length-1);for(let s=0;s<r.length;s++)for(let a=0;a<i.length;a++)o[s+a]^=e.mul(r[s],i[a]);return o},n.mod=function(r,i){let o=new Uint8Array(r);for(;o.length-i.length>=0;){const s=o[0];for(let c=0;c<i.length;c++)o[c]^=e.mul(i[c],s);let a=0;for(;a<o.length&&o[a]===0;)a++;o=o.slice(a)}return o},n.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let o=0;o<r;o++)i=n.mul(i,new Uint8Array([1,e.exp(o)]));return i}})(gS);const mS=gS;function km(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}km.prototype.initialize=function(e){this.degree=e,this.genPoly=mS.generateECPolynomial(this.degree)};km.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(e.length+this.degree);t.set(e);const r=mS.mod(t,this.genPoly),i=this.degree-r.length;if(i>0){const o=new Uint8Array(this.degree);return o.set(r,i),o}return r};var W3=km,yS={},Io={},Im={};Im.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var ni={};const wS="[0-9]+",H3="[A-Z $%*+\\-./:]+";let Xc="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Xc=Xc.replace(/u/g,"\\u");const j3="(?:(?![A-Z0-9 $%*+\\-./:]|"+Xc+`)(?:.|[\r
]))+`;ni.KANJI=new RegExp(Xc,"g");ni.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");ni.BYTE=new RegExp(j3,"g");ni.NUMERIC=new RegExp(wS,"g");ni.ALPHANUMERIC=new RegExp(H3,"g");const K3=new RegExp("^"+Xc+"$"),V3=new RegExp("^"+wS+"$"),$3=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");ni.testKanji=function(e){return K3.test(e)};ni.testNumeric=function(e){return V3.test(e)};ni.testAlphanumeric=function(e){return $3.test(e)};(function(n){const e=Im,t=ni;n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(o,s){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!e.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?o.ccBits[0]:s<27?o.ccBits[1]:o.ccBits[2]},n.getBestModeForData=function(o){return t.testNumeric(o)?n.NUMERIC:t.testAlphanumeric(o)?n.ALPHANUMERIC:t.testKanji(o)?n.KANJI:n.BYTE},n.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},n.isValid=function(o){return o&&o.bit&&o.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+i)}}n.from=function(o,s){if(n.isValid(o))return o;try{return r(o)}catch{return s}}})(Io);(function(n){const e=ur,t=uf,r=lf,i=Io,o=Im,s=7973,a=e.getBCHDigit(s);function c(g,h,w){for(let k=1;k<=40;k++)if(h<=n.getCapacity(k,w,g))return k}function l(g,h){return i.getCharCountIndicator(g,h)+4}function u(g,h){let w=0;return g.forEach(function(k){const A=l(k.mode,h);w+=A+k.getBitsLength()}),w}function p(g,h){for(let w=1;w<=40;w++)if(u(g,w)<=n.getCapacity(w,h,i.MIXED))return w}n.from=function(h,w){return o.isValid(h)?parseInt(h,10):w},n.getCapacity=function(h,w,k){if(!o.isValid(h))throw new Error("Invalid QR Code version");typeof k>"u"&&(k=i.BYTE);const A=e.getSymbolTotalCodewords(h),E=t.getTotalCodewordsCount(h,w),b=(A-E)*8;if(k===i.MIXED)return b;const _=b-l(k,h);switch(k){case i.NUMERIC:return Math.floor(_/10*3);case i.ALPHANUMERIC:return Math.floor(_/11*2);case i.KANJI:return Math.floor(_/13);case i.BYTE:default:return Math.floor(_/8)}},n.getBestVersionForData=function(h,w){let k;const A=r.from(w,r.M);if(Array.isArray(h)){if(h.length>1)return p(h,A);if(h.length===0)return 1;k=h[0]}else k=h;return c(k.mode,k.getLength(),A)},n.getEncodedBits=function(h){if(!o.isValid(h)||h<7)throw new Error("Invalid QR Code version");let w=h<<12;for(;e.getBCHDigit(w)-a>=0;)w^=s<<e.getBCHDigit(w)-a;return h<<12|w}})(yS);var vS={};const d0=ur,_S=1335,G3=21522,Kw=d0.getBCHDigit(_S);vS.getEncodedBits=function(e,t){const r=e.bit<<3|t;let i=r<<10;for(;d0.getBCHDigit(i)-Kw>=0;)i^=_S<<d0.getBCHDigit(i)-Kw;return(r<<10|i)^G3};var ES={};const q3=Io;function Sa(n){this.mode=q3.NUMERIC,this.data=n.toString()}Sa.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Sa.prototype.getLength=function(){return this.data.length};Sa.prototype.getBitsLength=function(){return Sa.getBitsLength(this.data.length)};Sa.prototype.write=function(e){let t,r,i;for(t=0;t+3<=this.data.length;t+=3)r=this.data.substr(t,3),i=parseInt(r,10),e.put(i,10);const o=this.data.length-t;o>0&&(r=this.data.substr(t),i=parseInt(r,10),e.put(i,o*3+1))};var Y3=Sa;const Z3=Io,Bh=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Ra(n){this.mode=Z3.ALPHANUMERIC,this.data=n}Ra.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Ra.prototype.getLength=function(){return this.data.length};Ra.prototype.getBitsLength=function(){return Ra.getBitsLength(this.data.length)};Ra.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let r=Bh.indexOf(this.data[t])*45;r+=Bh.indexOf(this.data[t+1]),e.put(r,11)}this.data.length%2&&e.put(Bh.indexOf(this.data[t]),6)};var X3=Ra;const Q3=Io;function Aa(n){this.mode=Q3.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}Aa.getBitsLength=function(e){return e*8};Aa.prototype.getLength=function(){return this.data.length};Aa.prototype.getBitsLength=function(){return Aa.getBitsLength(this.data.length)};Aa.prototype.write=function(n){for(let e=0,t=this.data.length;e<t;e++)n.put(this.data[e],8)};var J3=Aa;const eM=Io,tM=ur;function ka(n){this.mode=eM.KANJI,this.data=n}ka.getBitsLength=function(e){return e*13};ka.prototype.getLength=function(){return this.data.length};ka.prototype.getBitsLength=function(){return ka.getBitsLength(this.data.length)};ka.prototype.write=function(n){let e;for(e=0;e<this.data.length;e++){let t=tM.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),n.put(t,13)}};var nM=ka,bS={exports:{}};(function(n){var e={single_source_shortest_paths:function(t,r,i){var o={},s={};s[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var c,l,u,p,g,h,w,k,A;!a.empty();){c=a.pop(),l=c.value,p=c.cost,g=t[l]||{};for(u in g)g.hasOwnProperty(u)&&(h=g[u],w=p+h,k=s[u],A=typeof s[u]>"u",(A||k>w)&&(s[u]=w,a.push(u,w),o[u]=l))}if(typeof i<"u"&&typeof s[i]>"u"){var E=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(E)}return o},extract_shortest_path_from_predecessor_list:function(t,r){for(var i=[],o=r;o;)i.push(o),t[o],o=t[o];return i.reverse(),i},find_path:function(t,r,i){var o=e.single_source_shortest_paths(t,r,i);return e.extract_shortest_path_from_predecessor_list(o,i)},PriorityQueue:{make:function(t){var r=e.PriorityQueue,i={},o;t=t||{};for(o in r)r.hasOwnProperty(o)&&(i[o]=r[o]);return i.queue=[],i.sorter=t.sorter||r.default_sorter,i},default_sorter:function(t,r){return t.cost-r.cost},push:function(t,r){var i={value:t,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};n.exports=e})(bS);var rM=bS.exports;(function(n){const e=Io,t=Y3,r=X3,i=J3,o=nM,s=ni,a=ur,c=rM;function l(E){return unescape(encodeURIComponent(E)).length}function u(E,b,_){const x=[];let L;for(;(L=E.exec(_))!==null;)x.push({data:L[0],index:L.index,mode:b,length:L[0].length});return x}function p(E){const b=u(s.NUMERIC,e.NUMERIC,E),_=u(s.ALPHANUMERIC,e.ALPHANUMERIC,E);let x,L;return a.isKanjiModeEnabled()?(x=u(s.BYTE,e.BYTE,E),L=u(s.KANJI,e.KANJI,E)):(x=u(s.BYTE_KANJI,e.BYTE,E),L=[]),b.concat(_,x,L).sort(function(D,W){return D.index-W.index}).map(function(D){return{data:D.data,mode:D.mode,length:D.length}})}function g(E,b){switch(b){case e.NUMERIC:return t.getBitsLength(E);case e.ALPHANUMERIC:return r.getBitsLength(E);case e.KANJI:return o.getBitsLength(E);case e.BYTE:return i.getBitsLength(E)}}function h(E){return E.reduce(function(b,_){const x=b.length-1>=0?b[b.length-1]:null;return x&&x.mode===_.mode?(b[b.length-1].data+=_.data,b):(b.push(_),b)},[])}function w(E){const b=[];for(let _=0;_<E.length;_++){const x=E[_];switch(x.mode){case e.NUMERIC:b.push([x,{data:x.data,mode:e.ALPHANUMERIC,length:x.length},{data:x.data,mode:e.BYTE,length:x.length}]);break;case e.ALPHANUMERIC:b.push([x,{data:x.data,mode:e.BYTE,length:x.length}]);break;case e.KANJI:b.push([x,{data:x.data,mode:e.BYTE,length:l(x.data)}]);break;case e.BYTE:b.push([{data:x.data,mode:e.BYTE,length:l(x.data)}])}}return b}function k(E,b){const _={},x={start:{}};let L=["start"];for(let U=0;U<E.length;U++){const D=E[U],W=[];for(let z=0;z<D.length;z++){const H=D[z],q=""+U+z;W.push(q),_[q]={node:H,lastCount:0},x[q]={};for(let $=0;$<L.length;$++){const R=L[$];_[R]&&_[R].node.mode===H.mode?(x[R][q]=g(_[R].lastCount+H.length,H.mode)-g(_[R].lastCount,H.mode),_[R].lastCount+=H.length):(_[R]&&(_[R].lastCount=H.length),x[R][q]=g(H.length,H.mode)+4+e.getCharCountIndicator(H.mode,b))}}L=W}for(let U=0;U<L.length;U++)x[L[U]].end=0;return{map:x,table:_}}function A(E,b){let _;const x=e.getBestModeForData(E);if(_=e.from(b,x),_!==e.BYTE&&_.bit<x.bit)throw new Error('"'+E+'" cannot be encoded with mode '+e.toString(_)+`.
 Suggested mode is: `+e.toString(x));switch(_===e.KANJI&&!a.isKanjiModeEnabled()&&(_=e.BYTE),_){case e.NUMERIC:return new t(E);case e.ALPHANUMERIC:return new r(E);case e.KANJI:return new o(E);case e.BYTE:return new i(E)}}n.fromArray=function(b){return b.reduce(function(_,x){return typeof x=="string"?_.push(A(x,null)):x.data&&_.push(A(x.data,x.mode)),_},[])},n.fromString=function(b,_){const x=p(b,a.isKanjiModeEnabled()),L=w(x),U=k(L,_),D=c.find_path(U.map,"start","end"),W=[];for(let z=1;z<D.length-1;z++)W.push(U.table[D[z]].node);return n.fromArray(h(W))},n.rawSplit=function(b){return n.fromArray(p(b,a.isKanjiModeEnabled()))}})(ES);const ff=ur,Lh=lf,iM=U3,oM=z3,sM=fS,aM=hS,f0=pS,h0=uf,cM=W3,yd=yS,lM=vS,uM=Io,Ph=ES;function dM(n,e){const t=n.size,r=aM.getPositions(e);for(let i=0;i<r.length;i++){const o=r[i][0],s=r[i][1];for(let a=-1;a<=7;a++)if(!(o+a<=-1||t<=o+a))for(let c=-1;c<=7;c++)s+c<=-1||t<=s+c||(a>=0&&a<=6&&(c===0||c===6)||c>=0&&c<=6&&(a===0||a===6)||a>=2&&a<=4&&c>=2&&c<=4?n.set(o+a,s+c,!0,!0):n.set(o+a,s+c,!1,!0))}}function fM(n){const e=n.size;for(let t=8;t<e-8;t++){const r=t%2===0;n.set(t,6,r,!0),n.set(6,t,r,!0)}}function hM(n,e){const t=sM.getPositions(e);for(let r=0;r<t.length;r++){const i=t[r][0],o=t[r][1];for(let s=-2;s<=2;s++)for(let a=-2;a<=2;a++)s===-2||s===2||a===-2||a===2||s===0&&a===0?n.set(i+s,o+a,!0,!0):n.set(i+s,o+a,!1,!0)}}function pM(n,e){const t=n.size,r=yd.getEncodedBits(e);let i,o,s;for(let a=0;a<18;a++)i=Math.floor(a/3),o=a%3+t-8-3,s=(r>>a&1)===1,n.set(i,o,s,!0),n.set(o,i,s,!0)}function Dh(n,e,t){const r=n.size,i=lM.getEncodedBits(e,t);let o,s;for(o=0;o<15;o++)s=(i>>o&1)===1,o<6?n.set(o,8,s,!0):o<8?n.set(o+1,8,s,!0):n.set(r-15+o,8,s,!0),o<8?n.set(8,r-o-1,s,!0):o<9?n.set(8,15-o-1+1,s,!0):n.set(8,15-o-1,s,!0);n.set(r-8,8,1,!0)}function gM(n,e){const t=n.size;let r=-1,i=t-1,o=7,s=0;for(let a=t-1;a>0;a-=2)for(a===6&&a--;;){for(let c=0;c<2;c++)if(!n.isReserved(i,a-c)){let l=!1;s<e.length&&(l=(e[s]>>>o&1)===1),n.set(i,a-c,l),o--,o===-1&&(s++,o=7)}if(i+=r,i<0||t<=i){i-=r,r=-r;break}}}function mM(n,e,t){const r=new iM;t.forEach(function(c){r.put(c.mode.bit,4),r.put(c.getLength(),uM.getCharCountIndicator(c.mode,n)),c.write(r)});const i=ff.getSymbolTotalCodewords(n),o=h0.getTotalCodewordsCount(n,e),s=(i-o)*8;for(r.getLengthInBits()+4<=s&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(s-r.getLengthInBits())/8;for(let c=0;c<a;c++)r.put(c%2?17:236,8);return yM(r,n,e)}function yM(n,e,t){const r=ff.getSymbolTotalCodewords(e),i=h0.getTotalCodewordsCount(e,t),o=r-i,s=h0.getBlocksCount(e,t),a=r%s,c=s-a,l=Math.floor(r/s),u=Math.floor(o/s),p=u+1,g=l-u,h=new cM(g);let w=0;const k=new Array(s),A=new Array(s);let E=0;const b=new Uint8Array(n.buffer);for(let D=0;D<s;D++){const W=D<c?u:p;k[D]=b.slice(w,w+W),A[D]=h.encode(k[D]),w+=W,E=Math.max(E,W)}const _=new Uint8Array(r);let x=0,L,U;for(L=0;L<E;L++)for(U=0;U<s;U++)L<k[U].length&&(_[x++]=k[U][L]);for(L=0;L<g;L++)for(U=0;U<s;U++)_[x++]=A[U][L];return _}function wM(n,e,t,r){let i;if(Array.isArray(n))i=Ph.fromArray(n);else if(typeof n=="string"){let l=e;if(!l){const u=Ph.rawSplit(n);l=yd.getBestVersionForData(u,t)}i=Ph.fromString(n,l||40)}else throw new Error("Invalid data");const o=yd.getBestVersionForData(i,t);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=o;else if(e<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);const s=mM(e,t,i),a=ff.getSymbolSize(e),c=new oM(a);return dM(c,e),fM(c),hM(c,e),Dh(c,t,0),e>=7&&pM(c,e),gM(c,s),isNaN(r)&&(r=f0.getBestMask(c,Dh.bind(null,c,t))),f0.applyMask(r,c),Dh(c,t,r),{modules:c,version:e,errorCorrectionLevel:t,maskPattern:r,segments:i}}uS.create=function(e,t){if(typeof e>"u"||e==="")throw new Error("No input text");let r=Lh.M,i,o;return typeof t<"u"&&(r=Lh.from(t.errorCorrectionLevel,Lh.M),i=yd.from(t.version),o=f0.from(t.maskPattern),t.toSJISFunc&&ff.setToSJISFunction(t.toSJISFunc)),wM(e,i,r,o)};var SS={},xm={};(function(n){function e(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let r=t.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+t);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(o){return[o,o]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}n.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,o=r.width&&r.width>=21?r.width:void 0,s=r.scale||4;return{width:o,scale:o?4:s,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},n.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},n.getImageWidth=function(r,i){const o=n.getScale(r,i);return Math.floor((r+i.margin*2)*o)},n.qrToImageData=function(r,i,o){const s=i.modules.size,a=i.modules.data,c=n.getScale(s,o),l=Math.floor((s+o.margin*2)*c),u=o.margin*c,p=[o.color.light,o.color.dark];for(let g=0;g<l;g++)for(let h=0;h<l;h++){let w=(g*l+h)*4,k=o.color.light;if(g>=u&&h>=u&&g<l-u&&h<l-u){const A=Math.floor((g-u)/c),E=Math.floor((h-u)/c);k=p[a[A*s+E]?1:0]}r[w++]=k.r,r[w++]=k.g,r[w++]=k.b,r[w]=k.a}}})(xm);(function(n){const e=xm;function t(i,o,s){i.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=s,o.width=s,o.style.height=s+"px",o.style.width=s+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}n.render=function(o,s,a){let c=a,l=s;typeof c>"u"&&(!s||!s.getContext)&&(c=s,s=void 0),s||(l=r()),c=e.getOptions(c);const u=e.getImageWidth(o.modules.size,c),p=l.getContext("2d"),g=p.createImageData(u,u);return e.qrToImageData(g.data,o,c),t(p,l,u),p.putImageData(g,0,0),l},n.renderToDataURL=function(o,s,a){let c=a;typeof c>"u"&&(!s||!s.getContext)&&(c=s,s=void 0),c||(c={});const l=n.render(o,s,c),u=c.type||"image/png",p=c.rendererOpts||{};return l.toDataURL(u,p.quality)}})(SS);var RS={};const vM=xm;function Vw(n,e){const t=n.a/255,r=e+'="'+n.hex+'"';return t<1?r+" "+e+'-opacity="'+t.toFixed(2).slice(1)+'"':r}function Uh(n,e,t){let r=n+e;return typeof t<"u"&&(r+=" "+t),r}function _M(n,e,t){let r="",i=0,o=!1,s=0;for(let a=0;a<n.length;a++){const c=Math.floor(a%e),l=Math.floor(a/e);!c&&!o&&(o=!0),n[a]?(s++,a>0&&c>0&&n[a-1]||(r+=o?Uh("M",c+t,.5+l+t):Uh("m",i,0),i=0,o=!1),c+1<e&&n[a+1]||(r+=Uh("h",s),s=0)):i++}return r}RS.render=function(e,t,r){const i=vM.getOptions(t),o=e.modules.size,s=e.modules.data,a=o+i.margin*2,c=i.color.light.a?"<path "+Vw(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",l="<path "+Vw(i.color.dark,"stroke")+' d="'+_M(s,o,i.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',g='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+c+l+`</svg>
`;return typeof r=="function"&&r(null,g),g};const EM=P3,p0=uS,AS=SS,bM=RS;function Tm(n,e,t,r,i){const o=[].slice.call(arguments,1),s=o.length,a=typeof o[s-1]=="function";if(!a&&!EM())throw new Error("Callback required as last argument");if(a){if(s<2)throw new Error("Too few arguments provided");s===2?(i=t,t=e,e=r=void 0):s===3&&(e.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=t,t=e,e=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(t=e,e=r=void 0):s===2&&!e.getContext&&(r=t,t=e,e=void 0),new Promise(function(c,l){try{const u=p0.create(t,r);c(n(u,e,r))}catch(u){l(u)}})}try{const c=p0.create(t,r);i(null,n(c,e,r))}catch(c){i(c)}}p0.create;Tm.bind(null,AS.render);Tm.bind(null,AS.renderToDataURL);Tm.bind(null,function(n,e,t){return bM.render(n,t)});function zh(n){switch(n){case"processed":case"confirmed":case"finalized":case void 0:return n;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const wd="solana:mainnet",SM="solana:devnet",RM="solana:testnet",AM="solana:localnet",kM="https://api.mainnet-beta.solana.com";function IM(n){return n.includes(kM)?wd:/\bdevnet\b/i.test(n)?SM:/\btestnet\b/i.test(n)?RM:/\blocalhost\b/i.test(n)||/\b127\.0\.0\.1\b/.test(n)?AM:wd}function xM(n){let e=`${n.domain} wants you to sign in with your Solana account:
`;e+=`${n.address}`,n.statement&&(e+=`

${n.statement}`);const t=[];if(n.uri&&t.push(`URI: ${n.uri}`),n.version&&t.push(`Version: ${n.version}`),n.chainId&&t.push(`Chain ID: ${n.chainId}`),n.nonce&&t.push(`Nonce: ${n.nonce}`),n.issuedAt&&t.push(`Issued At: ${n.issuedAt}`),n.expirationTime&&t.push(`Expiration Time: ${n.expirationTime}`),n.notBefore&&t.push(`Not Before: ${n.notBefore}`),n.requestId&&t.push(`Request ID: ${n.requestId}`),n.resources){t.push("Resources:");for(const r of n.resources)t.push(`- ${r}`)}return t.length&&(e+=`

${t.join(`
`)}`),e}function TM(n){return Object.freeze({...n,decode:(e,t=0)=>n.read(e,t)[0]})}var CM=n=>TM({read(e,t){const r=t===0?e:e.slice(t);if(r.length===0)return["",0];let i=r.findIndex(c=>c!==0);i=i===-1?r.length:i;const o=n[0].repeat(i);if(i===r.length)return[o,e.length];const s=r.slice(i).reduce((c,l)=>c*256n+BigInt(l),0n),a=NM(s,n);return[o+a,e.length]}});function NM(n,e){const t=BigInt(e.length),r=[];for(;n>0n;)r.unshift(e[Number(n%t)]),n/=t;return r.join("")}var OM="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",MM=()=>CM(OM);const Ti={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION"};class Ci extends Error{constructor(...e){const[t,r,i]=e;super(r),this.code=t,this.data=i,this.name="SolanaMobileWalletAdapterError"}}class kS extends Error{constructor(...e){const[t,r,i,o]=e;super(i),this.code=r,this.data=o,this.jsonRpcMessageId=t,this.name="SolanaMobileWalletAdapterProtocolError"}}function Xt(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(p){s(p)}}function c(u){try{l(r.throw(u))}catch(p){s(p)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(n,[])).next())})}function BM(n){return window.btoa(n)}function $w(n,e){return window.btoa(String.fromCharCode.call(null,...n))}function IS(n){return new Uint8Array(window.atob(n).split("").map(e=>e.charCodeAt(0)))}function Fh(n,e){return Xt(this,void 0,void 0,function*(){const t=yield crypto.subtle.exportKey("raw",n),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,t),i=new Uint8Array(t.byteLength+r.byteLength);return i.set(new Uint8Array(t),0),i.set(new Uint8Array(r),t.byteLength),i})}function LM(n){return xM(n)}function PM(n){return BM(LM(n)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}const DM="solana:signTransactions",Gw="solana:cloneAuthorization";function UM(n){return MM().decode(n)}function zM(n){return UM(IS(n))}function FM(n,e){return new Proxy({},{get(t,r){return r==="then"?null:(t[r]==null&&(t[r]=function(i){return Xt(this,void 0,void 0,function*(){const{method:o,params:s}=WM(r,i,n),a=yield e(o,s);return o==="authorize"&&s.sign_in_payload&&!a.sign_in_result&&(a.sign_in_result=yield jM(s.sign_in_payload,a,e)),HM(r,a,n)})}),t[r])},defineProperty(){return!1},deleteProperty(){return!1}})}function WM(n,e,t){let r=e,i=n.toString().replace(/[A-Z]/g,o=>`_${o.toLowerCase()}`).toLowerCase();switch(n){case"authorize":{let{chain:o}=r;if(t==="legacy"){switch(o){case"solana:testnet":{o="testnet";break}case"solana:devnet":{o="devnet";break}case"solana:mainnet":{o="mainnet-beta";break}default:o=r.cluster}r.cluster=o}else{switch(o){case"testnet":case"devnet":{o=`solana:${o}`;break}case"mainnet-beta":{o="solana:mainnet";break}}r.chain=o}}case"reauthorize":{const{auth_token:o,identity:s}=r;if(o)switch(t){case"legacy":{i="reauthorize",r={auth_token:o,identity:s};break}default:{i="authorize";break}}break}}return{method:i,params:r}}function HM(n,e,t){switch(n){case"getCapabilities":{const r=e;switch(t){case"legacy":{const i=[DM];return r.supports_clone_authorization===!0&&i.push(Gw),Object.assign(Object.assign({},r),{features:i})}case"v1":return Object.assign(Object.assign({},r),{supports_sign_and_send_transactions:!0,supports_clone_authorization:r.features.includes(Gw)})}}}return e}function jM(n,e,t){var r;return Xt(this,void 0,void 0,function*(){const i=(r=n.domain)!==null&&r!==void 0?r:window.location.host,o=e.accounts[0].address,s=PM(Object.assign(Object.assign({},n),{domain:i,address:zM(o)})),a=yield t("sign_messages",{addresses:[o],payloads:[s]}),c=IS(a.signed_payloads[0]),l=$w(c.slice(0,c.length-64)),u=$w(c.slice(c.length-64));return{address:o,signed_message:l.length==0?s:l,signature:u}})}const Go=4;function KM(n){if(n>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const e=new ArrayBuffer(Go);return new DataView(e).setUint32(0,n,!1),new Uint8Array(e)}const g0=12,xS=65;function VM(n,e,t){return Xt(this,void 0,void 0,function*(){const r=KM(e),i=new Uint8Array(g0);crypto.getRandomValues(i);const o=yield crypto.subtle.encrypt(CS(r,i),t,new TextEncoder().encode(n)),s=new Uint8Array(r.byteLength+i.byteLength+o.byteLength);return s.set(new Uint8Array(r),0),s.set(new Uint8Array(i),r.byteLength),s.set(new Uint8Array(o),r.byteLength+i.byteLength),s})}function TS(n,e){return Xt(this,void 0,void 0,function*(){const t=n.slice(0,Go),r=n.slice(Go,Go+g0),i=n.slice(Go+g0),o=yield crypto.subtle.decrypt(CS(t,r),e,i);return $M().decode(o)})}function CS(n,e){return{additionalData:n,iv:e,name:"AES-GCM",tagLength:128}}let Wh;function $M(){return Wh===void 0&&(Wh=new TextDecoder("utf-8")),Wh}function GM(){return Xt(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function Hh(){return Xt(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function qM(n){let e="";const t=new Uint8Array(n),r=t.byteLength;for(let i=0;i<r;i++)e+=String.fromCharCode(t[i]);return window.btoa(e)}function YM(){return NS(49152+Math.floor(Math.random()*16384))}function NS(n){if(n<49152||n>65535)throw new Ci(Ti.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${n} given.`,{port:n});return n}function ZM(n){return n.replace(/[/+=]/g,e=>({"/":"_","+":"-","=":"."})[e])}const XM="solana-wallet";function qw(n){return n.replace(/(^\/+|\/+$)/g,"").split("/")}function QM(n,e){let t=null;if(e){try{t=new URL(e)}catch{}if((t==null?void 0:t.protocol)!=="https:")throw new Ci(Ti.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}t||(t=new URL(`${XM}:/`));const r=n.startsWith("/")?n:[...qw(t.pathname),...qw(n)].join("/");return new URL(r,t)}function JM(n,e,t,r=["v1"]){return Xt(this,void 0,void 0,function*(){const i=NS(e),o=yield crypto.subtle.exportKey("raw",n),s=qM(o),a=QM("v1/associate/local",t);return a.searchParams.set("association",ZM(s)),a.searchParams.set("port",`${i}`),r.forEach(c=>{a.searchParams.set("v",c)}),a})}function e6(n,e){return Xt(this,void 0,void 0,function*(){const t=JSON.stringify(n),r=n.id;return VM(t,r,e)})}function t6(n,e){return Xt(this,void 0,void 0,function*(){const t=yield TS(n,e),r=JSON.parse(t);if(Object.hasOwnProperty.call(r,"error"))throw new kS(r.id,r.error.code,r.error.message);return r})}function n6(n,e,t){return Xt(this,void 0,void 0,function*(){const[r,i]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",n.slice(0,xS),{name:"ECDH",namedCurve:"P-256"},!1,[])]),o=yield crypto.subtle.deriveBits({name:"ECDH",public:i},t,256),s=yield crypto.subtle.importKey("raw",o,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},s,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function r6(n,e){return Xt(this,void 0,void 0,function*(){const t=yield TS(n,e),r=JSON.parse(t);let i="legacy";if(Object.hasOwnProperty.call(r,"v"))switch(r.v){case 1:case"1":case"v1":i="v1";break;case"legacy":i="legacy";break;default:throw new Ci(Ti.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${r.v}`)}return{protocol_version:i}})}const vd={Firefox:0,Other:1};function i6(){return navigator.userAgent.indexOf("Firefox/")!==-1?vd.Firefox:vd.Other}function o6(){return new Promise((n,e)=>{function t(){clearTimeout(i),window.removeEventListener("blur",r)}function r(){t(),n()}window.addEventListener("blur",r);const i=setTimeout(()=>{t(),e()},3e3)})}let Za=null;function s6(n){Za==null&&(Za=document.createElement("iframe"),Za.style.display="none",document.body.appendChild(Za)),Za.contentWindow.location.href=n.toString()}function a6(n){return Xt(this,void 0,void 0,function*(){if(n.protocol==="https:")window.location.assign(n);else try{const e=i6();switch(e){case vd.Firefox:s6(n);break;case vd.Other:{const t=o6();window.location.assign(n),yield t;break}default:}}catch{throw new Ci(Ti.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function c6(n,e){return Xt(this,void 0,void 0,function*(){const t=YM(),r=yield JM(n,t,e);return yield a6(r),t})}const Yw={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},l6="com.solana.mobilewalletadapter.v1";function u6(){if(typeof window>"u"||window.isSecureContext!==!0)throw new Ci(Ti.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function d6(n){let e;try{e=new URL(n)}catch{throw new Ci(Ti.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(e.protocol!=="https:")throw new Ci(Ti.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function Zw(n){return new DataView(n).getUint32(0,!1)}function f6(n,e){return Xt(this,void 0,void 0,function*(){u6();const t=yield GM(),i=`ws://localhost:${yield c6(t.publicKey,e==null?void 0:e.baseUri)}/solana-wallet`;let o;const s=(()=>{const u=[...Yw.retryDelayScheduleMs];return()=>u.length>1?u.shift():u[0]})();let a=1,c=0,l={__type:"disconnected"};return new Promise((u,p)=>{let g;const h={},w=()=>Xt(this,void 0,void 0,function*(){if(l.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${l.__type}\`.`);return}g.removeEventListener("open",w);const{associationKeypair:L}=l,U=yield Hh();g.send(yield Fh(U.publicKey,L.privateKey)),l={__type:"hello_req_sent",associationPublicKey:L.publicKey,ecdhPrivateKey:U.privateKey}}),k=L=>{L.wasClean?l={__type:"disconnected"}:p(new Ci(Ti.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${L.code}: ${L.reason}).`,{closeEvent:L})),b()},A=L=>Xt(this,void 0,void 0,function*(){b(),Date.now()-o>=Yw.timeoutMs?p(new Ci(Ti.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${i}.`)):(yield new Promise(U=>{const D=s();_=window.setTimeout(U,D)}),x())}),E=L=>Xt(this,void 0,void 0,function*(){const U=yield L.data.arrayBuffer();switch(l.__type){case"connecting":if(U.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const D=yield Hh();g.send(yield Fh(D.publicKey,t.privateKey)),l={__type:"hello_req_sent",associationPublicKey:t.publicKey,ecdhPrivateKey:D.privateKey};break;case"connected":try{const W=U.slice(0,Go),z=Zw(W);if(z!==c+1)throw new Error("Encrypted message has invalid sequence number");c=z;const H=yield t6(U,l.sharedSecret),q=h[H.id];delete h[H.id],q.resolve(H.result)}catch(W){if(W instanceof kS){const z=h[W.jsonRpcMessageId];delete h[W.jsonRpcMessageId],z.reject(W)}else throw W}break;case"hello_req_sent":{if(U.byteLength===0){const $=yield Hh();g.send(yield Fh($.publicKey,t.privateKey)),l={__type:"hello_req_sent",associationPublicKey:t.publicKey,ecdhPrivateKey:$.privateKey};break}const W=yield n6(U,l.associationPublicKey,l.ecdhPrivateKey),z=U.slice(xS),H=z.byteLength!==0?yield Xt(this,void 0,void 0,function*(){const $=z.slice(0,Go),R=Zw($);if(R!==c+1)throw new Error("Encrypted message has invalid sequence number");return c=R,r6(z,W)}):{protocol_version:"legacy"};l={__type:"connected",sharedSecret:W,sessionProperties:H};const q=FM(H.protocol_version,($,R)=>Xt(this,void 0,void 0,function*(){const d=a++;return g.send(yield e6({id:d,jsonrpc:"2.0",method:$,params:R??{}},W)),new Promise((f,S)=>{h[d]={resolve(T){switch($){case"authorize":case"reauthorize":{const{wallet_uri_base:I}=T;if(I!=null)try{d6(I)}catch(O){S(O);return}break}}f(T)},reject:S}})}));try{u(yield n(q))}catch($){p($)}finally{b(),g.close()}break}}});let b,_;const x=()=>{b&&b(),l={__type:"connecting",associationKeypair:t},o===void 0&&(o=Date.now()),g=new WebSocket(i,[l6]),g.addEventListener("open",w),g.addEventListener("close",k),g.addEventListener("error",A),g.addEventListener("message",E),b=()=>{window.clearTimeout(_),g.removeEventListener("open",w),g.removeEventListener("close",k),g.removeEventListener("error",A),g.removeEventListener("message",E)}};x()})})}function h6(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var r=0;r<n.length;r++){var i=n.charAt(r),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=r}var s=n.length,a=n.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function u(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var w=0,k=0,A=0,E=h.length;A!==E&&h[A]===0;)A++,w++;for(var b=(E-A)*l+1>>>0,_=new Uint8Array(b);A!==E;){for(var x=h[A],L=0,U=b-1;(x!==0||L<k)&&U!==-1;U--,L++)x+=256*_[U]>>>0,_[U]=x%s>>>0,x=x/s>>>0;if(x!==0)throw new Error("Non-zero carry");k=L,A++}for(var D=b-k;D!==b&&_[D]===0;)D++;for(var W=a.repeat(w);D<b;++D)W+=n.charAt(_[D]);return W}function p(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;for(var w=0,k=0,A=0;h[w]===a;)k++,w++;for(var E=(h.length-w)*c+1>>>0,b=new Uint8Array(E);h[w];){var _=h.charCodeAt(w);if(_>255)return;var x=e[_];if(x===255)return;for(var L=0,U=E-1;(x!==0||L<A)&&U!==-1;U--,L++)x+=s*b[U]>>>0,b[U]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");A=L,w++}for(var D=E-A;D!==E&&b[D]===0;)D++;for(var W=new Uint8Array(k+(E-D)),z=k;D!==E;)W[z++]=b[D++];return W}function g(h){var w=p(h);if(w)return w;throw new Error("Non-base"+s+" character")}return{encode:u,decodeUnsafe:p,decode:g}}var p6=h6;const g6=p6,m6="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var y6=g6(m6);const m0=Oi(y6);function ct(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(p){s(p)}}function c(u){try{l(r.throw(u))}catch(p){s(p)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(n,[])).next())})}function J(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}function Gt(n,e,t,r,i){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}var rc,Jt,Oo,Ts,OS,MS,BS,mu;const w6=`
<div class="mobile-wallet-adapter-embedded-modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div data-modal-close style="position: absolute; width: 100%; height: 100%;"></div>
	<div class="mobile-wallet-adapter-embedded-modal-card">
		<div>
			<button data-modal-close class="mobile-wallet-adapter-embedded-modal-close">
				<svg width="14" height="14">
					<path d="M 6.7125,8.3036995 1.9082,13.108199 c -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 C 0.1056,12.896899 0,12.631699 0,12.312499 c 0,-0.3192 0.1056,-0.5844 0.3167,-0.7958 L 5.1212,6.7124995 0.3167,1.9082 C 0.1056,1.6969 0,1.4317 0,1.1125 0,0.7933 0.1056,0.5281 0.3167,0.3167 0.5281,0.1056 0.7933,0 1.1125,0 1.4317,0 1.6969,0.1056 1.9082,0.3167 L 6.7125,5.1212 11.5167,0.3167 C 11.7281,0.1056 11.9933,0 12.3125,0 c 0.3192,0 0.5844,0.1056 0.7957,0.3167 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 L 8.3037001,6.7124995 13.1082,11.516699 c 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 z" />
				</svg>
			</button>
		</div>
		<div class="mobile-wallet-adapter-embedded-modal-content"></div>
	</div>
</div>
`,v6=`
.mobile-wallet-adapter-embedded-modal-container {
    display: flex; /* Use flexbox to center content */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    overflow-y: auto; /* enable scrolling */
}

.mobile-wallet-adapter-embedded-modal-card {
    display: flex;
    flex-direction: column;
    margin: auto 20px;
    max-width: 780px;
    padding: 20px;
    border-radius: 24px;
    background: #ffffff;
    font-family: "Inter Tight", "PT Sans", Calibri, sans-serif;
    transform: translateY(-200%);
    animation: slide-in 0.5s forwards;
}

@keyframes slide-in {
    100% { transform: translateY(0%); }
}

.mobile-wallet-adapter-embedded-modal-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    cursor: pointer;
    background: #e4e9e9;
    border: none;
    border-radius: 50%;
}

.mobile-wallet-adapter-embedded-modal-close:focus-visible {
    outline-color: red;
}

.mobile-wallet-adapter-embedded-modal-close svg {
    fill: #546266;
    transition: fill 200ms ease 0s;
}

.mobile-wallet-adapter-embedded-modal-close:hover svg {
    fill: #fff;
}
`,_6=`
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
`;class E6{constructor(){rc.add(this),Jt.set(this,null),Oo.set(this,{}),Ts.set(this,!1),this.dom=null,this.open=()=>{console.debug("Modal open"),J(this,rc,"m",MS).call(this),J(this,Jt,"f")&&(J(this,Jt,"f").style.display="flex")},this.close=(e=void 0)=>{var t;console.debug("Modal close"),J(this,rc,"m",BS).call(this),J(this,Jt,"f")&&(J(this,Jt,"f").style.display="none"),(t=J(this,Oo,"f").close)===null||t===void 0||t.forEach(r=>r(e))},mu.set(this,e=>{e.key==="Escape"&&this.close(e)}),this.init=this.init.bind(this),Gt(this,Jt,document.getElementById("mobile-wallet-adapter-embedded-root-ui"))}init(){return ct(this,void 0,void 0,function*(){console.log("Injecting modal"),J(this,rc,"m",OS).call(this)})}addEventListener(e,t){var r;return!((r=J(this,Oo,"f")[e])===null||r===void 0)&&r.push(t)||(J(this,Oo,"f")[e]=[t]),()=>this.removeEventListener(e,t)}removeEventListener(e,t){var r;J(this,Oo,"f")[e]=(r=J(this,Oo,"f")[e])===null||r===void 0?void 0:r.filter(i=>t!==i)}}Jt=new WeakMap,Oo=new WeakMap,Ts=new WeakMap,mu=new WeakMap,rc=new WeakSet,OS=function(){if(document.getElementById("mobile-wallet-adapter-embedded-root-ui")){J(this,Jt,"f")||Gt(this,Jt,document.getElementById("mobile-wallet-adapter-embedded-root-ui"));return}Gt(this,Jt,document.createElement("div")),J(this,Jt,"f").id="mobile-wallet-adapter-embedded-root-ui",J(this,Jt,"f").innerHTML=w6,J(this,Jt,"f").style.display="none";const e=J(this,Jt,"f").querySelector(".mobile-wallet-adapter-embedded-modal-content");e&&(e.innerHTML=this.contentHtml);const t=document.createElement("style");t.id="mobile-wallet-adapter-embedded-modal-styles",t.textContent=v6+this.contentStyles;const r=document.createElement("div");r.innerHTML=_6,this.dom=r.attachShadow({mode:"closed"}),this.dom.appendChild(t),this.dom.appendChild(J(this,Jt,"f")),document.body.appendChild(r)},MS=function(){if(!J(this,Jt,"f")||J(this,Ts,"f"))return;[...J(this,Jt,"f").querySelectorAll("[data-modal-close]")].forEach(t=>t==null?void 0:t.addEventListener("click",this.close)),window.addEventListener("load",this.close),document.addEventListener("keydown",J(this,mu,"f")),Gt(this,Ts,!0)},BS=function(){if(!J(this,Ts,"f")||(window.removeEventListener("load",this.close),document.removeEventListener("keydown",J(this,mu,"f")),!J(this,Jt,"f")))return;[...J(this,Jt,"f").querySelectorAll("[data-modal-close]")].forEach(t=>t==null?void 0:t.removeEventListener("click",this.close)),Gt(this,Ts,!1)};const b6="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDIuNUgxN0MxNy44Mjg0IDIuNSAxOC41IDMuMTcxNTcgMTguNSA0VjIwQzE4LjUgMjAuODI4NCAxNy44Mjg0IDIxLjUgMTcgMjEuNUg3QzYuMTcxNTcgMjEuNSA1LjUgMjAuODI4NCA1LjUgMjBWNEM1LjUgMy4xNzE1NyA2LjE3MTU3IDIuNSA3IDIuNVpNMyA0QzMgMS43OTA4NiA0Ljc5MDg2IDAgNyAwSDE3QzE5LjIwOTEgMCAyMSAxLjc5MDg2IDIxIDRWMjBDMjEgMjIuMjA5MSAxOS4yMDkxIDI0IDE3IDI0SDdDNC43OTA4NiAyNCAzIDIyLjIwOTEgMyAyMFY0Wk0xMSA0LjYxNTM4QzEwLjQ0NzcgNC42MTUzOCAxMCA1LjA2MzEgMTAgNS42MTUzOFY2LjM4NDYyQzEwIDYuOTM2OSAxMC40NDc3IDcuMzg0NjIgMTEgNy4zODQ2MkgxM0MxMy41NTIzIDcuMzg0NjIgMTQgNi45MzY5IDE0IDYuMzg0NjJWNS42MTUzOEMxNCA1LjA2MzEgMTMuNTUyMyA0LjYxNTM4IDEzIDQuNjE1MzhIMTFaIiBmaWxsPSIjRENCOEZGIi8+Cjwvc3ZnPgo=";function Yl(n){return window.btoa(String.fromCharCode.call(null,...n))}function ji(n){return new Uint8Array(window.atob(n).split("").map(e=>e.charCodeAt(0)))}var Cs,qo,y0,w0,v0,_0,ic,kn,li,Ki,Ns,Mo,yu,oc,wu,E0,vu,LS,b0,_u,Os,Eu,sc,bu,Ms,ac,Su,S0,R0,Ru,Au,A0,k0,ku;const PS="Mobile Wallet Adapter",S6=64,R6=[Wn,pt,Qi,ns];class A6{constructor(e){Cs.add(this),qo.set(this,{}),y0.set(this,"1.0.0"),w0.set(this,PS),v0.set(this,"https://solanamobile.com/wallets"),_0.set(this,b6),ic.set(this,void 0),kn.set(this,void 0),li.set(this,void 0),Ki.set(this,!1),Ns.set(this,0),Mo.set(this,[]),yu.set(this,void 0),oc.set(this,void 0),wu.set(this,void 0),E0.set(this,(t,r)=>{var i;return!((i=J(this,qo,"f")[t])===null||i===void 0)&&i.push(r)||(J(this,qo,"f")[t]=[r]),()=>J(this,Cs,"m",LS).call(this,t,r)}),b0.set(this,({silent:t}={})=>ct(this,void 0,void 0,function*(){if(J(this,Ki,"f")||this.connected)return{accounts:this.accounts};Gt(this,Ki,!0);try{if(t){const r=yield J(this,li,"f").get();if(r)yield J(this,Eu,"f").call(this,r.capabilities),yield J(this,Os,"f").call(this,r);else return{accounts:this.accounts}}else yield J(this,_u,"f").call(this)}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}finally{Gt(this,Ki,!1)}return{accounts:this.accounts}})),_u.set(this,t=>ct(this,void 0,void 0,function*(){try{const r=yield J(this,li,"f").get();if(r)return J(this,Os,"f").call(this,r),r;const i=yield J(this,yu,"f").select(J(this,Mo,"f"));return yield J(this,Ms,"f").call(this,o=>ct(this,void 0,void 0,function*(){const[s,a]=yield Promise.all([o.getCapabilities(),o.authorize({chain:i,identity:J(this,ic,"f"),sign_in_payload:t})]),c=J(this,Su,"f").call(this,a.accounts),l=Object.assign(Object.assign({},a),{accounts:c,chain:i,capabilities:s});return Promise.all([J(this,Eu,"f").call(this,s),J(this,li,"f").set(l),J(this,Os,"f").call(this,l)]),l}))}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}})),Os.set(this,t=>ct(this,void 0,void 0,function*(){var r;const i=J(this,kn,"f")==null||((r=J(this,kn,"f"))===null||r===void 0?void 0:r.accounts.length)!==t.accounts.length||J(this,kn,"f").accounts.some((o,s)=>o.address!==t.accounts[s].address);Gt(this,kn,t),i&&J(this,Cs,"m",vu).call(this,"change",{accounts:this.accounts})})),Eu.set(this,t=>ct(this,void 0,void 0,function*(){const r=t.features.includes("solana:signTransactions"),i=t.supports_sign_and_send_transactions,o=Wn in this.features!==i||pt in this.features!==r;Gt(this,oc,Object.assign(Object.assign({},(i||!i&&!r)&&{[Wn]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:J(this,Ru,"f")}}),r&&{[pt]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:J(this,Au,"f")}})),o&&J(this,Cs,"m",vu).call(this,"change",{features:this.features})})),sc.set(this,(t,r,i)=>ct(this,void 0,void 0,function*(){var o,s;try{const[a,c]=yield Promise.all([(s=(o=J(this,kn,"f"))===null||o===void 0?void 0:o.capabilities)!==null&&s!==void 0?s:yield t.getCapabilities(),t.authorize({auth_token:r,identity:J(this,ic,"f"),chain:i})]),l=J(this,Su,"f").call(this,c.accounts),u=Object.assign(Object.assign({},c),{accounts:l,chain:i,capabilities:a});Promise.all([J(this,li,"f").set(u),J(this,Os,"f").call(this,u)])}catch(a){throw J(this,bu,"f").call(this),new Error(a instanceof Error&&a.message||"Unknown error")}})),bu.set(this,()=>ct(this,void 0,void 0,function*(){var t;J(this,li,"f").clear(),Gt(this,Ki,!1),Gt(this,Ns,(t=J(this,Ns,"f"),t++,t)),Gt(this,kn,void 0),J(this,Cs,"m",vu).call(this,"change",{accounts:this.accounts})})),Ms.set(this,t=>ct(this,void 0,void 0,function*(){var r;const i=(r=J(this,kn,"f"))===null||r===void 0?void 0:r.wallet_uri_base,o=i?{baseUri:i}:void 0,s=J(this,Ns,"f");try{return yield f6(t,o)}catch(a){throw J(this,Ns,"f")!==s&&(yield new Promise(()=>{})),a instanceof Error&&a.name==="SolanaMobileWalletAdapterError"&&a.code==="ERROR_WALLET_NOT_FOUND"&&(yield J(this,wu,"f").call(this,this)),a}})),ac.set(this,()=>{if(!J(this,kn,"f"))throw new Error("Wallet not connected");return{authToken:J(this,kn,"f").auth_token,chain:J(this,kn,"f").chain}}),Su.set(this,t=>t.map(r=>{var i,o;const s=ji(r.address);return{address:m0.encode(s),publicKey:s,label:r.label,icon:r.icon,chains:(i=r.chains)!==null&&i!==void 0?i:J(this,Mo,"f"),features:(o=r.features)!==null&&o!==void 0?o:R6}})),S0.set(this,t=>ct(this,void 0,void 0,function*(){const{authToken:r,chain:i}=J(this,ac,"f").call(this);try{const o=t.map(s=>Yl(s));return yield J(this,Ms,"f").call(this,s=>ct(this,void 0,void 0,function*(){return yield J(this,sc,"f").call(this,s,r,i),(yield s.signTransactions({payloads:o})).signed_payloads.map(ji)}))}catch(o){throw new Error(o instanceof Error&&o.message||"Unknown error")}})),R0.set(this,(t,r)=>ct(this,void 0,void 0,function*(){const{authToken:i,chain:o}=J(this,ac,"f").call(this);try{return yield J(this,Ms,"f").call(this,s=>ct(this,void 0,void 0,function*(){const[a,c]=yield Promise.all([s.getCapabilities(),J(this,sc,"f").call(this,s,i,o)]);if(a.supports_sign_and_send_transactions){const l=Yl(t);return(yield s.signAndSendTransactions(Object.assign(Object.assign({},r),{payloads:[l]}))).signatures.map(ji)[0]}else throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}})),Ru.set(this,(...t)=>ct(this,void 0,void 0,function*(){const r=[];for(const i of t){const o=yield J(this,R0,"f").call(this,i.transaction,i.options);r.push({signature:o})}return r})),Au.set(this,(...t)=>ct(this,void 0,void 0,function*(){return(yield J(this,S0,"f").call(this,t.map(({transaction:r})=>r))).map(r=>({signedTransaction:r}))})),A0.set(this,(...t)=>ct(this,void 0,void 0,function*(){const{authToken:r,chain:i}=J(this,ac,"f").call(this),o=t.map(({account:a})=>Yl(a.publicKey)),s=t.map(({message:a})=>Yl(a));try{return yield J(this,Ms,"f").call(this,a=>ct(this,void 0,void 0,function*(){return yield J(this,sc,"f").call(this,a,r,i),(yield a.signMessages({addresses:o,payloads:s})).signed_payloads.map(ji).map(l=>({signedMessage:l,signature:l.slice(-S6)}))}))}catch(a){throw new Error(a instanceof Error&&a.message||"Unknown error")}})),k0.set(this,(...t)=>ct(this,void 0,void 0,function*(){const r=[];if(t.length>1)for(const i of t)r.push(yield J(this,ku,"f").call(this,i));else return[yield J(this,ku,"f").call(this,t[0])];return r})),ku.set(this,t=>ct(this,void 0,void 0,function*(){var r,i,o;Gt(this,Ki,!0);try{const s=yield J(this,_u,"f").call(this,Object.assign(Object.assign({},t),{domain:(r=t==null?void 0:t.domain)!==null&&r!==void 0?r:window.location.host}));if(!s.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const a=s.sign_in_result.address,c=s.accounts.find(l=>l.address==a);return{account:Object.assign(Object.assign({},c??{address:m0.encode(ji(a))}),{publicKey:ji(a),chains:(i=c==null?void 0:c.chains)!==null&&i!==void 0?i:J(this,Mo,"f"),features:(o=c==null?void 0:c.features)!==null&&o!==void 0?o:s.capabilities.features}),signedMessage:ji(s.sign_in_result.signed_message),signature:ji(s.sign_in_result.signature)}}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}finally{Gt(this,Ki,!1)}})),Gt(this,li,e.authorizationCache),Gt(this,ic,e.appIdentity),Gt(this,Mo,e.chains),Gt(this,yu,e.chainSelector),Gt(this,wu,e.onWalletNotFound),Gt(this,oc,{[Wn]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:J(this,Ru,"f")},[pt]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:J(this,Au,"f")}})}get version(){return J(this,y0,"f")}get name(){return J(this,w0,"f")}get url(){return J(this,v0,"f")}get icon(){return J(this,_0,"f")}get chains(){return J(this,Mo,"f")}get features(){return Object.assign({[Sm]:{version:"1.0.0",connect:J(this,b0,"f")},[l0]:{version:"1.0.0",disconnect:J(this,bu,"f")},[Rm]:{version:"1.0.0",on:J(this,E0,"f")},[Qi]:{version:"1.0.0",signMessage:J(this,A0,"f")},[ns]:{version:"1.0.0",signIn:J(this,k0,"f")}},J(this,oc,"f"))}get accounts(){var e,t;return(t=(e=J(this,kn,"f"))===null||e===void 0?void 0:e.accounts)!==null&&t!==void 0?t:[]}get connected(){return!!J(this,kn,"f")}get isAuthorized(){return!!J(this,kn,"f")}get currentAuthorization(){return J(this,kn,"f")}get cachedAuthorizationResult(){return J(this,li,"f").get()}}qo=new WeakMap,y0=new WeakMap,w0=new WeakMap,v0=new WeakMap,_0=new WeakMap,ic=new WeakMap,kn=new WeakMap,li=new WeakMap,Ki=new WeakMap,Ns=new WeakMap,Mo=new WeakMap,yu=new WeakMap,oc=new WeakMap,wu=new WeakMap,E0=new WeakMap,b0=new WeakMap,_u=new WeakMap,Os=new WeakMap,Eu=new WeakMap,sc=new WeakMap,bu=new WeakMap,Ms=new WeakMap,ac=new WeakMap,Su=new WeakMap,S0=new WeakMap,R0=new WeakMap,Ru=new WeakMap,Au=new WeakMap,A0=new WeakMap,k0=new WeakMap,ku=new WeakMap,Cs=new WeakSet,vu=function(e,...t){var r;(r=J(this,qo,"f")[e])===null||r===void 0||r.forEach(i=>i.apply(null,t))},LS=function(e,t){var r;J(this,qo,"f")[e]=(r=J(this,qo,"f")[e])===null||r===void 0?void 0:r.filter(i=>t!==i)};const k6="To use mobile wallet adapter, you must have a compatible mobile wallet application installed on your device.",I6="This browser appears to be incompatible with mobile wallet adapter. Open this page in a compatible mobile browser app and try again.";class x6 extends E6{constructor(){super(...arguments),this.contentStyles=C6,this.contentHtml=T6}initWithError(e){super.init(),this.populateError(e)}populateError(e){var t,r;const i=(t=this.dom)===null||t===void 0?void 0:t.getElementById("mobile-wallet-adapter-error-message"),o=(r=this.dom)===null||r===void 0?void 0:r.getElementById("mobile-wallet-adapter-error-action");if(i){if(e.name==="SolanaMobileWalletAdapterError")switch(e.code){case"ERROR_WALLET_NOT_FOUND":i.innerHTML=k6,o&&o.addEventListener("click",()=>{window.location.href="https://solanamobile.com/wallets"});return;case"ERROR_BROWSER_NOT_SUPPORTED":i.innerHTML=I6,o&&(o.style.display="none");return}i.innerHTML=`An unexpected error occurred: ${e.message}`}else console.log("Failed to locate error dialog element")}}const T6=`
<svg class="mobile-wallet-adapter-embedded-modal-error-icon" xmlns="http://www.w3.org/2000/svg" height="50px" viewBox="0 -960 960 960" width="50px" fill="#000000"><path d="M 280,-80 Q 197,-80 138.5,-138.5 80,-197 80,-280 80,-363 138.5,-421.5 197,-480 280,-480 q 83,0 141.5,58.5 58.5,58.5 58.5,141.5 0,83 -58.5,141.5 Q 363,-80 280,-80 Z M 824,-120 568,-376 Q 556,-389 542.5,-402.5 529,-416 516,-428 q 38,-24 61,-64 23,-40 23,-88 0,-75 -52.5,-127.5 Q 495,-760 420,-760 345,-760 292.5,-707.5 240,-655 240,-580 q 0,6 0.5,11.5 0.5,5.5 1.5,11.5 -18,2 -39.5,8 -21.5,6 -38.5,14 -2,-11 -3,-22 -1,-11 -1,-23 0,-109 75.5,-184.5 Q 311,-840 420,-840 q 109,0 184.5,75.5 75.5,75.5 75.5,184.5 0,43 -13.5,81.5 Q 653,-460 629,-428 l 251,252 z m -615,-61 71,-71 70,71 29,-28 -71,-71 71,-71 -28,-28 -71,71 -71,-71 -28,28 71,71 -71,71 z"/></svg>
<div class="mobile-wallet-adapter-embedded-modal-title">We can't find a wallet.</div>
<div id="mobile-wallet-adapter-error-message" class="mobile-wallet-adapter-embedded-modal-subtitle"></div>
<div>
    <button data-error-action id="mobile-wallet-adapter-error-action" class="mobile-wallet-adapter-embedded-modal-error-action">
        Find a wallet
    </button>
</div>
`,C6=`
.mobile-wallet-adapter-embedded-modal-content {
    text-align: center;
}

.mobile-wallet-adapter-embedded-modal-error-icon {
    margin-top: 24px;
}

.mobile-wallet-adapter-embedded-modal-title {
    margin: 18px 100px auto 100px;
    color: #000000;
    font-size: 2.75em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: 30px 60px 40px 60px;
    color: #000000;
    font-size: 1.25em;
    font-weight: 400;
}

.mobile-wallet-adapter-embedded-modal-error-action {
    display: block;
    width: 100%;
    height: 56px;
    /*margin-top: 40px;*/
    font-size: 1.25em;
    /*line-height: 24px;*/
    /*letter-spacing: -1%;*/
    background: #000000;
    color: #FFFFFF;
    border-radius: 18px;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
        margin-right: 12px;
        margin-left: 12px;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: 12px;
        margin-left: 12px;
    }
}
`;function N6(){return ct(this,void 0,void 0,function*(){if(typeof window<"u"){const n=window.navigator.userAgent.toLowerCase(),e=new x6;n.includes("wv")?e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_BROWSER_NOT_SUPPORTED",message:""}):e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_WALLET_NOT_FOUND",message:""}),e.open()}})}const jh="SolanaMobileWalletAdapterDefaultAuthorizationCache";function O6(){let n;try{n=window.localStorage}catch{}return{clear(){return ct(this,void 0,void 0,function*(){if(n)try{n.removeItem(jh)}catch{}})},get(){return ct(this,void 0,void 0,function*(){if(n)try{const e=JSON.parse(n.getItem(jh));if(e&&e.accounts){const t=e.accounts.map(r=>Object.assign(Object.assign({},r),{publicKey:"publicKey"in r?new Uint8Array(Object.values(r.publicKey)):m0.decode(r.address)}));return Object.assign(Object.assign({},e),{accounts:t})}else return e||void 0}catch{}})},set(e){return ct(this,void 0,void 0,function*(){if(n)try{n.setItem(jh,JSON.stringify(e))}catch{}})}}}function M6(){return{select(n){return ct(this,void 0,void 0,function*(){return n.length===1?n[0]:n.includes(wd)?wd:n[0]})}}}function Qe(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(p){s(p)}}function c(u){try{l(r.throw(u))}catch(p){s(p)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(n,[])).next())})}function _e(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}function Qn(n,e,t,r,i){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}const I0="standard:connect",B6="standard:disconnect",L6="standard:events";function Kh(n){return window.btoa(String.fromCharCode.call(null,...n))}function P6(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}var on,ht,Ji,yi,Iu,hi,Bo,x0,T0,DS,_d,xu,qi;const Tu=PS,D6=64;function U6(n){return"version"in n}function US(n){switch(n){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet";default:return n}}class z6 extends O3{constructor(e,t){super(),on.add(this),this.supportedTransactionVersions=new Set(["legacy",0]),ht.set(this,void 0),Ji.set(this,!1),yi.set(this,P6()?He.Loadable:He.Unsupported),Iu.set(this,void 0),hi.set(this,void 0),Bo.set(this,void 0),x0.set(this,r=>Qe(this,void 0,void 0,function*(){if(r.accounts&&r.accounts.length>0){_e(this,on,"m",DS).call(this);const i=yield _e(this,Iu,"f").call(this,r.accounts);i!==_e(this,hi,"f")&&(Qn(this,hi,i),Qn(this,Bo,void 0),this.emit("connect",this.publicKey))}})),Qn(this,Iu,r=>Qe(this,void 0,void 0,function*(){var i;const o=yield t.addressSelector.select(r.map(({publicKey:s})=>Kh(s)));return(i=r.find(({publicKey:s})=>Kh(s)===o))!==null&&i!==void 0?i:r[0]})),Qn(this,ht,e),_e(this,ht,"f").features[L6].on("change",_e(this,x0,"f")),this.name=_e(this,ht,"f").name,this.icon=_e(this,ht,"f").icon,this.url=_e(this,ht,"f").url}get publicKey(){var e;if(!_e(this,Bo,"f")&&_e(this,hi,"f"))try{Qn(this,Bo,new Z(_e(this,hi,"f").publicKey),"f")}catch(t){throw new gd(t instanceof Error&&(t==null?void 0:t.message)||"Unknown error",t)}return(e=_e(this,Bo,"f"))!==null&&e!==void 0?e:null}get connected(){return _e(this,ht,"f").connected}get connecting(){return _e(this,Ji,"f")}get readyState(){return _e(this,yi,"f")}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return Qe(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return Qe(this,void 0,void 0,function*(){_e(this,on,"m",T0).call(this,!0)})}connect(){return Qe(this,void 0,void 0,function*(){_e(this,on,"m",T0).call(this)})}performAuthorization(e){return Qe(this,void 0,void 0,function*(){try{const t=yield _e(this,ht,"f").cachedAuthorizationResult;return t?(yield _e(this,ht,"f").features[I0].connect({silent:!0}),t):(e?yield _e(this,ht,"f").features[ns].signIn(e):yield _e(this,ht,"f").features[I0].connect(),yield yield _e(this,ht,"f").cachedAuthorizationResult)}catch(t){throw new Zc(t instanceof Error&&t.message||"Unknown error",t)}})}disconnect(){return Qe(this,void 0,void 0,function*(){return yield _e(this,on,"m",qi).call(this,()=>Qe(this,void 0,void 0,function*(){Qn(this,Ji,!1),Qn(this,Bo,void 0),Qn(this,hi,void 0),yield _e(this,ht,"f").features[B6].disconnect(),this.emit("disconnect")}))})}signIn(e){return Qe(this,void 0,void 0,function*(){return _e(this,on,"m",qi).call(this,()=>Qe(this,void 0,void 0,function*(){var t;if(_e(this,yi,"f")!==He.Installed&&_e(this,yi,"f")!==He.Loadable)throw new ba;Qn(this,Ji,!0);try{const r=yield _e(this,ht,"f").features[ns].signIn(Object.assign(Object.assign({},e),{domain:(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:window.location.host}));if(r.length>0)return r[0];throw new Error("Sign in failed, no sign in result returned by wallet")}catch(r){throw new Zc(r instanceof Error&&r.message||"Unknown error",r)}finally{Qn(this,Ji,!1)}}))})}signMessage(e){return Qe(this,void 0,void 0,function*(){return yield _e(this,on,"m",qi).call(this,()=>Qe(this,void 0,void 0,function*(){const t=_e(this,on,"m",_d).call(this);try{return(yield _e(this,ht,"f").features[Qi].signMessage({account:t,message:e}))[0].signature}catch(r){throw new bm(r==null?void 0:r.message,r)}}))})}sendTransaction(e,t,r){return Qe(this,void 0,void 0,function*(){return yield _e(this,on,"m",qi).call(this,()=>Qe(this,void 0,void 0,function*(){const i=_e(this,on,"m",_d).call(this);try{let s=function(){let a;switch(t.commitment){case"confirmed":case"finalized":case"processed":a=t.commitment;break;default:a="finalized"}let c;switch(r==null?void 0:r.preflightCommitment){case"confirmed":case"finalized":case"processed":c=r.preflightCommitment;break;case void 0:c=a;break;default:c="finalized"}return(c==="finalized"?2:c==="confirmed"?1:0)<(a==="finalized"?2:a==="confirmed"?1:0)?c:a};var o=s;if(Wn in _e(this,ht,"f").features){const a=US(_e(this,ht,"f").currentAuthorization.chain),[c]=(yield _e(this,ht,"f").features[Wn].signAndSendTransaction({account:i,transaction:e.serialize(),chain:a,options:r?{skipPreflight:r.skipPreflight,maxRetries:r.maxRetries}:void 0})).map(l=>Kh(l.signature));return c}else{const[a]=yield _e(this,on,"m",xu).call(this,[e]);if(U6(a))return yield t.sendTransaction(a);{const c=a.serialize();return yield t.sendRawTransaction(c,Object.assign(Object.assign({},r),{preflightCommitment:s()}))}}}catch(s){throw new io(s==null?void 0:s.message,s)}}))})}signTransaction(e){return Qe(this,void 0,void 0,function*(){return yield _e(this,on,"m",qi).call(this,()=>Qe(this,void 0,void 0,function*(){const[t]=yield _e(this,on,"m",xu).call(this,[e]);return t}))})}signAllTransactions(e){return Qe(this,void 0,void 0,function*(){return yield _e(this,on,"m",qi).call(this,()=>Qe(this,void 0,void 0,function*(){return yield _e(this,on,"m",xu).call(this,e)}))})}}ht=new WeakMap,Ji=new WeakMap,yi=new WeakMap,Iu=new WeakMap,hi=new WeakMap,Bo=new WeakMap,x0=new WeakMap,on=new WeakSet,T0=function(e=!1){return Qe(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield _e(this,on,"m",qi).call(this,()=>Qe(this,void 0,void 0,function*(){if(_e(this,yi,"f")!==He.Installed&&_e(this,yi,"f")!==He.Loadable)throw new ba;Qn(this,Ji,!0);try{yield _e(this,ht,"f").features[I0].connect({silent:e})}catch(t){throw new Zc(t instanceof Error&&t.message||"Unknown error",t)}finally{Qn(this,Ji,!1)}}))})},DS=function(){_e(this,yi,"f")!==He.Installed&&this.emit("readyStateChange",Qn(this,yi,He.Installed))},_d=function(){if(!_e(this,ht,"f").isAuthorized||!_e(this,hi,"f"))throw new Vn;return _e(this,hi,"f")},xu=function(e){return Qe(this,void 0,void 0,function*(){const t=_e(this,on,"m",_d).call(this);try{if(pt in _e(this,ht,"f").features)return _e(this,ht,"f").features[pt].signTransaction(...e.map(r=>({account:t,transaction:r.serialize()}))).then(r=>r.map(i=>{const o=i.signedTransaction,a=o[0]*D6+1;return tf.deserializeMessageVersion(o.slice(a,o.length))==="legacy"?Me.from(o):va.deserialize(o)}));throw new Error("Connected wallet does not support signing transactions")}catch(r){throw new bi(r==null?void 0:r.message,r)}})},qi=function(e){return Qe(this,void 0,void 0,function*(){try{return yield e()}catch(t){throw this.emit("error",t),t}})};class F6 extends z6{constructor(e){var t;const r=US((t=e.chain)!==null&&t!==void 0?t:e.cluster);super(new A6({appIdentity:e.appIdentity,authorizationCache:{set:e.authorizationResultCache.set,get:()=>Qe(this,void 0,void 0,function*(){return yield e.authorizationResultCache.get()}),clear:e.authorizationResultCache.clear},chains:[r],chainSelector:M6(),onWalletNotFound:()=>Qe(this,void 0,void 0,function*(){e.onWalletNotFound(this)})}),{addressSelector:e.addressSelector,chain:r})}}class W6 extends F6{}function H6(){return{select(n){return Qe(this,void 0,void 0,function*(){return n[0]})}}}function j6(){return O6()}function K6(n){return Qe(this,void 0,void 0,function*(){return N6()})}function V6(){return K6}function $6(n,e){if(n===e)return!0;const t=n.length;if(t!==e.length)return!1;for(let r=0;r<t;r++)if(n[r]!==e[r])return!1;return!0}function G6(n){if(n.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<n.length;l++){const u=n.charAt(l),p=u.charCodeAt(0);if(e[p]!==255)throw new TypeError(u+" is ambiguous");e[p]=l}const t=n.length,r=n.charAt(0),i=Math.log(t)/Math.log(256),o=Math.log(256)/Math.log(t);function s(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,p=0,g=0;const h=l.length;for(;g!==h&&l[g]===0;)g++,u++;const w=(h-g)*o+1>>>0,k=new Uint8Array(w);for(;g!==h;){let b=l[g],_=0;for(let x=w-1;(b!==0||_<p)&&x!==-1;x--,_++)b+=256*k[x]>>>0,k[x]=b%t>>>0,b=b/t>>>0;if(b!==0)throw new Error("Non-zero carry");p=_,g++}let A=w-p;for(;A!==w&&k[A]===0;)A++;let E=r.repeat(u);for(;A<w;++A)E+=n.charAt(k[A]);return E}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,p=0,g=0;for(;l[u]===r;)p++,u++;const h=(l.length-u)*i+1>>>0,w=new Uint8Array(h);for(;u<l.length;){const b=l.charCodeAt(u);if(b>255)return;let _=e[b];if(_===255)return;let x=0;for(let L=h-1;(_!==0||x<g)&&L!==-1;L--,x++)_+=t*w[L]>>>0,w[L]=_%256>>>0,_=_/256>>>0;if(_!==0)throw new Error("Non-zero carry");g=x,u++}let k=h-g;for(;k!==h&&w[k]===0;)k++;const A=new Uint8Array(p+(h-k));let E=p;for(;k!==h;)A[E++]=w[k++];return A}function c(l){const u=a(l);if(u)return u;throw new Error("Non-base"+t+" character")}return{encode:s,decodeUnsafe:a,decode:c}}var q6="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const Y6=G6(q6);var ye=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},qt=function(n,e,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t},hn,Pn,Yo,Zo,Lo,cc,Ed,ze,bd,C0,Cu,N0,_c,O0,Xw,Qw,Jw,e1;class Z6 extends aS{get name(){return ye(this,ze,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return ye(this,ze,"f").icon}get readyState(){return ye(this,bd,"f")}get publicKey(){return ye(this,Yo,"f")}get connecting(){return ye(this,Zo,"f")}get supportedTransactionVersions(){return ye(this,Ed,"f")}get wallet(){return ye(this,ze,"f")}get standard(){return!0}constructor({wallet:e}){super(),hn.add(this),Pn.set(this,void 0),Yo.set(this,void 0),Zo.set(this,void 0),Lo.set(this,void 0),cc.set(this,void 0),Ed.set(this,void 0),ze.set(this,void 0),bd.set(this,typeof window>"u"||typeof document>"u"?He.Unsupported:He.Installed),O0.set(this,t=>{if("accounts"in t){const r=ye(this,ze,"f").accounts[0];ye(this,Pn,"f")&&!ye(this,Lo,"f")&&r!==ye(this,Pn,"f")&&(r?ye(this,hn,"m",Cu).call(this,r):(this.emit("error",new oS),ye(this,hn,"m",N0).call(this)))}"features"in t&&ye(this,hn,"m",_c).call(this)}),qt(this,ze,e,"f"),qt(this,Pn,null,"f"),qt(this,Yo,null,"f"),qt(this,Zo,!1,"f"),qt(this,Lo,!1,"f"),qt(this,cc,ye(this,ze,"f").features[Rm].on("change",ye(this,O0,"f")),"f"),ye(this,hn,"m",_c).call(this)}destroy(){qt(this,Pn,null,"f"),qt(this,Yo,null,"f"),qt(this,Zo,!1,"f"),qt(this,Lo,!1,"f");const e=ye(this,cc,"f");e&&(qt(this,cc,null,"f"),e())}async autoConnect(){return ye(this,hn,"m",C0).call(this,{silent:!0})}async connect(){return ye(this,hn,"m",C0).call(this)}async disconnect(){if(l0 in ye(this,ze,"f").features)try{qt(this,Lo,!0,"f"),await ye(this,ze,"f").features[l0].disconnect()}catch(e){this.emit("error",new sS(e==null?void 0:e.message,e))}finally{qt(this,Lo,!1,"f")}ye(this,hn,"m",N0).call(this)}async sendTransaction(e,t,r={}){try{const i=ye(this,Pn,"f");if(!i)throw new Vn;let o;if(Wn in ye(this,ze,"f").features)if(i.features.includes(Wn))o=Wn;else if(pt in ye(this,ze,"f").features&&i.features.includes(pt))o=pt;else throw new $o;else if(pt in ye(this,ze,"f").features){if(!i.features.includes(pt))throw new $o;o=pt}else throw new nc;const s=IM(t.rpcEndpoint);if(!i.chains.includes(s))throw new io;try{const{signers:a,...c}=r;let l;if(oo(e)?(a!=null&&a.length&&e.sign(a),l=e.serialize()):(e=await this.prepareTransaction(e,t,c),a!=null&&a.length&&e.partialSign(...a),l=new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))),o===Wn){const[u]=await ye(this,ze,"f").features[Wn].signAndSendTransaction({account:i,chain:s,transaction:l,options:{preflightCommitment:zh(c.preflightCommitment||t.commitment),skipPreflight:c.skipPreflight,maxRetries:c.maxRetries,minContextSlot:c.minContextSlot}});return Y6.encode(u.signature)}else{const[u]=await ye(this,ze,"f").features[pt].signTransaction({account:i,chain:s,transaction:l,options:{preflightCommitment:zh(c.preflightCommitment||t.commitment),minContextSlot:c.minContextSlot}});return await t.sendRawTransaction(u.signedTransaction,{...c,preflightCommitment:zh(c.preflightCommitment||t.commitment)})}}catch(a){throw a instanceof Tn?a:new io(a==null?void 0:a.message,a)}}catch(i){throw this.emit("error",i),i}}}Pn=new WeakMap,Yo=new WeakMap,Zo=new WeakMap,Lo=new WeakMap,cc=new WeakMap,Ed=new WeakMap,ze=new WeakMap,bd=new WeakMap,O0=new WeakMap,hn=new WeakSet,C0=async function(e){try{if(this.connected||this.connecting)return;if(ye(this,bd,"f")!==He.Installed)throw new ba;if(qt(this,Zo,!0,"f"),!ye(this,ze,"f").accounts.length)try{await ye(this,ze,"f").features[Sm].connect(e)}catch(r){throw new Zc(r==null?void 0:r.message,r)}const t=ye(this,ze,"f").accounts[0];if(!t)throw new $o;ye(this,hn,"m",Cu).call(this,t)}catch(t){throw this.emit("error",t),t}finally{qt(this,Zo,!1,"f")}},Cu=function(e){let t;try{t=new Z(e.address)}catch(r){throw new gd(r==null?void 0:r.message,r)}qt(this,Pn,e,"f"),qt(this,Yo,t,"f"),ye(this,hn,"m",_c).call(this),this.emit("connect",t)},N0=function(){qt(this,Pn,null,"f"),qt(this,Yo,null,"f"),ye(this,hn,"m",_c).call(this),this.emit("disconnect")},_c=function(){var t,r;const e=Wn in ye(this,ze,"f").features?ye(this,ze,"f").features[Wn].supportedTransactionVersions:ye(this,ze,"f").features[pt].supportedTransactionVersions;qt(this,Ed,$6(e,["legacy"])?null:new Set(e),"f"),pt in ye(this,ze,"f").features&&((t=ye(this,Pn,"f"))!=null&&t.features.includes(pt))?(this.signTransaction=ye(this,hn,"m",Xw),this.signAllTransactions=ye(this,hn,"m",Qw)):(delete this.signTransaction,delete this.signAllTransactions),Qi in ye(this,ze,"f").features&&((r=ye(this,Pn,"f"))!=null&&r.features.includes(Qi))?this.signMessage=ye(this,hn,"m",Jw):delete this.signMessage,ns in ye(this,ze,"f").features?this.signIn=ye(this,hn,"m",e1):delete this.signIn},Xw=async function(e){try{const t=ye(this,Pn,"f");if(!t)throw new Vn;if(!(pt in ye(this,ze,"f").features))throw new nc;if(!t.features.includes(pt))throw new $o;try{const i=(await ye(this,ze,"f").features[pt].signTransaction({account:t,transaction:oo(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return oo(e)?va.deserialize(i):Me.from(i)}catch(r){throw r instanceof Tn?r:new bi(r==null?void 0:r.message,r)}}catch(t){throw this.emit("error",t),t}},Qw=async function(e){try{const t=ye(this,Pn,"f");if(!t)throw new Vn;if(!(pt in ye(this,ze,"f").features))throw new nc;if(!t.features.includes(pt))throw new $o;try{const r=await ye(this,ze,"f").features[pt].signTransaction(...e.map(i=>({account:t,transaction:oo(i)?i.serialize():new Uint8Array(i.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return e.map((i,o)=>{const s=r[o].signedTransaction;return oo(i)?va.deserialize(s):Me.from(s)})}catch(r){throw new bi(r==null?void 0:r.message,r)}}catch(t){throw this.emit("error",t),t}},Jw=async function(e){try{const t=ye(this,Pn,"f");if(!t)throw new Vn;if(!(Qi in ye(this,ze,"f").features))throw new nc;if(!t.features.includes(Qi))throw new $o;try{return(await ye(this,ze,"f").features[Qi].signMessage({account:t,message:e}))[0].signature}catch(r){throw new bm(r==null?void 0:r.message,r)}}catch(t){throw this.emit("error",t),t}},e1=async function(e={}){try{if(!(ns in ye(this,ze,"f").features))throw new nc;let t;try{[t]=await ye(this,ze,"f").features[ns].signIn(e)}catch(r){throw new Ww(r==null?void 0:r.message,r)}if(!t)throw new Ww;return ye(this,hn,"m",Cu).call(this,t.account),t}catch(t){throw this.emit("error",t),t}};const X6=M3;var Q6=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},J6=function(n,e,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t},Nu;let er;const hf=new Set;function e4(n){Ec=void 0,hf.add(n)}function t4(n){Ec=void 0,hf.delete(n)}const Ys={};function n4(){if(er||(er=Object.freeze({register:t1,get:r4,on:i4}),typeof window>"u"))return er;const n=Object.freeze({register:t1});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(n))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new o4(n))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return er}function t1(...n){var e;return n=n.filter(t=>!hf.has(t)),n.length?(n.forEach(t=>e4(t)),(e=Ys.register)==null||e.forEach(t=>M0(()=>t(...n))),function(){var r;n.forEach(i=>t4(i)),(r=Ys.unregister)==null||r.forEach(i=>M0(()=>i(...n)))}):()=>{}}let Ec;function r4(){return Ec||(Ec=[...hf]),Ec}function i4(n,e){var t;return(t=Ys[n])!=null&&t.push(e)||(Ys[n]=[e]),function(){var i;Ys[n]=(i=Ys[n])==null?void 0:i.filter(o=>e!==o)}}function M0(n){try{n()}catch(e){console.error(e)}}class o4 extends Event{get detail(){return Q6(this,Nu,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),Nu.set(this,void 0),J6(this,Nu,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}Nu=new WeakMap;function s4(){if(er||(er=n4(),typeof window>"u"))return er;const n=window.navigator.wallets||[];if(!Array.isArray(n))return console.error("window.navigator.wallets is not an array"),er;const{register:e}=er,t=(...r)=>r.forEach(i=>M0(()=>i({register:e})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:t})})}catch{return console.error("window.navigator.wallets could not be set"),er}return t(...n),er}function a4(n){const e=n1(()=>new Set),{get:t,on:r}=n1(()=>s4()),[i,o]=Q.useState(()=>r1(t()));Q.useEffect(()=>{const a=[r("register",(...c)=>o(l=>[...l,...r1(c)])),r("unregister",(...c)=>o(l=>l.filter(u=>c.some(p=>p===u.wallet))))];return()=>a.forEach(c=>c())},[r]);const s=c4(i);return Q.useEffect(()=>{if(!s)return;const a=new Set(i);new Set(s.filter(l=>!a.has(l))).forEach(l=>l.destroy())},[s,i]),Q.useEffect(()=>()=>i.forEach(a=>a.destroy()),[]),Q.useMemo(()=>[...i,...n.filter(({name:a})=>i.some(c=>c.name===a)?(e.has(a)||(e.add(a),console.warn(`${a} was registered as a Standard Wallet. The Wallet Adapter for ${a} can be removed from your app.`)),!1):!0)],[i,n,e])}function n1(n){const e=Q.useRef(void 0);return e.current===void 0&&(e.current={value:n()}),e.current.value}function c4(n){const e=Q.useRef(void 0);return Q.useEffect(()=>{e.current=n}),e.current}function r1(n){return n.filter(X6).map(e=>new Z6({wallet:e}))}var aa;(function(n){n[n.DESKTOP_WEB=0]="DESKTOP_WEB",n[n.MOBILE_WEB=1]="MOBILE_WEB"})(aa||(aa={}));function l4(n){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(n)}function u4({adapters:n,userAgentString:e}){return n.some(t=>t.name!==Tu&&t.readyState===He.Installed)?aa.DESKTOP_WEB:e&&/android/i.test(e)&&!l4(e)?aa.MOBILE_WEB:aa.DESKTOP_WEB}function d4(n){return n?/devnet/i.test(n)?"devnet":/testnet/i.test(n)?"testnet":"mainnet-beta":"mainnet-beta"}function f4({children:n,wallets:e,adapter:t,isUnloadingRef:r,onAutoConnectRequest:i,onConnectError:o,onError:s,onSelectWallet:a}){const c=Q.useRef(!1),[l,u]=Q.useState(!1),p=Q.useRef(!1),[g,h]=Q.useState(!1),[w,k]=Q.useState(()=>(t==null?void 0:t.publicKey)??null),[A,E]=Q.useState(()=>(t==null?void 0:t.connected)??!1),b=Q.useRef(s);Q.useEffect(()=>(b.current=s,()=>{b.current=void 0}),[s]);const _=Q.useRef((f,S)=>(r.current||(b.current?b.current(f,S):(console.error(f,S),f instanceof ba&&typeof window<"u"&&S&&window.open(S.url,"_blank"))),f)),[x,L]=Q.useState(()=>e.map(f=>({adapter:f,readyState:f.readyState})).filter(({readyState:f})=>f!==He.Unsupported));Q.useEffect(()=>{L(S=>e.map((T,I)=>{const O=S[I];return O&&O.adapter===T&&O.readyState===T.readyState?O:{adapter:T,readyState:T.readyState}}).filter(({readyState:T})=>T!==He.Unsupported));function f(S){L(T=>{const I=T.findIndex(({adapter:P})=>P===this);if(I===-1)return T;const{adapter:O}=T[I];return[...T.slice(0,I),{adapter:O,readyState:S},...T.slice(I+1)].filter(({readyState:P})=>P!==He.Unsupported)})}return e.forEach(S=>S.on("readyStateChange",f,S)),()=>{e.forEach(S=>S.off("readyStateChange",f,S))}},[t,e]);const U=Q.useMemo(()=>x.find(f=>f.adapter===t)??null,[t,x]);Q.useEffect(()=>{if(!t)return;const f=I=>{k(I),c.current=!1,u(!1),E(!0),p.current=!1,h(!1)},S=()=>{r.current||(k(null),c.current=!1,u(!1),E(!1),p.current=!1,h(!1))},T=I=>{_.current(I,t)};return t.on("connect",f),t.on("disconnect",S),t.on("error",T),()=>{t.off("connect",f),t.off("disconnect",S),t.off("error",T),S()}},[t,r]);const D=Q.useRef(!1);Q.useEffect(()=>()=>{D.current=!1},[t]),Q.useEffect(()=>{D.current||c.current||A||!i||!((U==null?void 0:U.readyState)===He.Installed||(U==null?void 0:U.readyState)===He.Loadable)||(c.current=!0,u(!0),D.current=!0,async function(){try{await i()}catch{o()}finally{u(!1),c.current=!1}}())},[A,i,o,U]);const W=Q.useCallback(async(f,S,T)=>{if(!t)throw _.current(new Hw);if(!A)throw _.current(new Vn,t);return await t.sendTransaction(f,S,T)},[t,A]),z=Q.useMemo(()=>t&&"signTransaction"in t?async f=>{if(!A)throw _.current(new Vn,t);return await t.signTransaction(f)}:void 0,[t,A]),H=Q.useMemo(()=>t&&"signAllTransactions"in t?async f=>{if(!A)throw _.current(new Vn,t);return await t.signAllTransactions(f)}:void 0,[t,A]),q=Q.useMemo(()=>t&&"signMessage"in t?async f=>{if(!A)throw _.current(new Vn,t);return await t.signMessage(f)}:void 0,[t,A]),$=Q.useMemo(()=>t&&"signIn"in t?async f=>await t.signIn(f):void 0,[t]),R=Q.useCallback(async()=>{if(c.current||p.current||U!=null&&U.adapter.connected)return;if(!U)throw _.current(new Hw);const{adapter:f,readyState:S}=U;if(!(S===He.Installed||S===He.Loadable))throw _.current(new ba,f);c.current=!0,u(!0);try{await f.connect()}catch(T){throw o(),T}finally{u(!1),c.current=!1}},[o,U]),d=Q.useCallback(async()=>{if(!p.current&&t){p.current=!0,h(!0);try{await t.disconnect()}finally{h(!1),p.current=!1}}},[t]);return re.createElement(lS.Provider,{value:{autoConnect:!!i,wallets:x,wallet:U,publicKey:w,connected:A,connecting:l,disconnecting:g,select:a,connect:R,disconnect:d,sendTransaction:W,signTransaction:z,signAllTransactions:H,signMessage:q,signIn:$}},n)}let Vh;function h4(){var n;return Vh===void 0&&(Vh=((n=globalThis.navigator)==null?void 0:n.userAgent)??null),Vh}function i1(n){const e=h4();return u4({adapters:n,userAgentString:e})===aa.MOBILE_WEB}function p4(){const n=globalThis.location;if(n)return`${n.protocol}//${n.host}`}function g4({children:n,wallets:e,autoConnect:t,localStorageKey:r="walletName",onError:i}){const{connection:o}=Em(),s=a4(e),a=Q.useMemo(()=>{if(!i1(s))return null;const b=s.find(_=>_.name===Tu);return b||new W6({addressSelector:H6(),appIdentity:{uri:p4()},authorizationResultCache:j6(),cluster:d4(o==null?void 0:o.rpcEndpoint),onWalletNotFound:V6()})},[s,o==null?void 0:o.rpcEndpoint]),c=Q.useMemo(()=>a==null||s.indexOf(a)!==-1?s:[a,...s],[s,a]),[l,u]=L3(r,null),p=Q.useMemo(()=>c.find(b=>b.name===l)??null,[c,l]),g=Q.useCallback(b=>{l!==b&&(p&&p.name!==Tu&&p.disconnect(),u(b))},[p,u,l]);Q.useEffect(()=>{if(!p)return;function b(){k.current||u(null)}return p.on("disconnect",b),()=>{p.off("disconnect",b)}},[p,s,u,l]);const h=Q.useRef(!1),w=Q.useMemo(()=>{if(!(!t||!p))return async()=>{(t===!0||await t(p))&&(h.current?await p.connect():await p.autoConnect())}},[t,p]),k=Q.useRef(!1);Q.useEffect(()=>{if(l===Tu&&i1(s)){k.current=!1;return}function b(){k.current=!0}return window.addEventListener("beforeunload",b),()=>{window.removeEventListener("beforeunload",b)}},[s,l]);const A=Q.useCallback(()=>{p&&g(null)},[p,g]),E=Q.useCallback(b=>{h.current=!0,g(b)},[g]);return re.createElement(f4,{wallets:c,adapter:p,isUnloadingRef:k,onAutoConnectRequest:w,onConnectError:A,onError:i,onSelectWallet:E},n)}const zS={setVisible(n){console.error(FS("call","setVisible"))},visible:!1};Object.defineProperty(zS,"visible",{get(){return console.error(FS("read","visible")),!1}});function FS(n,e){return`You have tried to  ${n} "${e}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const WS=Q.createContext(zS);function HS(){return Q.useContext(WS)}function m4({onSelectWallet:n}){const{connect:e,connected:t,connecting:r,disconnect:i,disconnecting:o,publicKey:s,select:a,wallet:c,wallets:l}=Bi();let u;r?u="connecting":t?u="connected":o?u="disconnecting":c?u="has-wallet":u="no-wallet";const p=Q.useCallback(()=>{e().catch(()=>{})},[e]),g=Q.useCallback(()=>{i().catch(()=>{})},[i]),h=Q.useCallback(()=>{n({onSelectWallet:a,wallets:l})},[n,a,l]);return{buttonState:u,onConnect:u==="has-wallet"?p:void 0,onDisconnect:u!=="disconnecting"&&u!=="no-wallet"?g:void 0,onSelectWallet:h,publicKey:s??void 0,walletIcon:c==null?void 0:c.adapter.icon,walletName:c==null?void 0:c.adapter.name}}const jS=n=>re.createElement("button",{className:`wallet-adapter-button ${n.className||""}`,disabled:n.disabled,style:n.style,onClick:n.onClick,tabIndex:n.tabIndex||0,type:"button"},n.startIcon&&re.createElement("i",{className:"wallet-adapter-button-start-icon"},n.startIcon),n.children,n.endIcon&&re.createElement("i",{className:"wallet-adapter-button-end-icon"},n.endIcon)),KS=({wallet:n,...e})=>n&&re.createElement("img",{src:n.adapter.icon,alt:`${n.adapter.name} icon`,...e});function y4({walletIcon:n,walletName:e,...t}){return re.createElement(jS,{...t,className:"wallet-adapter-button-trigger",startIcon:n&&e?re.createElement(KS,{wallet:{adapter:{icon:n,name:e}}}):void 0})}function w4({children:n,labels:e,...t}){const{setVisible:r}=HS(),{buttonState:i,onConnect:o,onDisconnect:s,publicKey:a,walletIcon:c,walletName:l}=m4({onSelectWallet(){r(!0)}}),[u,p]=Q.useState(!1),[g,h]=Q.useState(!1),w=Q.useRef(null);Q.useEffect(()=>{const A=E=>{const b=w.current;!b||b.contains(E.target)||h(!1)};return document.addEventListener("mousedown",A),document.addEventListener("touchstart",A),()=>{document.removeEventListener("mousedown",A),document.removeEventListener("touchstart",A)}},[]);const k=Q.useMemo(()=>{if(n)return n;if(a){const A=a.toBase58();return A.slice(0,4)+".."+A.slice(-4)}else return i==="connecting"||i==="has-wallet"?e[i]:e["no-wallet"]},[i,n,e,a]);return re.createElement("div",{className:"wallet-adapter-dropdown"},re.createElement(y4,{...t,"aria-expanded":g,style:{pointerEvents:g?"none":"auto",...t.style},onClick:()=>{switch(i){case"no-wallet":r(!0);break;case"has-wallet":o&&o();break;case"connected":h(!0);break}},walletIcon:c,walletName:l},k),re.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${g&&"wallet-adapter-dropdown-list-active"}`,ref:w,role:"menu"},a?re.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(a.toBase58()),p(!0),setTimeout(()=>p(!1),400)},role:"menuitem"},u?e.copied:e["copy-address"]):null,re.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{r(!0),h(!1)},role:"menuitem"},e["change-wallet"]),s?re.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{s(),h(!1)},role:"menuitem"},e.disconnect):null))}const o1=({id:n,children:e,expanded:t=!1})=>{const r=Q.useRef(null),i=Q.useRef(!0),o="height 250ms ease-out",s=()=>{const c=r.current;c&&requestAnimationFrame(()=>{c.style.height=c.scrollHeight+"px"})},a=()=>{const c=r.current;c&&requestAnimationFrame(()=>{c.style.height=c.offsetHeight+"px",c.style.overflow="hidden",requestAnimationFrame(()=>{c.style.height="0"})})};return Q.useLayoutEffect(()=>{t?s():a()},[t]),Q.useLayoutEffect(()=>{const c=r.current;if(!c)return;function l(){c&&(c.style.overflow=t?"initial":"hidden",t&&(c.style.height="auto"))}function u(p){c&&p.target===c&&p.propertyName==="height"&&l()}return i.current&&(l(),i.current=!1),c.addEventListener("transitionend",u),()=>c.removeEventListener("transitionend",u)},[t]),re.createElement("div",{className:"wallet-adapter-collapse",id:n,ref:r,role:"region",style:{height:0,transition:i.current?void 0:o}},e)},$h=({handleClick:n,tabIndex:e,wallet:t})=>re.createElement("li",null,re.createElement(jS,{onClick:n,startIcon:re.createElement(KS,{wallet:t}),tabIndex:e},t.adapter.name,t.readyState===He.Installed&&re.createElement("span",null,"Detected"))),v4=()=>re.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},re.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),re.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),re.createElement("g",{clipPath:"url(#clip0_880_5115)"},re.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),re.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),re.createElement("defs",null,re.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},re.createElement("stop",{stopColor:"#9945FF"}),re.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),re.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),re.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),re.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),re.createElement("stop",{offset:"1",stopColor:"#00D18C"})),re.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},re.createElement("stop",{stopColor:"#9945FF"}),re.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),re.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),re.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),re.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),re.createElement("stop",{offset:"1",stopColor:"#00D18C"})),re.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},re.createElement("stop",{stopColor:"#9945FF"}),re.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),re.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),re.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),re.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),re.createElement("stop",{offset:"1",stopColor:"#00D18C"})),re.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},re.createElement("stop",{stopColor:"#9945FF"}),re.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),re.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),re.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),re.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),re.createElement("stop",{offset:"1",stopColor:"#00D18C"})),re.createElement("clipPath",{id:"clip0_880_5115"},re.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),_4=({className:n="",container:e="body"})=>{const t=Q.useRef(null),{wallets:r,select:i}=Bi(),{setVisible:o}=HS(),[s,a]=Q.useState(!1),[c,l]=Q.useState(!1),[u,p]=Q.useState(null),[g,h]=Q.useMemo(()=>{const _=[],x=[];for(const L of r)L.readyState===He.Installed?_.push(L):x.push(L);return _.length?[_,x]:[x,[]]},[r]),w=Q.useCallback(()=>{l(!1),setTimeout(()=>o(!1),150)},[o]),k=Q.useCallback(_=>{_.preventDefault(),w()},[w]),A=Q.useCallback((_,x)=>{i(x),k(_)},[i,k]),E=Q.useCallback(()=>a(!s),[s]),b=Q.useCallback(_=>{const x=t.current;if(!x)return;const L=x.querySelectorAll("button"),U=L[0],D=L[L.length-1];_.shiftKey?document.activeElement===U&&(D.focus(),_.preventDefault()):document.activeElement===D&&(U.focus(),_.preventDefault())},[t]);return Q.useLayoutEffect(()=>{const _=L=>{L.key==="Escape"?w():L.key==="Tab"&&b(L)},{overflow:x}=window.getComputedStyle(document.body);return setTimeout(()=>l(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",_,!1),()=>{document.body.style.overflow=x,window.removeEventListener("keydown",_,!1)}},[w,b]),Q.useLayoutEffect(()=>p(document.querySelector(e)),[e]),u&&cE.createPortal(re.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${c&&"wallet-adapter-modal-fade-in"} ${n}`,ref:t,role:"dialog"},re.createElement("div",{className:"wallet-adapter-modal-container"},re.createElement("div",{className:"wallet-adapter-modal-wrapper"},re.createElement("button",{onClick:k,className:"wallet-adapter-modal-button-close"},re.createElement("svg",{width:"14",height:"14"},re.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),g.length?re.createElement(re.Fragment,null,re.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),re.createElement("ul",{className:"wallet-adapter-modal-list"},g.map(_=>re.createElement($h,{key:_.adapter.name,handleClick:x=>A(x,_.adapter.name),wallet:_})),h.length?re.createElement(o1,{expanded:s,id:"wallet-adapter-modal-collapse"},h.map(_=>re.createElement($h,{key:_.adapter.name,handleClick:x=>A(x,_.adapter.name),tabIndex:s?0:-1,wallet:_}))):null),h.length?re.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:E,tabIndex:0},re.createElement("span",null,s?"Less ":"More ","options"),re.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${s?"wallet-adapter-modal-list-more-icon-rotate":""}`},re.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):re.createElement(re.Fragment,null,re.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),re.createElement("div",{className:"wallet-adapter-modal-middle"},re.createElement(v4,null)),h.length?re.createElement(re.Fragment,null,re.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:E,tabIndex:0},re.createElement("span",null,s?"Hide ":"Already have a wallet? View ","options"),re.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${s?"wallet-adapter-modal-list-more-icon-rotate":""}`},re.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),re.createElement(o1,{expanded:s,id:"wallet-adapter-modal-collapse"},re.createElement("ul",{className:"wallet-adapter-modal-list"},h.map(_=>re.createElement($h,{key:_.adapter.name,handleClick:x=>A(x,_.adapter.name),tabIndex:s?0:-1,wallet:_}))))):null))),re.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:k})),u)},E4=({children:n,...e})=>{const[t,r]=Q.useState(!1);return re.createElement(WS.Provider,{value:{visible:t,setVisible:r}},n,t&&re.createElement(_4,{...e}))},b4={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function S4(n){return re.createElement(w4,{...n,labels:b4})}const R4="Phantom";class A4 extends cS{constructor(e={}){super(),this.name=R4,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?He.Unsupported:He.NotDetected,this._disconnected=()=>{const t=this._wallet;t&&(t.off("disconnect",this._disconnected),t.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new oS),this.emit("disconnect"))},this._accountChanged=t=>{const r=this._publicKey;if(r){try{t=new Z(t.toBytes())}catch(i){this.emit("error",new gd(i==null?void 0:i.message,i));return}r.equals(t)||(this._publicKey=t,this.emit("connect",t))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==He.Unsupported&&(C3()?(this._readyState=He.Loadable,this.emit("readyStateChange",this._readyState)):T3(()=>{var t,r,i;return(r=(t=window.phantom)==null?void 0:t.solana)!=null&&r.isPhantom||(i=window.solana)!=null&&i.isPhantom?(this._readyState=He.Installed,this.emit("readyStateChange",this._readyState),!0):!1}))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===He.Installed&&await this.connect()}async connect(){var e;try{if(this.connected||this.connecting)return;if(this.readyState===He.Loadable){const i=encodeURIComponent(window.location.href),o=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${i}?ref=${o}`;return}if(this.readyState!==He.Installed)throw new ba;this._connecting=!0;const t=((e=window.phantom)==null?void 0:e.solana)||window.solana;if(!t.isConnected)try{await t.connect()}catch(i){throw new Zc(i==null?void 0:i.message,i)}if(!t.publicKey)throw new $o;let r;try{r=new Z(t.publicKey.toBytes())}catch(i){throw new gd(i==null?void 0:i.message,i)}t.on("disconnect",this._disconnected),t.on("accountChanged",this._accountChanged),this._wallet=t,this._publicKey=r,this.emit("connect",r)}catch(t){throw this.emit("error",t),t}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(t){this.emit("error",new sS(t==null?void 0:t.message,t))}}this.emit("disconnect")}async sendTransaction(e,t,r={}){try{const i=this._wallet;if(!i)throw new Vn;try{const{signers:o,...s}=r;oo(e)?o!=null&&o.length&&e.sign(o):(e=await this.prepareTransaction(e,t,s),o!=null&&o.length&&e.partialSign(...o)),s.preflightCommitment=s.preflightCommitment||t.commitment;const{signature:a}=await i.signAndSendTransaction(e,s);return a}catch(o){throw o instanceof Tn?o:new io(o==null?void 0:o.message,o)}}catch(i){throw this.emit("error",i),i}}async signTransaction(e){try{const t=this._wallet;if(!t)throw new Vn;try{return await t.signTransaction(e)||e}catch(r){throw new bi(r==null?void 0:r.message,r)}}catch(t){throw this.emit("error",t),t}}async signAllTransactions(e){try{const t=this._wallet;if(!t)throw new Vn;try{return await t.signAllTransactions(e)||e}catch(r){throw new bi(r==null?void 0:r.message,r)}}catch(t){throw this.emit("error",t),t}}async signMessage(e){try{const t=this._wallet;if(!t)throw new Vn;try{const{signature:r}=await t.signMessage(e);return r}catch(r){throw new bm(r==null?void 0:r.message,r)}}catch(t){throw this.emit("error",t),t}}}const s1=globalThis||void 0||self;var Cm={exports:{}};const k4=/[\p{Lu}]/u,I4=/[\p{Ll}]/u,a1=/^[\p{Lu}](?![\p{Lu}])/gu,VS=/([\p{Alpha}\p{N}_]|$)/u,$S=/[_.\- ]+/,x4=new RegExp("^"+$S.source),c1=new RegExp($S.source+VS.source,"gu"),l1=new RegExp("\\d+"+VS.source,"gu"),T4=(n,e,t)=>{let r=!1,i=!1,o=!1;for(let s=0;s<n.length;s++){const a=n[s];r&&k4.test(a)?(n=n.slice(0,s)+"-"+n.slice(s),r=!1,o=i,i=!0,s++):i&&o&&I4.test(a)?(n=n.slice(0,s-1)+"-"+n.slice(s-1),o=i,i=!1,r=!0):(r=e(a)===a&&t(a)!==a,o=i,i=t(a)===a&&e(a)!==a)}return n},C4=(n,e)=>(a1.lastIndex=0,n.replace(a1,t=>e(t))),N4=(n,e)=>(c1.lastIndex=0,l1.lastIndex=0,n.replace(c1,(t,r)=>e(r)).replace(l1,t=>e(t))),GS=(n,e)=>{if(!(typeof n=="string"||Array.isArray(n)))throw new TypeError("Expected the input to be `string | string[]`");if(e={pascalCase:!1,preserveConsecutiveUppercase:!1,...e},Array.isArray(n)?n=n.map(o=>o.trim()).filter(o=>o.length).join("-"):n=n.trim(),n.length===0)return"";const t=e.locale===!1?o=>o.toLowerCase():o=>o.toLocaleLowerCase(e.locale),r=e.locale===!1?o=>o.toUpperCase():o=>o.toLocaleUpperCase(e.locale);return n.length===1?e.pascalCase?r(n):t(n):(n!==t(n)&&(n=T4(n,t,r)),n=n.replace(x4,""),e.preserveConsecutiveUppercase?n=C4(n,t):n=t(n),e.pascalCase&&(n=r(n.charAt(0))+n.slice(1)),N4(n,r))};Cm.exports=GS;Cm.exports.default=GS;var O4=Cm.exports;const M4=Oi(O4);var Ie={},fe={};let $e=class{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,r){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}};fe.Layout=$e;function Nm(n,e){return e.property?n+"["+e.property+"]":n}fe.nameWithProperty=Nm;function B4(n,e){if(typeof n!="function")throw new TypeError("Class must be constructor");if(n.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof $e))throw new TypeError("layout must be a Layout");if(e.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");n.layout_=e,e.boundConstructor_=n,e.makeDestinationObject=()=>new n,Object.defineProperty(n.prototype,"encode",{value:function(t,r){return e.encode(this,t,r)},writable:!0}),Object.defineProperty(n,"decode",{value:function(t,r){return e.decode(t,r)},writable:!0})}fe.bindConstructorLayout=B4;let Hn=class extends $e{isCount(){throw new Error("ExternalLayout is abstract")}};class qS extends Hn{constructor(e,t){if(e===void 0&&(e=1),!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t){t===void 0&&(t=0);const r=e.length-t;return Math.floor(r/this.elementSpan)}encode(e,t,r){return 0}}let Om=class extends Hn{constructor(e,t,r){if(!(e instanceof $e))throw new TypeError("layout must be a Layout");if(t===void 0)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof ri||this.layout instanceof Li}decode(e,t){return t===void 0&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,r){return r===void 0&&(r=0),this.layout.encode(e,t,r+this.offset)}},ri=class extends $e{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeUIntLE(e,r,this.span),this.span}},Li=class extends $e{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeUIntBE(e,r,this.span),this.span}};class vs extends $e{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readIntLE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeIntLE(e,r,this.span),this.span}}class Da extends $e{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readIntBE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeIntBE(e,r,this.span),this.span}}const B0=Math.pow(2,32);function pf(n){const e=Math.floor(n/B0),t=n-e*B0;return{hi32:e,lo32:t}}function gf(n,e){return n*B0+e}let L4=class extends $e{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const r=e.readUInt32LE(t),i=e.readUInt32LE(t+4);return gf(i,r)}encode(e,t,r){r===void 0&&(r=0);const i=pf(e);return t.writeUInt32LE(i.lo32,r),t.writeUInt32LE(i.hi32,r+4),8}};class P4 extends $e{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const r=e.readUInt32BE(t),i=e.readUInt32BE(t+4);return gf(r,i)}encode(e,t,r){r===void 0&&(r=0);const i=pf(e);return t.writeUInt32BE(i.hi32,r),t.writeUInt32BE(i.lo32,r+4),8}}let D4=class extends $e{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const r=e.readUInt32LE(t),i=e.readInt32LE(t+4);return gf(i,r)}encode(e,t,r){r===void 0&&(r=0);const i=pf(e);return t.writeUInt32LE(i.lo32,r),t.writeInt32LE(i.hi32,r+4),8}};class U4 extends $e{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const r=e.readInt32BE(t),i=e.readUInt32BE(t+4);return gf(r,i)}encode(e,t,r){r===void 0&&(r=0);const i=pf(e);return t.writeInt32BE(i.hi32,r),t.writeUInt32BE(i.lo32,r+4),8}}class YS extends $e{constructor(e){super(4,e)}decode(e,t){return t===void 0&&(t=0),e.readFloatLE(t)}encode(e,t,r){return r===void 0&&(r=0),t.writeFloatLE(e,r),4}}class ZS extends $e{constructor(e){super(4,e)}decode(e,t){return t===void 0&&(t=0),e.readFloatBE(t)}encode(e,t,r){return r===void 0&&(r=0),t.writeFloatBE(e,r),4}}class XS extends $e{constructor(e){super(8,e)}decode(e,t){return t===void 0&&(t=0),e.readDoubleLE(t)}encode(e,t,r){return r===void 0&&(r=0),t.writeDoubleLE(e,r),8}}class QS extends $e{constructor(e){super(8,e)}decode(e,t){return t===void 0&&(t=0),e.readDoubleBE(t)}encode(e,t,r){return r===void 0&&(r=0),t.writeDoubleBE(e,r),8}}class JS extends $e{constructor(e,t,r){if(!(e instanceof $e))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof Hn&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(t instanceof Hn)&&0<e.span&&(i=t*e.span),super(i,r),this.elementLayout=e,this.count=t}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let r=0,i=this.count;if(i instanceof Hn&&(i=i.decode(e,t)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let o=0;for(;o<i;)r+=this.elementLayout.getSpan(e,t+r),++o}return r}decode(e,t){t===void 0&&(t=0);const r=[];let i=0,o=this.count;for(o instanceof Hn&&(o=o.decode(e,t));i<o;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),i+=1;return r}encode(e,t,r){r===void 0&&(r=0);const i=this.elementLayout,o=e.reduce((s,a)=>s+i.encode(a,t,r+s),0);return this.count instanceof Hn&&this.count.encode(e.length,t,r),o}}let eR=class extends $e{constructor(e,t,r){if(!(Array.isArray(e)&&e.reduce((o,s)=>o&&s instanceof $e,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&r===void 0&&(r=t,t=void 0);for(const o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((o,s)=>o+s.getSpan(),0)}catch{}super(i,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let r=0;try{r=this.fields.reduce((i,o)=>{const s=o.getSpan(e,t);return t+=s,i+s},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,t){t===void 0&&(t=0);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,t)),t+=i.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r){r===void 0&&(r=0);const i=r;let o=0,s=0;for(const a of this.fields){let c=a.span;if(s=0<c?c:0,a.property!==void 0){const l=e[a.property];l!==void 0&&(s=a.encode(l,t,r),0>c&&(c=a.getSpan(t,r)))}o=r,r+=c}return o+s-i}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}},Mm=class{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}},Sd=class extends Mm{constructor(e,t){if(!(e instanceof Hn&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}},Bm=class extends $e{constructor(e,t,r){const i=e instanceof ri||e instanceof Li;if(i)e=new Sd(new Om(e));else if(e instanceof Hn&&e.isCount())e=new Sd(e);else if(!(e instanceof Mm))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof $e))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let o=-1;t&&(o=t.span,0<=o&&i&&(o+=e.layout.span)),super(o,r),this.discriminator=e,this.usesPrefixDiscriminator=i,this.defaultLayout=t,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);const r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const r=this.registry[t];if(e.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(e,t){t===void 0&&(t=0);let r;const i=this.discriminator,o=i.decode(e,t);let s=this.registry[o];if(s===void 0){let a=0;s=this.defaultLayout,this.usesPrefixDiscriminator&&(a=i.layout.span),r=this.makeDestinationObject(),r[i.property]=o,r[s.property]=this.defaultLayout.decode(e,t+a)}else r=s.decode(e,t);return r}encode(e,t,r){r===void 0&&(r=0);const i=this.getSourceVariant(e);if(i===void 0){const o=this.discriminator,s=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=o.layout.span),o.encode(e[o.property],t,r),a+s.encode(e[s.property],t,r+a)}return i.encode(e,t,r)}addVariant(e,t,r){const i=new tR(this,e,t,r);return this.registry[e]=i,i}getVariant(e,t){let r=e;return de.isBuffer(e)&&(t===void 0&&(t=0),r=this.discriminator.decode(e,t)),this.registry[r]}},tR=class extends $e{constructor(e,t,r,i){if(!(e instanceof Bm))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof $e))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=r?r.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,i),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,t+r)}decode(e,t){const r=this.makeDestinationObject();if(t===void 0&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r){r===void 0&&(r=0);let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let o=i;if(this.layout&&(this.layout.encode(e[this.property],t,r+i),o+=this.layout.getSpan(t,r+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};function Bs(n){return 0>n&&(n+=4294967296),n}class Lm extends $e{constructor(e,t,r){if(!(e instanceof ri||e instanceof Li))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof t=="string"&&r===void 0&&(r=t,t=void 0),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!t,this.fields=[];let i=0;this._packedSetValue=function(o){return i=Bs(o),this},this._packedGetValue=function(){return i}}decode(e,t){const r=this.makeDestinationObject();t===void 0&&(t=0);const i=this.word.decode(e,t);this._packedSetValue(i);for(const o of this.fields)o.property!==void 0&&(r[o.property]=o.decode(i));return r}encode(e,t,r){r===void 0&&(r=0);const i=this.word.decode(t,r);this._packedSetValue(i);for(const o of this.fields)if(o.property!==void 0){const s=e[o.property];s!==void 0&&o.encode(s)}return this.word.encode(this._packedGetValue(),t,r)}addField(e,t){const r=new bc(this,e,t);return this.fields.push(r),r}addBoolean(e){const t=new nR(this,e);return this.fields.push(t),t}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}class bc{constructor(e,t,r){if(!(e instanceof Lm))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const i=8*e.span,o=e.fields.reduce((s,a)=>s+a.bits,0);if(t+o>i)throw new Error("bits too long for span remainder ("+(i-o)+" of "+i+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,t===32&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=i-o-t),this.wordMask=Bs(this.valueMask<<this.start),this.property=r}decode(){const e=this.container._packedGetValue();return Bs(e&this.wordMask)>>>this.start}encode(e){if(!Number.isInteger(e)||e!==Bs(e&this.valueMask))throw new TypeError(Nm("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),r=Bs(e<<this.start);this.container._packedSetValue(Bs(t&~this.wordMask)|r)}}let nR=class extends bc{constructor(e,t){super(e,1,t)}decode(e,t){return!!bc.prototype.decode.call(this,e,t)}encode(e){return typeof e=="boolean"&&(e=+e),bc.prototype.encode.call(this,e)}},rR=class extends $e{constructor(e,t){if(!(e instanceof Hn&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof Hn||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t){t===void 0&&(t=0);let r=this.span;return 0>r&&(r=this.length.decode(e,t)),e.slice(t,t+r)}encode(e,t,r){let i=this.length;if(this.length instanceof Hn&&(i=e.length),!(de.isBuffer(e)&&i===e.length))throw new TypeError(Nm("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(r+i>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),r,i,"hex"),this.length instanceof Hn&&this.length.encode(i,t,r),i}};class iR extends $e{constructor(e){super(-1,e)}getSpan(e,t){if(!de.isBuffer(e))throw new TypeError("b must be a Buffer");t===void 0&&(t=0);let r=t;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-t}decode(e,t,r){t===void 0&&(t=0);let i=this.getSpan(e,t);return e.slice(t,t+i-1).toString("utf-8")}encode(e,t,r){r===void 0&&(r=0),typeof e!="string"&&(e=e.toString());const i=new de(e,"utf8"),o=i.length;if(r+o>t.length)throw new RangeError("encoding overruns Buffer");return i.copy(t,r),t[r+o]=0,o+1}}class oR extends $e{constructor(e,t){if(typeof e=="string"&&t===void 0&&(t=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t){if(!de.isBuffer(e))throw new TypeError("b must be a Buffer");return t===void 0&&(t=0),e.length-t}decode(e,t,r){t===void 0&&(t=0);let i=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");return e.slice(t,t+i).toString("utf-8")}encode(e,t,r){r===void 0&&(r=0),typeof e!="string"&&(e=e.toString());const i=new de(e,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(r+o>t.length)throw new RangeError("encoding overruns Buffer");return i.copy(t,r),o}}class sR extends $e{constructor(e,t){super(0,t),this.value=e}decode(e,t,r){return this.value}encode(e,t,r){return 0}}fe.ExternalLayout=Hn;fe.GreedyCount=qS;fe.OffsetLayout=Om;fe.UInt=ri;fe.UIntBE=Li;fe.Int=vs;fe.IntBE=Da;fe.Float=YS;fe.FloatBE=ZS;fe.Double=XS;fe.DoubleBE=QS;fe.Sequence=JS;fe.Structure=eR;fe.UnionDiscriminator=Mm;fe.UnionLayoutDiscriminator=Sd;fe.Union=Bm;fe.VariantLayout=tR;fe.BitStructure=Lm;fe.BitField=bc;fe.Boolean=nR;fe.Blob=rR;fe.CString=iR;fe.UTF8=oR;fe.Constant=sR;fe.greedy=(n,e)=>new qS(n,e);fe.offset=(n,e,t)=>new Om(n,e,t);fe.u8=n=>new ri(1,n);fe.u16=n=>new ri(2,n);fe.u24=n=>new ri(3,n);fe.u32=n=>new ri(4,n);fe.u40=n=>new ri(5,n);fe.u48=n=>new ri(6,n);fe.nu64=n=>new L4(n);fe.u16be=n=>new Li(2,n);fe.u24be=n=>new Li(3,n);fe.u32be=n=>new Li(4,n);fe.u40be=n=>new Li(5,n);fe.u48be=n=>new Li(6,n);fe.nu64be=n=>new P4(n);fe.s8=n=>new vs(1,n);fe.s16=n=>new vs(2,n);fe.s24=n=>new vs(3,n);fe.s32=n=>new vs(4,n);fe.s40=n=>new vs(5,n);fe.s48=n=>new vs(6,n);fe.ns64=n=>new D4(n);fe.s16be=n=>new Da(2,n);fe.s24be=n=>new Da(3,n);fe.s32be=n=>new Da(4,n);fe.s40be=n=>new Da(5,n);fe.s48be=n=>new Da(6,n);fe.ns64be=n=>new U4(n);fe.f32=n=>new YS(n);fe.f32be=n=>new ZS(n);fe.f64=n=>new XS(n);fe.f64be=n=>new QS(n);fe.struct=(n,e,t)=>new eR(n,e,t);fe.bits=(n,e,t)=>new Lm(n,e,t);fe.seq=(n,e,t)=>new JS(n,e,t);fe.union=(n,e,t)=>new Bm(n,e,t);fe.unionLayoutDiscriminator=(n,e)=>new Sd(n,e);fe.blob=(n,e)=>new rR(n,e);fe.cstr=n=>new iR(n);fe.utf8=(n,e)=>new oR(n,e);fe.const=(n,e)=>new sR(n,e);const z4=Id(A3);(function(n){var e=or&&or.__importDefault||function($){return $&&$.__esModule?$:{default:$}};Object.defineProperty(n,"__esModule",{value:!0}),n.struct=n.f64=n.f32=n.i32=n.u32=n.i16=n.u16=n.i8=n.u8=void 0,n.u64=a,n.i64=c,n.u128=l,n.i128=u,n.u256=p,n.i256=g,n.publicKey=w,n.option=A,n.bool=E,n.vec=x,n.tagged=L,n.vecU8=U,n.str=D,n.rustEnum=W,n.array=z,n.map=q;const t=fe,r=z4,i=e(Gg);var o=fe;Object.defineProperty(n,"u8",{enumerable:!0,get:function(){return o.u8}}),Object.defineProperty(n,"i8",{enumerable:!0,get:function(){return o.s8}}),Object.defineProperty(n,"u16",{enumerable:!0,get:function(){return o.u16}}),Object.defineProperty(n,"i16",{enumerable:!0,get:function(){return o.s16}}),Object.defineProperty(n,"u32",{enumerable:!0,get:function(){return o.u32}}),Object.defineProperty(n,"i32",{enumerable:!0,get:function(){return o.s32}}),Object.defineProperty(n,"f32",{enumerable:!0,get:function(){return o.f32}}),Object.defineProperty(n,"f64",{enumerable:!0,get:function(){return o.f64}}),Object.defineProperty(n,"struct",{enumerable:!0,get:function(){return o.struct}});class s extends t.Layout{constructor(R,d,f){super(R,f),this.blob=(0,t.blob)(R),this.signed=d}decode(R,d=0){const f=new i.default(this.blob.decode(R,d),10,"le");return this.signed?f.fromTwos(this.span*8).clone():f}encode(R,d,f=0){return this.signed&&(R=R.toTwos(this.span*8)),this.blob.encode(R.toArrayLike(de,"le",this.span),d,f)}}function a($){return new s(8,!1,$)}function c($){return new s(8,!0,$)}function l($){return new s(16,!1,$)}function u($){return new s(16,!0,$)}function p($){return new s(32,!1,$)}function g($){return new s(32,!0,$)}class h extends t.Layout{constructor(R,d,f,S){super(R.span,S),this.layout=R,this.decoder=d,this.encoder=f}decode(R,d){return this.decoder(this.layout.decode(R,d))}encode(R,d,f){return this.layout.encode(this.encoder(R),d,f)}getSpan(R,d){return this.layout.getSpan(R,d)}}function w($){return new h((0,t.blob)(32),R=>new r.PublicKey(R),R=>R.toBuffer(),$)}class k extends t.Layout{constructor(R,d){super(-1,d),this.layout=R,this.discriminator=(0,t.u8)()}encode(R,d,f=0){return R==null?this.discriminator.encode(0,d,f):(this.discriminator.encode(1,d,f),this.layout.encode(R,d,f+1)+1)}decode(R,d=0){const f=this.discriminator.decode(R,d);if(f===0)return null;if(f===1)return this.layout.decode(R,d+1);throw new Error("Invalid option "+this.property)}getSpan(R,d=0){const f=this.discriminator.decode(R,d);if(f===0)return 1;if(f===1)return this.layout.getSpan(R,d+1)+1;throw new Error("Invalid option "+this.property)}}function A($,R){return new k($,R)}function E($){return new h((0,t.u8)(),b,_,$)}function b($){if($===0)return!1;if($===1)return!0;throw new Error("Invalid bool: "+$)}function _($){return $?1:0}function x($,R){const d=(0,t.u32)("length"),f=(0,t.struct)([d,(0,t.seq)($,(0,t.offset)(d,-d.span),"values")]);return new h(f,({values:S})=>S,S=>({values:S}),R)}function L($,R,d){const f=(0,t.struct)([a("tag"),R.replicate("data")]);function S({tag:T,data:I}){if(!T.eq($))throw new Error("Invalid tag, expected: "+$.toString("hex")+", got: "+T.toString("hex"));return I}return new h(f,S,T=>({tag:$,data:T}),d)}function U($){const R=(0,t.u32)("length"),d=(0,t.struct)([R,(0,t.blob)((0,t.offset)(R,-R.span),"data")]);return new h(d,({data:f})=>f,f=>({data:f}),$)}function D($){return new h(U(),R=>R.toString("utf-8"),R=>de.from(R,"utf-8"),$)}function W($,R,d){const f=(0,t.union)(d??(0,t.u8)(),R);return $.forEach((S,T)=>f.addVariant(T,S,S.property)),f}function z($,R,d){const f=(0,t.struct)([(0,t.seq)($,R,"values")]);return new h(f,({values:S})=>S,S=>({values:S}),d)}class H extends t.Layout{constructor(R,d,f){super(R.span+d.span,f),this.keyLayout=R,this.valueLayout=d}decode(R,d){d=d||0;const f=this.keyLayout.decode(R,d),S=this.valueLayout.decode(R,d+this.keyLayout.getSpan(R,d));return[f,S]}encode(R,d,f){f=f||0;const S=this.keyLayout.encode(R[0],d,f),T=this.valueLayout.encode(R[1],d,f+S);return S+T}getSpan(R,d){return this.keyLayout.getSpan(R,d)+this.valueLayout.getSpan(R,d)}}function q($,R,d){const f=(0,t.u32)("length"),S=(0,t.struct)([f,(0,t.seq)(new H($,R),(0,t.offset)(f,-f.span),"values")]);return new h(S,({values:T})=>new Map(T),T=>({values:Array.from(T.entries())}),d)}})(Ie);function Ua(n){let e=n.length;for(;--e>=0;)n[e]=0}const F4=3,W4=258,aR=29,H4=256,j4=H4+1+aR,cR=30,K4=512,V4=new Array((j4+2)*2);Ua(V4);const $4=new Array(cR*2);Ua($4);const G4=new Array(K4);Ua(G4);const q4=new Array(W4-F4+1);Ua(q4);const Y4=new Array(aR);Ua(Y4);const Z4=new Array(cR);Ua(Z4);const X4=(n,e,t,r)=>{let i=n&65535|0,o=n>>>16&65535|0,s=0;for(;t!==0;){s=t>2e3?2e3:t,t-=s;do i=i+e[r++]|0,o=o+i|0;while(--s);i%=65521,o%=65521}return i|o<<16|0};var L0=X4;const Q4=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},J4=new Uint32Array(Q4()),e8=(n,e,t,r)=>{const i=J4,o=r+t;n^=-1;for(let s=r;s<o;s++)n=n>>>8^i[(n^e[s])&255];return n^-1};var Fr=e8,P0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},lR={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const t8=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var n8=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)t8(t,r)&&(n[r]=t[r])}}return n},r8=n=>{let e=0;for(let r=0,i=n.length;r<i;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,i=0,o=n.length;r<o;r++){let s=n[r];t.set(s,i),i+=s.length}return t},uR={assign:n8,flattenChunks:r8};let dR=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{dR=!1}const Qc=new Uint8Array(256);for(let n=0;n<256;n++)Qc[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Qc[254]=Qc[254]=1;var i8=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,i,o,s=n.length,a=0;for(i=0;i<s;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<s&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),a+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(a),o=0,i=0;o<a;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<s&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const o8=(n,e)=>{if(e<65534&&n.subarray&&dR)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var s8=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,i;const o=new Array(t*2);for(i=0,r=0;r<t;){let s=n[r++];if(s<128){o[i++]=s;continue}let a=Qc[s];if(a>4){o[i++]=65533,r+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&r<t;)s=s<<6|n[r++]&63,a--;if(a>1){o[i++]=65533;continue}s<65536?o[i++]=s:(s-=65536,o[i++]=55296|s>>10&1023,o[i++]=56320|s&1023)}return o8(o,i)},a8=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+Qc[n[t]]>e?t:e},D0={string2buf:i8,buf2string:s8,utf8border:a8};function c8(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var l8=c8;const Zl=16209,u8=16191;var d8=function(e,t){let r,i,o,s,a,c,l,u,p,g,h,w,k,A,E,b,_,x,L,U,D,W,z,H;const q=e.state;r=e.next_in,z=e.input,i=r+(e.avail_in-5),o=e.next_out,H=e.output,s=o-(t-e.avail_out),a=o+(e.avail_out-257),c=q.dmax,l=q.wsize,u=q.whave,p=q.wnext,g=q.window,h=q.hold,w=q.bits,k=q.lencode,A=q.distcode,E=(1<<q.lenbits)-1,b=(1<<q.distbits)-1;e:do{w<15&&(h+=z[r++]<<w,w+=8,h+=z[r++]<<w,w+=8),_=k[h&E];t:for(;;){if(x=_>>>24,h>>>=x,w-=x,x=_>>>16&255,x===0)H[o++]=_&65535;else if(x&16){L=_&65535,x&=15,x&&(w<x&&(h+=z[r++]<<w,w+=8),L+=h&(1<<x)-1,h>>>=x,w-=x),w<15&&(h+=z[r++]<<w,w+=8,h+=z[r++]<<w,w+=8),_=A[h&b];n:for(;;){if(x=_>>>24,h>>>=x,w-=x,x=_>>>16&255,x&16){if(U=_&65535,x&=15,w<x&&(h+=z[r++]<<w,w+=8,w<x&&(h+=z[r++]<<w,w+=8)),U+=h&(1<<x)-1,U>c){e.msg="invalid distance too far back",q.mode=Zl;break e}if(h>>>=x,w-=x,x=o-s,U>x){if(x=U-x,x>u&&q.sane){e.msg="invalid distance too far back",q.mode=Zl;break e}if(D=0,W=g,p===0){if(D+=l-x,x<L){L-=x;do H[o++]=g[D++];while(--x);D=o-U,W=H}}else if(p<x){if(D+=l+p-x,x-=p,x<L){L-=x;do H[o++]=g[D++];while(--x);if(D=0,p<L){x=p,L-=x;do H[o++]=g[D++];while(--x);D=o-U,W=H}}}else if(D+=p-x,x<L){L-=x;do H[o++]=g[D++];while(--x);D=o-U,W=H}for(;L>2;)H[o++]=W[D++],H[o++]=W[D++],H[o++]=W[D++],L-=3;L&&(H[o++]=W[D++],L>1&&(H[o++]=W[D++]))}else{D=o-U;do H[o++]=H[D++],H[o++]=H[D++],H[o++]=H[D++],L-=3;while(L>2);L&&(H[o++]=H[D++],L>1&&(H[o++]=H[D++]))}}else if(x&64){e.msg="invalid distance code",q.mode=Zl;break e}else{_=A[(_&65535)+(h&(1<<x)-1)];continue n}break}}else if(x&64)if(x&32){q.mode=u8;break e}else{e.msg="invalid literal/length code",q.mode=Zl;break e}else{_=k[(_&65535)+(h&(1<<x)-1)];continue t}break}}while(r<i&&o<a);L=w>>3,r-=L,w-=L<<3,h&=(1<<w)-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=o<a?257+(a-o):257-(o-a),q.hold=h,q.bits=w};const Is=15,u1=852,d1=592,f1=0,Gh=1,h1=2,f8=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),h8=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),p8=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),g8=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),m8=(n,e,t,r,i,o,s,a)=>{const c=a.bits;let l=0,u=0,p=0,g=0,h=0,w=0,k=0,A=0,E=0,b=0,_,x,L,U,D,W=null,z;const H=new Uint16Array(Is+1),q=new Uint16Array(Is+1);let $=null,R,d,f;for(l=0;l<=Is;l++)H[l]=0;for(u=0;u<r;u++)H[e[t+u]]++;for(h=c,g=Is;g>=1&&H[g]===0;g--);if(h>g&&(h=g),g===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,a.bits=1,0;for(p=1;p<g&&H[p]===0;p++);for(h<p&&(h=p),A=1,l=1;l<=Is;l++)if(A<<=1,A-=H[l],A<0)return-1;if(A>0&&(n===f1||g!==1))return-1;for(q[1]=0,l=1;l<Is;l++)q[l+1]=q[l]+H[l];for(u=0;u<r;u++)e[t+u]!==0&&(s[q[e[t+u]]++]=u);if(n===f1?(W=$=s,z=20):n===Gh?(W=f8,$=h8,z=257):(W=p8,$=g8,z=0),b=0,u=0,l=p,D=o,w=h,k=0,L=-1,E=1<<h,U=E-1,n===Gh&&E>u1||n===h1&&E>d1)return 1;for(;;){R=l-k,s[u]+1<z?(d=0,f=s[u]):s[u]>=z?(d=$[s[u]-z],f=W[s[u]-z]):(d=96,f=0),_=1<<l-k,x=1<<w,p=x;do x-=_,i[D+(b>>k)+x]=R<<24|d<<16|f|0;while(x!==0);for(_=1<<l-1;b&_;)_>>=1;if(_!==0?(b&=_-1,b+=_):b=0,u++,--H[l]===0){if(l===g)break;l=e[t+s[u]]}if(l>h&&(b&U)!==L){for(k===0&&(k=h),D+=p,w=l-k,A=1<<w;w+k<g&&(A-=H[w+k],!(A<=0));)w++,A<<=1;if(E+=1<<w,n===Gh&&E>u1||n===h1&&E>d1)return 1;L=b&U,i[L]=h<<24|w<<16|D-o|0}}return b!==0&&(i[D+b]=l-k<<24|64<<16|0),a.bits=h,0};var Sc=m8;const y8=0,fR=1,hR=2,{Z_FINISH:p1,Z_BLOCK:w8,Z_TREES:Xl,Z_OK:ds,Z_STREAM_END:v8,Z_NEED_DICT:_8,Z_STREAM_ERROR:Er,Z_DATA_ERROR:pR,Z_MEM_ERROR:gR,Z_BUF_ERROR:E8,Z_DEFLATED:g1}=lR,mf=16180,m1=16181,y1=16182,w1=16183,v1=16184,_1=16185,E1=16186,b1=16187,S1=16188,R1=16189,Rd=16190,ai=16191,qh=16192,A1=16193,Yh=16194,k1=16195,I1=16196,x1=16197,T1=16198,Ql=16199,Jl=16200,C1=16201,N1=16202,O1=16203,M1=16204,B1=16205,Zh=16206,L1=16207,P1=16208,at=16209,mR=16210,yR=16211,b8=852,S8=592,R8=15,A8=R8,D1=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function k8(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const _s=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<mf||e.mode>yR?1:0},wR=n=>{if(_s(n))return Er;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=mf,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(b8),e.distcode=e.distdyn=new Int32Array(S8),e.sane=1,e.back=-1,ds},vR=n=>{if(_s(n))return Er;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,wR(n)},_R=(n,e)=>{let t;if(_s(n))return Er;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Er:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,vR(n))},ER=(n,e)=>{if(!n)return Er;const t=new k8;n.state=t,t.strm=n,t.window=null,t.mode=mf;const r=_R(n,e);return r!==ds&&(n.state=null),r},I8=n=>ER(n,A8);let U1=!0,Xh,Qh;const x8=n=>{if(U1){Xh=new Int32Array(512),Qh=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Sc(fR,n.lens,0,288,Xh,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Sc(hR,n.lens,0,32,Qh,0,n.work,{bits:5}),U1=!1}n.lencode=Xh,n.lenbits=9,n.distcode=Qh,n.distbits=5},bR=(n,e,t,r)=>{let i;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(e.subarray(t-r,t-r+i),o.wnext),r-=i,r?(o.window.set(e.subarray(t-r,t),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},T8=(n,e)=>{let t,r,i,o,s,a,c,l,u,p,g,h,w,k,A=0,E,b,_,x,L,U,D,W;const z=new Uint8Array(4);let H,q;const $=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(_s(n)||!n.output||!n.input&&n.avail_in!==0)return Er;t=n.state,t.mode===ai&&(t.mode=qh),s=n.next_out,i=n.output,c=n.avail_out,o=n.next_in,r=n.input,a=n.avail_in,l=t.hold,u=t.bits,p=a,g=c,W=ds;e:for(;;)switch(t.mode){case mf:if(t.wrap===0){t.mode=qh;break}for(;u<16;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if(t.wrap&2&&l===35615){t.wbits===0&&(t.wbits=15),t.check=0,z[0]=l&255,z[1]=l>>>8&255,t.check=Fr(t.check,z,2,0),l=0,u=0,t.mode=m1;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((l&255)<<8)+(l>>8))%31){n.msg="incorrect header check",t.mode=at;break}if((l&15)!==g1){n.msg="unknown compression method",t.mode=at;break}if(l>>>=4,u-=4,D=(l&15)+8,t.wbits===0&&(t.wbits=D),D>15||D>t.wbits){n.msg="invalid window size",t.mode=at;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=l&512?R1:ai,l=0,u=0;break;case m1:for(;u<16;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if(t.flags=l,(t.flags&255)!==g1){n.msg="unknown compression method",t.mode=at;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=at;break}t.head&&(t.head.text=l>>8&1),t.flags&512&&t.wrap&4&&(z[0]=l&255,z[1]=l>>>8&255,t.check=Fr(t.check,z,2,0)),l=0,u=0,t.mode=y1;case y1:for(;u<32;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}t.head&&(t.head.time=l),t.flags&512&&t.wrap&4&&(z[0]=l&255,z[1]=l>>>8&255,z[2]=l>>>16&255,z[3]=l>>>24&255,t.check=Fr(t.check,z,4,0)),l=0,u=0,t.mode=w1;case w1:for(;u<16;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}t.head&&(t.head.xflags=l&255,t.head.os=l>>8),t.flags&512&&t.wrap&4&&(z[0]=l&255,z[1]=l>>>8&255,t.check=Fr(t.check,z,2,0)),l=0,u=0,t.mode=v1;case v1:if(t.flags&1024){for(;u<16;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}t.length=l,t.head&&(t.head.extra_len=l),t.flags&512&&t.wrap&4&&(z[0]=l&255,z[1]=l>>>8&255,t.check=Fr(t.check,z,2,0)),l=0,u=0}else t.head&&(t.head.extra=null);t.mode=_1;case _1:if(t.flags&1024&&(h=t.length,h>a&&(h=a),h&&(t.head&&(D=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(o,o+h),D)),t.flags&512&&t.wrap&4&&(t.check=Fr(t.check,r,h,o)),a-=h,o+=h,t.length-=h),t.length))break e;t.length=0,t.mode=E1;case E1:if(t.flags&2048){if(a===0)break e;h=0;do D=r[o+h++],t.head&&D&&t.length<65536&&(t.head.name+=String.fromCharCode(D));while(D&&h<a);if(t.flags&512&&t.wrap&4&&(t.check=Fr(t.check,r,h,o)),a-=h,o+=h,D)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=b1;case b1:if(t.flags&4096){if(a===0)break e;h=0;do D=r[o+h++],t.head&&D&&t.length<65536&&(t.head.comment+=String.fromCharCode(D));while(D&&h<a);if(t.flags&512&&t.wrap&4&&(t.check=Fr(t.check,r,h,o)),a-=h,o+=h,D)break e}else t.head&&(t.head.comment=null);t.mode=S1;case S1:if(t.flags&512){for(;u<16;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if(t.wrap&4&&l!==(t.check&65535)){n.msg="header crc mismatch",t.mode=at;break}l=0,u=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=ai;break;case R1:for(;u<32;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}n.adler=t.check=D1(l),l=0,u=0,t.mode=Rd;case Rd:if(t.havedict===0)return n.next_out=s,n.avail_out=c,n.next_in=o,n.avail_in=a,t.hold=l,t.bits=u,_8;n.adler=t.check=1,t.mode=ai;case ai:if(e===w8||e===Xl)break e;case qh:if(t.last){l>>>=u&7,u-=u&7,t.mode=Zh;break}for(;u<3;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}switch(t.last=l&1,l>>>=1,u-=1,l&3){case 0:t.mode=A1;break;case 1:if(x8(t),t.mode=Ql,e===Xl){l>>>=2,u-=2;break e}break;case 2:t.mode=I1;break;case 3:n.msg="invalid block type",t.mode=at}l>>>=2,u-=2;break;case A1:for(l>>>=u&7,u-=u&7;u<32;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if((l&65535)!==(l>>>16^65535)){n.msg="invalid stored block lengths",t.mode=at;break}if(t.length=l&65535,l=0,u=0,t.mode=Yh,e===Xl)break e;case Yh:t.mode=k1;case k1:if(h=t.length,h){if(h>a&&(h=a),h>c&&(h=c),h===0)break e;i.set(r.subarray(o,o+h),s),a-=h,o+=h,c-=h,s+=h,t.length-=h;break}t.mode=ai;break;case I1:for(;u<14;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if(t.nlen=(l&31)+257,l>>>=5,u-=5,t.ndist=(l&31)+1,l>>>=5,u-=5,t.ncode=(l&15)+4,l>>>=4,u-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=at;break}t.have=0,t.mode=x1;case x1:for(;t.have<t.ncode;){for(;u<3;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}t.lens[$[t.have++]]=l&7,l>>>=3,u-=3}for(;t.have<19;)t.lens[$[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,H={bits:t.lenbits},W=Sc(y8,t.lens,0,19,t.lencode,0,t.work,H),t.lenbits=H.bits,W){n.msg="invalid code lengths set",t.mode=at;break}t.have=0,t.mode=T1;case T1:for(;t.have<t.nlen+t.ndist;){for(;A=t.lencode[l&(1<<t.lenbits)-1],E=A>>>24,b=A>>>16&255,_=A&65535,!(E<=u);){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if(_<16)l>>>=E,u-=E,t.lens[t.have++]=_;else{if(_===16){for(q=E+2;u<q;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if(l>>>=E,u-=E,t.have===0){n.msg="invalid bit length repeat",t.mode=at;break}D=t.lens[t.have-1],h=3+(l&3),l>>>=2,u-=2}else if(_===17){for(q=E+3;u<q;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}l>>>=E,u-=E,D=0,h=3+(l&7),l>>>=3,u-=3}else{for(q=E+7;u<q;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}l>>>=E,u-=E,D=0,h=11+(l&127),l>>>=7,u-=7}if(t.have+h>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=at;break}for(;h--;)t.lens[t.have++]=D}}if(t.mode===at)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=at;break}if(t.lenbits=9,H={bits:t.lenbits},W=Sc(fR,t.lens,0,t.nlen,t.lencode,0,t.work,H),t.lenbits=H.bits,W){n.msg="invalid literal/lengths set",t.mode=at;break}if(t.distbits=6,t.distcode=t.distdyn,H={bits:t.distbits},W=Sc(hR,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,H),t.distbits=H.bits,W){n.msg="invalid distances set",t.mode=at;break}if(t.mode=Ql,e===Xl)break e;case Ql:t.mode=Jl;case Jl:if(a>=6&&c>=258){n.next_out=s,n.avail_out=c,n.next_in=o,n.avail_in=a,t.hold=l,t.bits=u,d8(n,g),s=n.next_out,i=n.output,c=n.avail_out,o=n.next_in,r=n.input,a=n.avail_in,l=t.hold,u=t.bits,t.mode===ai&&(t.back=-1);break}for(t.back=0;A=t.lencode[l&(1<<t.lenbits)-1],E=A>>>24,b=A>>>16&255,_=A&65535,!(E<=u);){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if(b&&!(b&240)){for(x=E,L=b,U=_;A=t.lencode[U+((l&(1<<x+L)-1)>>x)],E=A>>>24,b=A>>>16&255,_=A&65535,!(x+E<=u);){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}l>>>=x,u-=x,t.back+=x}if(l>>>=E,u-=E,t.back+=E,t.length=_,b===0){t.mode=B1;break}if(b&32){t.back=-1,t.mode=ai;break}if(b&64){n.msg="invalid literal/length code",t.mode=at;break}t.extra=b&15,t.mode=C1;case C1:if(t.extra){for(q=t.extra;u<q;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}t.length+=l&(1<<t.extra)-1,l>>>=t.extra,u-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=N1;case N1:for(;A=t.distcode[l&(1<<t.distbits)-1],E=A>>>24,b=A>>>16&255,_=A&65535,!(E<=u);){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if(!(b&240)){for(x=E,L=b,U=_;A=t.distcode[U+((l&(1<<x+L)-1)>>x)],E=A>>>24,b=A>>>16&255,_=A&65535,!(x+E<=u);){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}l>>>=x,u-=x,t.back+=x}if(l>>>=E,u-=E,t.back+=E,b&64){n.msg="invalid distance code",t.mode=at;break}t.offset=_,t.extra=b&15,t.mode=O1;case O1:if(t.extra){for(q=t.extra;u<q;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}t.offset+=l&(1<<t.extra)-1,l>>>=t.extra,u-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=at;break}t.mode=M1;case M1:if(c===0)break e;if(h=g-c,t.offset>h){if(h=t.offset-h,h>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=at;break}h>t.wnext?(h-=t.wnext,w=t.wsize-h):w=t.wnext-h,h>t.length&&(h=t.length),k=t.window}else k=i,w=s-t.offset,h=t.length;h>c&&(h=c),c-=h,t.length-=h;do i[s++]=k[w++];while(--h);t.length===0&&(t.mode=Jl);break;case B1:if(c===0)break e;i[s++]=t.length,c--,t.mode=Jl;break;case Zh:if(t.wrap){for(;u<32;){if(a===0)break e;a--,l|=r[o++]<<u,u+=8}if(g-=c,n.total_out+=g,t.total+=g,t.wrap&4&&g&&(n.adler=t.check=t.flags?Fr(t.check,i,g,s-g):L0(t.check,i,g,s-g)),g=c,t.wrap&4&&(t.flags?l:D1(l))!==t.check){n.msg="incorrect data check",t.mode=at;break}l=0,u=0}t.mode=L1;case L1:if(t.wrap&&t.flags){for(;u<32;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if(t.wrap&4&&l!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=at;break}l=0,u=0}t.mode=P1;case P1:W=v8;break e;case at:W=pR;break e;case mR:return gR;case yR:default:return Er}return n.next_out=s,n.avail_out=c,n.next_in=o,n.avail_in=a,t.hold=l,t.bits=u,(t.wsize||g!==n.avail_out&&t.mode<at&&(t.mode<Zh||e!==p1))&&bR(n,n.output,n.next_out,g-n.avail_out),p-=n.avail_in,g-=n.avail_out,n.total_in+=p,n.total_out+=g,t.total+=g,t.wrap&4&&g&&(n.adler=t.check=t.flags?Fr(t.check,i,g,n.next_out-g):L0(t.check,i,g,n.next_out-g)),n.data_type=t.bits+(t.last?64:0)+(t.mode===ai?128:0)+(t.mode===Ql||t.mode===Yh?256:0),(p===0&&g===0||e===p1)&&W===ds&&(W=E8),W},C8=n=>{if(_s(n))return Er;let e=n.state;return e.window&&(e.window=null),n.state=null,ds},N8=(n,e)=>{if(_s(n))return Er;const t=n.state;return t.wrap&2?(t.head=e,e.done=!1,ds):Er},O8=(n,e)=>{const t=e.length;let r,i,o;return _s(n)||(r=n.state,r.wrap!==0&&r.mode!==Rd)?Er:r.mode===Rd&&(i=1,i=L0(i,e,t,0),i!==r.check)?pR:(o=bR(n,e,t,t),o?(r.mode=mR,gR):(r.havedict=1,ds))};var M8=vR,B8=_R,L8=wR,P8=I8,D8=ER,U8=T8,z8=C8,F8=N8,W8=O8,H8="pako inflate (from Nodeca project)",pi={inflateReset:M8,inflateReset2:B8,inflateResetKeep:L8,inflateInit:P8,inflateInit2:D8,inflate:U8,inflateEnd:z8,inflateGetHeader:F8,inflateSetDictionary:W8,inflateInfo:H8};function j8(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var K8=j8;const SR=Object.prototype.toString,{Z_NO_FLUSH:V8,Z_FINISH:$8,Z_OK:Jc,Z_STREAM_END:Jh,Z_NEED_DICT:ep,Z_STREAM_ERROR:G8,Z_DATA_ERROR:z1,Z_MEM_ERROR:q8}=lR;function yf(n){this.options=uR.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l8,this.strm.avail_out=0;let t=pi.inflateInit2(this.strm,e.windowBits);if(t!==Jc)throw new Error(P0[t]);if(this.header=new K8,pi.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=D0.string2buf(e.dictionary):SR.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=pi.inflateSetDictionary(this.strm,e.dictionary),t!==Jc)))throw new Error(P0[t])}yf.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let o,s,a;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?$8:V8,SR.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),o=pi.inflate(t,s),o===ep&&i&&(o=pi.inflateSetDictionary(t,i),o===Jc?o=pi.inflate(t,s):o===z1&&(o=ep));t.avail_in>0&&o===Jh&&t.state.wrap>0&&n[t.next_in]!==0;)pi.inflateReset(t),o=pi.inflate(t,s);switch(o){case G8:case z1:case ep:case q8:return this.onEnd(o),this.ended=!0,!1}if(a=t.avail_out,t.next_out&&(t.avail_out===0||o===Jh))if(this.options.to==="string"){let c=D0.utf8border(t.output,t.next_out),l=t.next_out-c,u=D0.buf2string(t.output,c);t.next_out=l,t.avail_out=r-l,l&&t.output.set(t.output.subarray(c,c+l),0),this.onData(u)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===Jc&&a===0)){if(o===Jh)return o=pi.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};yf.prototype.onData=function(n){this.chunks.push(n)};yf.prototype.onEnd=function(n){n===Jc&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=uR.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function Y8(n,e){const t=new yf(e);if(t.push(n),t.err)throw t.msg||P0[t.err];return t.result}var Z8=Y8,X8={inflate:Z8};const{inflate:Q8}=X8;var J8=Q8,RR={exports:{}};(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function o(c,l,u,p,g){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,p||c,g),w=t?t+l:l;return c._events[w]?c._events[w].fn?c._events[w]=[c._events[w],h]:c._events[w].push(h):(c._events[w]=h,c._eventsCount++),c}function s(c,l){--c._eventsCount===0?c._events=new r:delete c._events[l]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],u,p;if(this._eventsCount===0)return l;for(p in u=this._events)e.call(u,p)&&l.push(t?p.slice(1):p);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},a.prototype.listeners=function(l){var u=t?t+l:l,p=this._events[u];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,h=p.length,w=new Array(h);g<h;g++)w[g]=p[g].fn;return w},a.prototype.listenerCount=function(l){var u=t?t+l:l,p=this._events[u];return p?p.fn?1:p.length:0},a.prototype.emit=function(l,u,p,g,h,w){var k=t?t+l:l;if(!this._events[k])return!1;var A=this._events[k],E=arguments.length,b,_;if(A.fn){switch(A.once&&this.removeListener(l,A.fn,void 0,!0),E){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,u),!0;case 3:return A.fn.call(A.context,u,p),!0;case 4:return A.fn.call(A.context,u,p,g),!0;case 5:return A.fn.call(A.context,u,p,g,h),!0;case 6:return A.fn.call(A.context,u,p,g,h,w),!0}for(_=1,b=new Array(E-1);_<E;_++)b[_-1]=arguments[_];A.fn.apply(A.context,b)}else{var x=A.length,L;for(_=0;_<x;_++)switch(A[_].once&&this.removeListener(l,A[_].fn,void 0,!0),E){case 1:A[_].fn.call(A[_].context);break;case 2:A[_].fn.call(A[_].context,u);break;case 3:A[_].fn.call(A[_].context,u,p);break;case 4:A[_].fn.call(A[_].context,u,p,g);break;default:if(!b)for(L=1,b=new Array(E-1);L<E;L++)b[L-1]=arguments[L];A[_].fn.apply(A[_].context,b)}}return!0},a.prototype.on=function(l,u,p){return o(this,l,u,p,!1)},a.prototype.once=function(l,u,p){return o(this,l,u,p,!0)},a.prototype.removeListener=function(l,u,p,g){var h=t?t+l:l;if(!this._events[h])return this;if(!u)return s(this,h),this;var w=this._events[h];if(w.fn)w.fn===u&&(!g||w.once)&&(!p||w.context===p)&&s(this,h);else{for(var k=0,A=[],E=w.length;k<E;k++)(w[k].fn!==u||g&&!w[k].once||p&&w[k].context!==p)&&A.push(w[k]);A.length?this._events[h]=A.length===1?A[0]:A:s(this,h)}return this},a.prototype.removeAllListeners=function(l){var u;return l?(u=t?t+l:l,this._events[u]&&s(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,n.exports=a})(RR);var eB=RR.exports;const tB=Oi(eB);function nB(n,e){return Array.apply(0,new Array(Math.ceil(n.length/e))).map((t,r)=>n.slice(r*e,(r+1)*e))}const To=n=>"version"in n;function rB(n){return new TextDecoder("utf-8").decode(n)}function F1(n){return Zt.encode(n)}function AR(n){return me.from(n,"base64")}function Yi(n){return"accounts"in n}async function iB(n){const e=(await Z.findProgramAddress([],n))[0];return await Z.createWithSeed(e,oB(),n)}function oB(){return"anchor:idl"}const sB=Ie.struct([Ie.publicKey("authority"),Ie.vecU8("data")]);function aB(n){return sB.decode(n)}function cB(n){const e=["name","path","account","relations","generic"],t=o=>o.split(".").map(M4).join("."),r=o=>{for(const s in o){const a=o[s];e.includes(s)?o[s]=Array.isArray(a)?a.map(t):t(a):typeof a=="object"&&r(a)}},i=structuredClone(n);return r(i),i}function Zs(n,e,t,r){return n!=null&&n.length?n[0].name?t(n):r(n):e()}function lB(n){const e=new Map;return n.errors&&n.errors.forEach(t=>{var r;let i=(r=t.msg)!==null&&r!==void 0?r:t.name;e.set(t.code,i)}),e}function uB(n,...e){if(n.args.length!=e.length)throw new Error("Invalid argument length");const t={};let r=0;return n.args.forEach(i=>{t[i.name]=e[r],r+=1}),t}function kR(n,e={}){n.forEach(t=>{if(Yi(t))kR(t.accounts,e[t.name]);else if(!e[t.name])throw new Error(`Account \`${t.name}\` not provided.`)})}function Nr(n){return n instanceof Z?n:new Z(n)}class dB extends TypeError{constructor(e,t){let r;const{message:i,...o}=e,{path:s}=e,a=s.length===0?i:"At path: "+s.join(".")+" -- "+i;super(a),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>{var c;return(c=r)!=null?c:r=[e,...t()]}}}function fB(n){return ca(n)&&typeof n[Symbol.iterator]=="function"}function ca(n){return typeof n=="object"&&n!=null}function So(n){return typeof n=="string"?JSON.stringify(n):""+n}function hB(n){const{done:e,value:t}=n.next();return e?void 0:t}function pB(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:i,branch:o}=e,{type:s}=t,{refinement:a,message:c="Expected a value of type `"+s+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+So(r)+"`"}=n;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...n,message:c}}function*W1(n,e,t,r){fB(n)||(n=[n]);for(const i of n){const o=pB(i,e,t,r);o&&(yield o)}}function*Pm(n,e,t){t===void 0&&(t={});const{path:r=[],branch:i=[n],coerce:o=!1,mask:s=!1}=t,a={path:r,branch:i};if(o&&(n=e.coercer(n,a),s&&e.type!=="type"&&ca(e.schema)&&ca(n)&&!Array.isArray(n)))for(const l in n)e.schema[l]===void 0&&delete n[l];let c=!0;for(const l of e.validator(n,a))c=!1,yield[l,void 0];for(let[l,u,p]of e.entries(n,a)){const g=Pm(u,p,{path:l===void 0?r:[...r,l],branch:l===void 0?i:[...i,u],coerce:o,mask:s});for(const h of g)h[0]?(c=!1,yield[h[0],void 0]):o&&(u=h[1],l===void 0?n=u:n instanceof Map?n.set(l,u):n instanceof Set?n.add(u):ca(n)&&(n[l]=u))}if(c)for(const l of e.refiner(n,a))c=!1,yield[l,void 0];c&&(yield[void 0,n])}class xo{constructor(e){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:t,schema:r,validator:i,refiner:o,coercer:s=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=s,i?this.validator=(c,l)=>{const u=i(c,l);return W1(u,l,this,c)}:this.validator=()=>[],o?this.refiner=(c,l)=>{const u=o(c,l);return W1(u,l,this,c)}:this.refiner=()=>[]}assert(e){return gB(e,this)}create(e){return Dm(e,this)}is(e){return IR(e,this)}mask(e){return mB(e,this)}validate(e,t){return t===void 0&&(t={}),pl(e,this,t)}}function gB(n,e){const t=pl(n,e);if(t[0])throw t[0]}function Dm(n,e){const t=pl(n,e,{coerce:!0});if(t[0])throw t[0];return t[1]}function mB(n,e){const t=pl(n,e,{coerce:!0,mask:!0});if(t[0])throw t[0];return t[1]}function IR(n,e){return!pl(n,e)[0]}function pl(n,e,t){t===void 0&&(t={});const r=Pm(n,e,t),i=hB(r);return i[0]?[new dB(i[0],function*(){for(const s of r)s[0]&&(yield s[0])}),void 0]:[void 0,i[1]]}function gl(n,e){return new xo({type:n,schema:null,validator:e})}function yB(){return gl("any",()=>!0)}function tp(n){return new xo({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+So(e)}})}function wB(){return gl("boolean",n=>typeof n=="boolean")}function H1(n){const e=So(n);return new xo({type:"literal",schema:n,validator(t){return t===n||"Expected the literal `"+e+"`, but received: "+So(t)}})}function eu(n){return new xo({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function Ou(){return gl("number",n=>typeof n=="number"&&!isNaN(n)||"Expected a number, but received: "+So(n))}function Mu(n){return new xo({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function Xo(){return gl("string",n=>typeof n=="string"||"Expected a string, but received: "+So(n))}function wo(n){const e=Object.keys(n);return new xo({type:"type",schema:n,*entries(t){if(ca(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return ca(t)||"Expected an object, but received: "+So(t)}})}function xR(n){const e=n.map(t=>t.type).join(" | ");return new xo({type:"union",schema:null,coercer(t,r){return(n.find(o=>{const[s]=o.validate(t,{coerce:!0});return!s})||Um()).coercer(t,r)},validator(t,r){const i=[];for(const o of n){const[...s]=Pm(t,o,r),[a]=s;if(a[0])for(const[c]of s)c&&i.push(c);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+So(t),...i]}})}function Um(){return gl("unknown",()=>!0)}function vB(n,e,t){return new xo({...n,coercer:(r,i)=>IR(r,e)?n.coercer(t(r,i),i):n.coercer(r,i)})}const j1=99;async function _B(n,e,t){if(e.length<=j1)return await K1(n,e,t);{const r=nB(e,j1);return(await Promise.all(r.map(o=>K1(n,o,t)))).flat()}}async function K1(n,e,t){const r=t??n.commitment,{value:i,context:o}=await n.getMultipleAccountsInfoAndContext(e,r);return i.map((a,c)=>a===null?null:{publicKey:e[c],account:a,context:o})}async function EB(n,e,t,r,i){var o;t&&t.length>0&&e.sign(...t);const s=e._compile(),a=s.serialize(),l=e._serialize(a).toString("base64"),u={encoding:"base64",commitment:r??n.commitment};if(i){const w=(Array.isArray(i)?i:s.nonProgramIds()).map(k=>k.toBase58());u.accounts={encoding:"base64",addresses:w}}t&&t.length>0&&(u.sigVerify=!0);const p=[l,u],g=await n._rpcRequest("simulateTransaction",p),h=Dm(g,AB);if("error"in h){let w;if("data"in h.error&&(w=(o=h.error.data)===null||o===void 0?void 0:o.logs,w&&Array.isArray(w))){const k=`
    `,A=k+w.join(k);console.error(h.error.message,A)}throw new bo("failed to simulate transaction: "+h.error.message,w)}return h.result}function bB(n){return vB(TR(n),SB,e=>"error"in e?e:{...e,result:Dm(e.result,n)})}const SB=TR(Um());function TR(n){return xR([wo({jsonrpc:H1("2.0"),id:Xo(),result:n}),wo({jsonrpc:H1("2.0"),id:Xo(),error:wo({code:Um(),message:Xo(),data:Mu(yB())})})])}function RB(n){return bB(wo({context:wo({slot:Ou()}),value:n}))}const AB=RB(wo({err:eu(xR([wo({}),Xo()])),logs:eu(tp(Xo())),accounts:Mu(eu(tp(eu(wo({executable:wB(),owner:Xo(),lamports:Ou(),data:tp(Xo()),rentEpoch:Mu(Ou())}))))),unitsConsumed:Mu(Ou())}));class el{constructor(e,t,r=el.defaultOptions()){this.connection=e,this.wallet=t,this.opts=r,this.publicKey=t==null?void 0:t.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,t=el.defaultOptions()){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(e,t,r){var i,o,s,a;if(r===void 0&&(r=this.opts),To(e))t&&e.sign(t);else if(e.feePayer=(i=e.feePayer)!==null&&i!==void 0?i:this.wallet.publicKey,e.recentBlockhash=(await this.connection.getLatestBlockhash(r.preflightCommitment)).blockhash,t)for(const l of t)e.partialSign(l);e=await this.wallet.signTransaction(e);const c=e.serialize();try{return await V1(this.connection,c,r)}catch(l){if(l instanceof U0){const u=F1(To(e)?((o=e.signatures)===null||o===void 0?void 0:o[0])||new Uint8Array:(s=e.signature)!==null&&s!==void 0?s:new Uint8Array),p=To(e)?0:void 0,g=await this.connection.getTransaction(u,{commitment:"confirmed",maxSupportedTransactionVersion:p});if(g){const h=(a=g.meta)===null||a===void 0?void 0:a.logMessages;throw h?new bo(l.message,h):l}else throw l}else throw l}}async sendAll(e,t){var r,i,o;t===void 0&&(t=this.opts);const s=(await this.connection.getLatestBlockhash(t.preflightCommitment)).blockhash;let a=e.map(u=>{var p,g;if(To(u.tx)){let h=u.tx;return u.signers&&h.sign(u.signers),h}else{let h=u.tx,w=(p=u.signers)!==null&&p!==void 0?p:[];return h.feePayer=(g=h.feePayer)!==null&&g!==void 0?g:this.wallet.publicKey,h.recentBlockhash=s,w.forEach(k=>{h.partialSign(k)}),h}});const c=await this.wallet.signAllTransactions(a),l=[];for(let u=0;u<a.length;u+=1){const p=c[u],g=p.serialize();try{l.push(await V1(this.connection,g,t))}catch(h){if(h instanceof U0){const w=F1(To(p)?((r=p.signatures)===null||r===void 0?void 0:r[0])||new Uint8Array:(i=p.signature)!==null&&i!==void 0?i:new Uint8Array),k=To(p)?0:void 0,A=await this.connection.getTransaction(w,{commitment:"confirmed",maxSupportedTransactionVersion:k});if(A){const E=(o=A.meta)===null||o===void 0?void 0:o.logMessages;throw E?new bo(h.message,E):h}else throw h}else throw h}}return l}async simulate(e,t,r,i){let o=(await this.connection.getLatestBlockhash(r??this.connection.commitment)).blockhash,s;if(To(e)?(t&&t.length>0&&(e.sign(t),e=await this.wallet.signTransaction(e)),s=await this.connection.simulateTransaction(e,{commitment:r})):(e.feePayer=e.feePayer||this.wallet.publicKey,e.recentBlockhash=o,t&&t.length>0&&(e=await this.wallet.signTransaction(e)),s=await EB(this.connection,e,t,r,i)),s.value.err)throw new kB(s.value);return s.value}}class kB extends Error{constructor(e,t){super(t),this.simulationResponse=e}}async function V1(n,e,t){const r=t?{skipPreflight:t.skipPreflight,preflightCommitment:t.preflightCommitment||t.commitment,maxRetries:t.maxRetries,minContextSlot:t.minContextSlot}:{};let i;const o=Date.now();for(;Date.now()-o<6e4;)try{const s=await n.sendRawTransaction(e,r);if(t!=null&&t.blockhash)if(r.maxRetries===0){const a=AbortSignal.timeout(15e3);i=(await n.confirmTransaction({abortSignal:a,signature:s,...t.blockhash},t&&t.commitment)).value}else i=(await n.confirmTransaction({signature:s,...t.blockhash},t&&t.commitment)).value;else i=(await n.confirmTransaction(s,t&&t.commitment)).value;if(i.err)throw new U0(`Raw transaction ${s} failed (${JSON.stringify(i)})`);return s}catch(s){if(s.name==="TimeoutError")continue;throw s}throw Error("Transaction failed to confirm in 60s")}class U0 extends Error{constructor(e){super(e)}}function z0(){return el.local()}var IB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof s1<"u"?s1:typeof self<"u"?self:{},V={};Object.defineProperty(V,"__esModule",{value:!0});var CR=V.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=kA=V.ANCHOR_ERROR__REQUIRE_VIOLATED=AA=V.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=RA=V.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=SA=V.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=bA=V.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=EA=V.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=_A=V.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=vA=V.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=wA=V.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=yA=V.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=mA=V.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=gA=V.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=pA=V.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=hA=V.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=fA=V.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=dA=V.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=uA=V.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=lA=V.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=cA=V.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=aA=V.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=sA=V.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=oA=V.ANCHOR_ERROR__CONSTRAINT_SPACE=iA=V.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=rA=V.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=nA=V.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=tA=V.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=eA=V.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=JR=V.ANCHOR_ERROR__CONSTRAINT_ZERO=QR=V.ANCHOR_ERROR__CONSTRAINT_ADDRESS=XR=V.ANCHOR_ERROR__CONSTRAINT_CLOSE=ZR=V.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=YR=V.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=qR=V.ANCHOR_ERROR__CONSTRAINT_STATE=GR=V.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=$R=V.ANCHOR_ERROR__CONSTRAINT_SEEDS=VR=V.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=KR=V.ANCHOR_ERROR__CONSTRAINT_OWNER=jR=V.ANCHOR_ERROR__CONSTRAINT_RAW=HR=V.ANCHOR_ERROR__CONSTRAINT_SIGNER=WR=V.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=FR=V.ANCHOR_ERROR__CONSTRAINT_MUT=zR=V.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=UR=V.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=DR=V.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=PR=V.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=LR=V.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=BR=V.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=MR=V.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=OR=V.ANCHOR_ERROR__INSTRUCTION_MISSING=void 0,NR=V.ANCHOR_ERROR__DEPRECATED=QA=V.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=XA=V.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=ZA=V.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=YA=V.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=qA=V.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=GA=V.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=$A=V.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=VA=V.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=KA=V.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=jA=V.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=HA=V.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=WA=V.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=FA=V.ANCHOR_ERROR__INVALID_PROGRAM_ID=zA=V.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=UA=V.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=DA=V.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=PA=V.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=LA=V.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=BA=V.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=MA=V.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=OA=V.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=NA=V.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=CA=V.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=TA=V.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=xA=V.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=IA=V.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=void 0,OR=V.ANCHOR_ERROR__INSTRUCTION_MISSING=100,MR=V.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=101,BR=V.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=102,LR=V.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=103,PR=V.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=1e3,DR=V.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=1001,UR=V.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=1002,zR=V.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=1500,FR=V.ANCHOR_ERROR__CONSTRAINT_MUT=2e3,WR=V.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=2001,HR=V.ANCHOR_ERROR__CONSTRAINT_SIGNER=2002,jR=V.ANCHOR_ERROR__CONSTRAINT_RAW=2003,KR=V.ANCHOR_ERROR__CONSTRAINT_OWNER=2004,VR=V.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=2005,$R=V.ANCHOR_ERROR__CONSTRAINT_SEEDS=2006,GR=V.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=2007,qR=V.ANCHOR_ERROR__CONSTRAINT_STATE=2008,YR=V.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=2009,ZR=V.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=2010,XR=V.ANCHOR_ERROR__CONSTRAINT_CLOSE=2011,QR=V.ANCHOR_ERROR__CONSTRAINT_ADDRESS=2012,JR=V.ANCHOR_ERROR__CONSTRAINT_ZERO=2013,eA=V.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=2014,tA=V.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=2015,nA=V.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=2016,rA=V.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=2017,iA=V.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=2018,oA=V.ANCHOR_ERROR__CONSTRAINT_SPACE=2019,sA=V.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=2020,aA=V.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=2021,cA=V.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=2022,lA=V.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=2023,uA=V.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=2024,dA=V.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=2025,fA=V.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=2026,hA=V.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=2027,pA=V.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=2028,gA=V.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=2029,mA=V.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=2030,yA=V.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=2031,wA=V.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=2032,vA=V.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=2033,_A=V.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=2034,EA=V.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=2035,bA=V.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=2036,SA=V.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=2037,RA=V.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=2038,AA=V.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=2039,kA=V.ANCHOR_ERROR__REQUIRE_VIOLATED=2500;CR=V.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=2501;var IA=V.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=2502,xA=V.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=2503,TA=V.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=2504,CA=V.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=2505,NA=V.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=2506,OA=V.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=3e3,MA=V.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=3001,BA=V.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=3002,LA=V.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=3003,PA=V.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=3004,DA=V.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=3005,UA=V.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=3006,zA=V.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=3007,FA=V.ANCHOR_ERROR__INVALID_PROGRAM_ID=3008,WA=V.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=3009,HA=V.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=3010,jA=V.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=3011,KA=V.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=3012,VA=V.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=3013,$A=V.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=3014,GA=V.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=3015,qA=V.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=3016,YA=V.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=3017,ZA=V.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=4100,XA=V.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=4101,QA=V.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=4102;NR=V.ANCHOR_ERROR__DEPRECATED=5e3;const xB=new Map;function JA(n){return xB.get(n)!==void 0}class Vi extends Error{constructor(e){super(e),this.name="IdlError"}}class ml{constructor(e){this.stack=e}static parse(e){var t;const r=/^Program (\w*) invoke/,i=/^Program \w* success/,o=[];for(let s=0;s<e.length;s++){if(i.exec(e[s])){o.pop();continue}const a=(t=r.exec(e[s]))===null||t===void 0?void 0:t[1];a&&o.push(new Z(a))}return new ml(o)}}class Rc extends Error{constructor(e,t,r,i,o,s){super(r.join(`
`).replace("Program log: ","")),this.errorLogs=r,this.logs=i,this.error={errorCode:e,errorMessage:t,comparedValues:s,origin:o},this._programErrorStack=ml.parse(i)}static parse(e){if(!e)return null;const t=e.findIndex(g=>g.startsWith("Program log: AnchorError"));if(t===-1)return null;const r=e[t],i=[r];let o;if(t+1<e.length){if(e[t+1]==="Program log: Left:"){const g=/^Program log: (.*)$/,h=g.exec(e[t+2])[1],w=g.exec(e[t+4])[1];o=[new Z(h),new Z(w)],i.push(...e.slice(t+1,t+5))}else if(e[t+1].startsWith("Program log: Left:")){const g=/^Program log: (Left|Right): (.*)$/,h=g.exec(e[t+1])[2],w=g.exec(e[t+2])[2];i.push(...e.slice(t+1,t+3)),o=[h,w]}}const a=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),l=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),p=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r);if(a){const[g,h,w]=a.slice(1,4),k={code:g,number:parseInt(h)};return new Rc(k,w,i,e,void 0,o)}else if(l){const[g,h,w,k,A]=l.slice(1,6),E={code:w,number:parseInt(k)},b={file:g,line:parseInt(h)};return new Rc(E,A,i,e,b,o)}else if(p){const[g,h,w,k]=p.slice(1,5),A=g,E={code:h,number:parseInt(w)};return new Rc(E,k,i,e,A,o)}else return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class Ad extends Error{constructor(e,t,r){super(),this.code=e,this.msg=t,this.logs=r,r&&(this._programErrorStack=ml.parse(r))}static parse(e,t){const r=e.toString();let i;if(r.includes("custom program error:")){let a=r.split("custom program error: ");if(a.length!==2)return null;i=a[1]}else{const a=r.match(/"Custom":([0-9]+)}/g);if(!a||a.length>1)return null;i=a[0].match(/([0-9]+)/g)[0]}let o;try{o=parseInt(i)}catch{return null}let s=t.get(o);return s!==void 0?new Ad(o,s,e.logs):(s=TB.get(o),s!==void 0?new Ad(o,s,e.logs):null)}get program(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack}toString(){return this.msg}}function e2(n,e){JA("debug-logs")&&console.log("Translating error:",n);const t=Rc.parse(n.logs);if(t)return t;const r=Ad.parse(n,e);if(r)return r;if(n.logs){const i={get:function(o,s){return s==="programErrorStack"?o.programErrorStack.stack:s==="program"?o.programErrorStack.stack[n.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return n.programErrorStack=ml.parse(n.logs),new Proxy(n,i)}return n}const ce={InstructionMissing:OR,InstructionFallbackNotFound:MR,InstructionDidNotDeserialize:BR,InstructionDidNotSerialize:LR,IdlInstructionStub:PR,IdlInstructionInvalidProgram:DR,IdlAccountNotEmpty:UR,EventInstructionStub:zR,ConstraintMut:FR,ConstraintHasOne:WR,ConstraintSigner:HR,ConstraintRaw:jR,ConstraintOwner:KR,ConstraintRentExempt:VR,ConstraintSeeds:$R,ConstraintExecutable:GR,ConstraintState:qR,ConstraintAssociated:YR,ConstraintAssociatedInit:ZR,ConstraintClose:XR,ConstraintAddress:QR,ConstraintZero:JR,ConstraintTokenMint:eA,ConstraintTokenOwner:tA,ConstraintMintMintAuthority:nA,ConstraintMintFreezeAuthority:rA,ConstraintMintDecimals:iA,ConstraintSpace:oA,ConstraintAccountIsNone:sA,ConstraintTokenTokenProgram:aA,ConstraintMintTokenProgram:cA,ConstraintAssociatedTokenTokenProgram:lA,ConstraintMintGroupPointerExtension:uA,ConstraintMintGroupPointerExtensionAuthority:dA,ConstraintMintGroupPointerExtensionGroupAddress:fA,ConstraintMintGroupMemberPointerExtension:hA,ConstraintMintGroupMemberPointerExtensionAuthority:pA,ConstraintMintGroupMemberPointerExtensionMemberAddress:gA,ConstraintMintMetadataPointerExtension:mA,ConstraintMintMetadataPointerExtensionAuthority:yA,ConstraintMintMetadataPointerExtensionMetadataAddress:wA,ConstraintMintCloseAuthorityExtension:vA,ConstraintMintCloseAuthorityExtensionAuthority:_A,ConstraintMintPermanentDelegateExtension:EA,ConstraintMintPermanentDelegateExtensionDelegate:bA,ConstraintMintTransferHookExtension:SA,ConstraintMintTransferHookExtensionAuthority:RA,ConstraintMintTransferHookExtensionProgramId:AA,RequireViolated:kA,RequireEqViolated:CR,RequireKeysEqViolated:IA,RequireNeqViolated:xA,RequireKeysNeqViolated:TA,RequireGtViolated:CA,RequireGteViolated:NA,AccountDiscriminatorAlreadySet:OA,AccountDiscriminatorNotFound:MA,AccountDiscriminatorMismatch:BA,AccountDidNotDeserialize:LA,AccountDidNotSerialize:PA,AccountNotEnoughKeys:DA,AccountNotMutable:UA,AccountOwnedByWrongProgram:zA,InvalidProgramId:FA,InvalidProgramExecutable:WA,AccountNotSigner:HA,AccountNotSystemOwned:jA,AccountNotInitialized:KA,AccountNotProgramData:VA,AccountNotAssociatedTokenAccount:$A,AccountSysvarMismatch:GA,AccountReallocExceedsLimit:qA,AccountDuplicateReallocs:YA,DeclaredProgramIdMismatch:ZA,TryingToInitPayerAsProgramAccount:XA,InvalidNumericConversion:QA,Deprecated:NR},TB=new Map([[ce.InstructionMissing,"Instruction discriminator not provided"],[ce.InstructionFallbackNotFound,"Fallback functions are not supported"],[ce.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[ce.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[ce.IdlInstructionStub,"The program was compiled without idl instructions"],[ce.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[ce.IdlAccountNotEmpty,"IDL account must be empty in order to resize, try closing first"],[ce.EventInstructionStub,"The program was compiled without `event-cpi` feature"],[ce.ConstraintMut,"A mut constraint was violated"],[ce.ConstraintHasOne,"A has one constraint was violated"],[ce.ConstraintSigner,"A signer constraint was violated"],[ce.ConstraintRaw,"A raw constraint was violated"],[ce.ConstraintOwner,"An owner constraint was violated"],[ce.ConstraintRentExempt,"A rent exemption constraint was violated"],[ce.ConstraintSeeds,"A seeds constraint was violated"],[ce.ConstraintExecutable,"An executable constraint was violated"],[ce.ConstraintState,"Deprecated Error, feel free to replace with something else"],[ce.ConstraintAssociated,"An associated constraint was violated"],[ce.ConstraintAssociatedInit,"An associated init constraint was violated"],[ce.ConstraintClose,"A close constraint was violated"],[ce.ConstraintAddress,"An address constraint was violated"],[ce.ConstraintZero,"Expected zero account discriminant"],[ce.ConstraintTokenMint,"A token mint constraint was violated"],[ce.ConstraintTokenOwner,"A token owner constraint was violated"],[ce.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[ce.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[ce.ConstraintMintDecimals,"A mint decimals constraint was violated"],[ce.ConstraintSpace,"A space constraint was violated"],[ce.ConstraintAccountIsNone,"A required account for the constraint is None"],[ce.ConstraintTokenTokenProgram,"A token account token program constraint was violated"],[ce.ConstraintMintTokenProgram,"A mint token program constraint was violated"],[ce.ConstraintAssociatedTokenTokenProgram,"An associated token account token program constraint was violated"],[ce.ConstraintMintGroupPointerExtension,"A group pointer extension constraint was violated"],[ce.ConstraintMintGroupPointerExtensionAuthority,"A group pointer extension authority constraint was violated"],[ce.ConstraintMintGroupPointerExtensionGroupAddress,"A group pointer extension group address constraint was violated"],[ce.ConstraintMintGroupMemberPointerExtension,"A group member pointer extension constraint was violated"],[ce.ConstraintMintGroupMemberPointerExtensionAuthority,"A group member pointer extension authority constraint was violated"],[ce.ConstraintMintGroupMemberPointerExtensionMemberAddress,"A group member pointer extension group address constraint was violated"],[ce.ConstraintMintMetadataPointerExtension,"A metadata pointer extension constraint was violated"],[ce.ConstraintMintMetadataPointerExtensionAuthority,"A metadata pointer extension authority constraint was violated"],[ce.ConstraintMintMetadataPointerExtensionMetadataAddress,"A metadata pointer extension metadata address constraint was violated"],[ce.ConstraintMintCloseAuthorityExtension,"A close authority constraint was violated"],[ce.ConstraintMintCloseAuthorityExtensionAuthority,"A close authority extension authority constraint was violated"],[ce.ConstraintMintPermanentDelegateExtension,"A permanent delegate extension constraint was violated"],[ce.ConstraintMintPermanentDelegateExtensionDelegate,"A permanent delegate extension delegate constraint was violated"],[ce.ConstraintMintTransferHookExtension,"A transfer hook extension constraint was violated"],[ce.ConstraintMintTransferHookExtensionAuthority,"A transfer hook extension authority constraint was violated"],[ce.ConstraintMintTransferHookExtensionProgramId,"A transfer hook extension transfer hook program id constraint was violated"],[ce.RequireViolated,"A require expression was violated"],[ce.RequireEqViolated,"A require_eq expression was violated"],[ce.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[ce.RequireNeqViolated,"A require_neq expression was violated"],[ce.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[ce.RequireGtViolated,"A require_gt expression was violated"],[ce.RequireGteViolated,"A require_gte expression was violated"],[ce.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[ce.AccountDiscriminatorNotFound,"No discriminator was found on the account"],[ce.AccountDiscriminatorMismatch,"Account discriminator did not match what was expected"],[ce.AccountDidNotDeserialize,"Failed to deserialize the account"],[ce.AccountDidNotSerialize,"Failed to serialize the account"],[ce.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[ce.AccountNotMutable,"The given account is not mutable"],[ce.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[ce.InvalidProgramId,"Program ID was not as expected"],[ce.InvalidProgramExecutable,"Program account is not executable"],[ce.AccountNotSigner,"The given account did not sign"],[ce.AccountNotSystemOwned,"The given account is not owned by the system program"],[ce.AccountNotInitialized,"The program expected this account to be already initialized"],[ce.AccountNotProgramData,"The given account is not a program data account"],[ce.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[ce.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[ce.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[ce.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[ce.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[ce.TryingToInitPayerAsProgramAccount,"You cannot/should not initialize the payer account as a program account"],[ce.InvalidNumericConversion,"The program could not perform the numeric conversion, out of range integral type conversion attempted"],[ce.Deprecated,"The API being used is deprecated and should no longer be used"]]);class Le{static fieldLayout(e,t=[],r){const i=e.name;switch(e.type){case"bool":return Ie.bool(i);case"u8":return Ie.u8(i);case"i8":return Ie.i8(i);case"u16":return Ie.u16(i);case"i16":return Ie.i16(i);case"u32":return Ie.u32(i);case"i32":return Ie.i32(i);case"f32":return Ie.f32(i);case"u64":return Ie.u64(i);case"i64":return Ie.i64(i);case"f64":return Ie.f64(i);case"u128":return Ie.u128(i);case"i128":return Ie.i128(i);case"u256":return Ie.u256(i);case"i256":return Ie.i256(i);case"bytes":return Ie.vecU8(i);case"string":return Ie.str(i);case"pubkey":return Ie.publicKey(i);default:{if("option"in e.type)return Ie.option(Le.fieldLayout({type:e.type.option},t,r),i);if("vec"in e.type)return Ie.vec(Le.fieldLayout({type:e.type.vec},t,r),i);if("array"in e.type){let[o,s]=e.type.array;return s=Le.resolveArrayLen(s,r),Ie.array(Le.fieldLayout({type:o},t,r),s,i)}if("defined"in e.type){if(!t)throw new Vi("User defined types not provided");const o=e.type.defined.name,s=t.find(a=>a.name===o);if(!s)throw new Vi(`Type not found: ${e.name}`);return Le.typeDefLayout({typeDef:s,types:t,genericArgs:r??e.type.defined.generics,name:i})}if("generic"in e.type){const o=r==null?void 0:r.at(0);if((o==null?void 0:o.kind)!=="type")throw new Vi(`Invalid generic field: ${e.name}`);return Le.fieldLayout({...e,type:o.type},t)}throw new Vi(`Not yet implemented: ${JSON.stringify(e.type)}`)}}}static typeDefLayout({typeDef:e,types:t,name:r,genericArgs:i}){switch(e.type.kind){case"struct":{const o=Zs(e.type.fields,()=>[],s=>s.map(a=>{const c=i&&Le.resolveGenericArgs({type:a.type,typeDef:e,genericArgs:i});return Le.fieldLayout(a,t,c)}),s=>s.map((a,c)=>{const l=i&&Le.resolveGenericArgs({type:a,typeDef:e,genericArgs:i});return Le.fieldLayout({name:c.toString(),type:a},t,l)}));return Ie.struct(o,r)}case"enum":{const o=e.type.variants.map(s=>{const a=Zs(s.fields,()=>[],c=>c.map(l=>{const u=i&&Le.resolveGenericArgs({type:l.type,typeDef:e,genericArgs:i});return Le.fieldLayout(l,t,u)}),c=>c.map((l,u)=>{const p=i&&Le.resolveGenericArgs({type:l,typeDef:e,genericArgs:i});return Le.fieldLayout({name:u.toString(),type:l},t,p)}));return Ie.struct(a,s.name)});return r!==void 0?Ie.rustEnum(o).replicate(r):Ie.rustEnum(o,r)}case"type":return Le.fieldLayout({type:e.type.alias,name:r},t)}}static typeSize(e,t,r){var i;switch(e){case"bool":return 1;case"u8":return 1;case"i8":return 1;case"i16":return 2;case"u16":return 2;case"u32":return 4;case"i32":return 4;case"f32":return 4;case"u64":return 8;case"i64":return 8;case"f64":return 8;case"u128":return 16;case"i128":return 16;case"u256":return 32;case"i256":return 32;case"bytes":return 1;case"string":return 1;case"pubkey":return 32;default:if("option"in e)return 1+Le.typeSize(e.option,t,r);if("coption"in e)return 4+Le.typeSize(e.coption,t,r);if("vec"in e)return 1;if("array"in e){let[o,s]=e.array;return s=Le.resolveArrayLen(s,r),Le.typeSize(o,t,r)*s}if("defined"in e){const o=(i=t.types)===null||i===void 0?void 0:i.find(a=>a.name===e.defined.name);if(!o)throw new Vi(`Type not found: ${JSON.stringify(e)}`);const s=a=>{const c=r??e.defined.generics,l=c&&Le.resolveGenericArgs({type:a,typeDef:o,genericArgs:c});return Le.typeSize(a,t,l)};switch(o.type.kind){case"struct":return Zs(o.type.fields,()=>[0],a=>a.map(c=>s(c.type)),a=>a.map(c=>s(c))).reduce((a,c)=>a+c,0);case"enum":{const a=o.type.variants.map(c=>Zs(c.fields,()=>[0],l=>l.map(u=>s(u.type)),l=>l.map(u=>s(u))).reduce((l,u)=>l+u,0));return Math.max(...a)+1}case"type":return Le.typeSize(o.type.alias,t,r)}}if("generic"in e){const o=r==null?void 0:r.at(0);if((o==null?void 0:o.kind)!=="type")throw new Vi(`Invalid generic: ${e.generic}`);return Le.typeSize(o.type,t,r)}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}static resolveArrayLen(e,t){if(typeof e=="number")return e;if(t){const r=t.find(i=>i.kind==="const");(r==null?void 0:r.kind)==="const"&&(e=+r.value)}if(typeof e!="number")throw new Vi("Generic array length did not resolve");return e}static resolveGenericArgs({type:e,typeDef:t,genericArgs:r,isDefined:i}){if(typeof e!="object")return null;for(const o in t.generics){const s=t.generics[o];if("generic"in e&&s.name===e.generic)return[r[o]];if("option"in e){const a=Le.resolveGenericArgs({type:e.option,typeDef:t,genericArgs:r,isDefined:i});if(!a||!i)return a;if(a[0].kind==="type")return[{kind:"type",type:{option:a[0].type}}]}if("vec"in e){const a=Le.resolveGenericArgs({type:e.vec,typeDef:t,genericArgs:r,isDefined:i});if(!a||!i)return a;if(a[0].kind==="type")return[{kind:"type",type:{vec:a[0].type}}]}if("array"in e){const[a,c]=e.array,l=typeof c=="object",u=Le.resolveGenericArgs({type:a,typeDef:t,genericArgs:r,isDefined:i})||[];if(l){const p=t.generics.findIndex(g=>g.name===c.generic);p!==-1&&u.push(r[p])}if(u.length>0){if(!i)return u;if(u[0].kind==="type"&&u[1].kind==="const")return[{kind:"type",type:{array:[u[0].type,+u[1].value]}}]}if(l&&s.name===c.generic){const p=r[o];return i?[{kind:"type",type:{array:[a,+p.value]}}]:[p]}return null}if("defined"in e)return e.defined.generics?e.defined.generics.flatMap(a=>{switch(a.kind){case"type":return Le.resolveGenericArgs({type:a.type,typeDef:t,genericArgs:r,isDefined:!0});case"const":return[a]}}).filter(a=>a!==null):null}return null}}class CB{constructor(e){this.idl=e;const t=e.instructions.map(r=>{const i=r.name,o=r.args.map(a=>Le.fieldLayout(a,e.types)),s=Ie.struct(o,i);return[i,{discriminator:r.discriminator,layout:s}]});this.ixLayouts=new Map(t)}encode(e,t){const r=me.alloc(1e3),i=this.ixLayouts.get(e);if(!i)throw new Error(`Unknown method: ${e}`);const o=i.layout.encode(t,r),s=r.slice(0,o);return me.concat([me.from(i.discriminator),s])}decode(e,t="hex"){typeof e=="string"&&(e=t==="hex"?me.from(e,"hex"):Zt.decode(e));for(const[r,i]of this.ixLayouts){const o=e.subarray(0,i.discriminator.length);if(o.equals(me.from(i.discriminator)))return{name:r,data:i.layout.decode(e.subarray(o.length))}}return null}format(e,t){return Xn.format(e,t,this.idl)}}class Xn{static format(e,t,r){const i=r.instructions.find(c=>e.name===c.name);if(!i)return console.error("Invalid instruction given"),null;const o=i.args.map(c=>({name:c.name,type:Xn.formatIdlType(c.type),data:Xn.formatIdlData(c,e.data[c.name],r.types)})),s=Xn.flattenIdlAccounts(i.accounts),a=t.map((c,l)=>l<s.length?{name:s[l].name,...c}:{name:void 0,...c});return{args:o,accounts:a}}static formatIdlType(e){if(typeof e=="string")return e;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("coption"in e)return`COption<${this.formatIdlType(e.coption)}>`;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;if("defined"in e){const t=e.defined.name;if(e.defined.generics){const r=e.defined.generics.map(i=>{switch(i.kind){case"type":return Xn.formatIdlType(i.type);case"const":return i.value}}).join(", ");return`${t}<${r}>`}return t}throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,t,r){if(typeof e.type=="string")return t.toString();if("vec"in e.type)return"["+t.map(i=>this.formatIdlData({name:"",type:e.type.vec},i,r)).join(", ")+"]";if("option"in e.type)return t===null?"null":this.formatIdlData({name:"",type:e.type.option},t,r);if("defined"in e.type){if(!r)throw new Error("User defined types not provided");const i=e.type.defined.name,o=r.find(s=>s.name===i);if(!o)throw new Error(`Type not found: ${i}`);return Xn.formatIdlDataDefined(o,t,r)}return"unknown"}static formatIdlDataDefined(e,t,r){switch(e.type.kind){case"struct":return"{ "+Zs(e.type.fields,()=>"",i=>Object.entries(t).map(([o,s])=>{const a=i.find(c=>c.name===o);if(!a)throw new Error(`Field not found: ${o}`);return o+": "+Xn.formatIdlData(a,s,r)}).join(", "),i=>Object.entries(t).map(([o,s])=>o+": "+Xn.formatIdlData({name:"",type:i[o]},s,r)).join(", "))+" }";case"enum":{const i=Object.keys(t)[0],o=e.type.variants.find(a=>a.name===i);if(!o)throw new Error(`Unable to find variant: ${i}`);const s=t[i];return Zs(o.fields,()=>i,a=>{const c=Object.keys(s).map(l=>{const u=s[l],p=a.find(g=>g.name===l);if(!p)throw new Error(`Field not found: ${l}`);return l+": "+Xn.formatIdlData(p,u,r)}).join(", ");return`${i} { ${c} }`},a=>{const c=Object.entries(s).map(([l,u])=>l+": "+Xn.formatIdlData({name:"",type:a[l]},u,r)).join(", ");return`${i} { ${c} }`})}case"type":return Xn.formatIdlType(e.type.alias)}}static flattenIdlAccounts(e,t){return e.map(r=>{const i=NB(r.name);if(r.hasOwnProperty("accounts")){const o=t?`${t} > ${i}`:i;return Xn.flattenIdlAccounts(r.accounts,o)}else return{...r,name:t?`${t} > ${i}`:i}}).flat()}}function NB(n){const e=n.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}class OB{constructor(e){if(this.idl=e,!e.accounts){this.accountLayouts=new Map;return}const t=e.types;if(!t)throw new Error("Accounts require `idl.types`");const r=e.accounts.map(i=>{const o=t.find(s=>s.name===i.name);if(!o)throw new Error(`Account not found: ${i.name}`);return[i.name,{discriminator:i.discriminator,layout:Le.typeDefLayout({typeDef:o,types:t})}]});this.accountLayouts=new Map(r)}async encode(e,t){const r=me.alloc(1e3),i=this.accountLayouts.get(e);if(!i)throw new Error(`Unknown account: ${e}`);const o=i.layout.encode(t,r),s=r.slice(0,o),a=this.accountDiscriminator(e);return me.concat([a,s])}decode(e,t){const r=this.accountDiscriminator(e);if(r.compare(t.slice(0,r.length)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,t)}decodeAny(e){for(const[t,r]of this.accountLayouts)if(e.subarray(0,r.discriminator.length).equals(me.from(r.discriminator)))return this.decodeUnchecked(t,e);throw new Error("Account not found")}decodeUnchecked(e,t){const r=this.accountDiscriminator(e),i=t.subarray(r.length),o=this.accountLayouts.get(e);if(!o)throw new Error(`Unknown account: ${e}`);return o.layout.decode(i)}memcmp(e,t){const r=this.accountDiscriminator(e);return{offset:0,bytes:Zt.encode(t?me.concat([r,t]):r)}}size(e){return this.accountDiscriminator(e).length+Le.typeSize({defined:{name:e}},this.idl)}accountDiscriminator(e){var t;const r=(t=this.idl.accounts)===null||t===void 0?void 0:t.find(i=>i.name===e);if(!r)throw new Error(`Account not found: ${e}`);return me.from(r.discriminator)}}class MB{constructor(e){if(!e.events){this.layouts=new Map;return}const t=e.types;if(!t)throw new Error("Events require `idl.types`");const r=e.events.map(i=>{const o=t.find(s=>s.name===i.name);if(!o)throw new Error(`Event not found: ${i.name}`);return[i.name,{discriminator:i.discriminator,layout:Le.typeDefLayout({typeDef:o,types:t})}]});this.layouts=new Map(r)}decode(e){let t;try{t=AR(e)}catch{return null}for(const[r,i]of this.layouts){const o=t.subarray(0,i.discriminator.length);if(o.equals(me.from(i.discriminator)))return{name:r,data:i.layout.decode(t.subarray(o.length))}}return null}}class BB{constructor(e){const t=e.types;if(!t){this.typeLayouts=new Map;return}const r=t.filter(i=>!i.generics).map(i=>[i.name,Le.typeDefLayout({typeDef:i,types:t})]);this.typeLayouts=new Map(r)}encode(e,t){const r=me.alloc(1e3),i=this.typeLayouts.get(e);if(!i)throw new Error(`Unknown type: ${e}`);const o=i.encode(t,r);return r.slice(0,o)}decode(e,t){const r=this.typeLayouts.get(e);if(!r)throw new Error(`Unknown type: ${e}`);return r.decode(t)}}class t2{constructor(e){this.instruction=new CB(e),this.accounts=new OB(e),this.events=new MB(e),this.types=new BB(e)}}class Yn{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,r){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}var wf=Yn;function LB(n,e){return e.property?n+"["+e.property+"]":n}class Qo extends Yn{isCount(){throw new Error("ExternalLayout is abstract")}}class n2 extends Qo{constructor(e,t,r){if(!(e instanceof Yn))throw new TypeError("layout must be a Layout");if(t===void 0)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof vf||this.layout instanceof r2}decode(e,t){return t===void 0&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,r){return r===void 0&&(r=0),this.layout.encode(e,t,r+this.offset)}}class vf extends Yn{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeUIntLE(e,r,this.span),this.span}}class r2 extends Yn{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeUIntBE(e,r,this.span),this.span}}const F0=Math.pow(2,32);function i2(n){const e=Math.floor(n/F0),t=n-e*F0;return{hi32:e,lo32:t}}function o2(n,e){return n*F0+e}class PB extends Yn{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const r=e.readUInt32LE(t),i=e.readUInt32LE(t+4);return o2(i,r)}encode(e,t,r){r===void 0&&(r=0);const i=i2(e);return t.writeUInt32LE(i.lo32,r),t.writeUInt32LE(i.hi32,r+4),8}}class DB extends Yn{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const r=e.readUInt32LE(t),i=e.readInt32LE(t+4);return o2(i,r)}encode(e,t,r){r===void 0&&(r=0);const i=i2(e);return t.writeUInt32LE(i.lo32,r),t.writeInt32LE(i.hi32,r+4),8}}class UB extends Yn{constructor(e,t,r){if(!(Array.isArray(e)&&e.reduce((o,s)=>o&&s instanceof Yn,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&r===void 0&&(r=t,t=void 0);for(const o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((o,s)=>o+s.getSpan(),0)}catch{}super(i,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let r=0;try{r=this.fields.reduce((i,o)=>{const s=o.getSpan(e,t);return t+=s,i+s},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,t){t===void 0&&(t=0);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,t)),t+=i.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r){r===void 0&&(r=0);const i=r;let o=0,s=0;for(const a of this.fields){let c=a.span;if(s=0<c?c:0,a.property!==void 0){const l=e[a.property];l!==void 0&&(s=a.encode(l,t,r),0>c&&(c=a.getSpan(t,r)))}o=r,r+=c}return o+s-i}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}class s2{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class $1 extends s2{constructor(e,t){if(!(e instanceof Qo&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}class a2 extends Yn{constructor(e,t,r){const i=e instanceof vf||e instanceof r2;if(i)e=new $1(new n2(e));else if(e instanceof Qo&&e.isCount())e=new $1(e);else if(!(e instanceof s2))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof Yn))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let o=-1;t&&(o=t.span,0<=o&&i&&(o+=e.layout.span)),super(o,r),this.discriminator=e,this.usesPrefixDiscriminator=i,this.defaultLayout=t,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);const r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const r=this.registry[t];if(e.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(e,t){t===void 0&&(t=0);let r;const i=this.discriminator,o=i.decode(e,t);let s=this.registry[o];if(s===void 0){let a=0;s=this.defaultLayout,this.usesPrefixDiscriminator&&(a=i.layout.span),r=this.makeDestinationObject(),r[i.property]=o,r[s.property]=this.defaultLayout.decode(e,t+a)}else r=s.decode(e,t);return r}encode(e,t,r){r===void 0&&(r=0);const i=this.getSourceVariant(e);if(i===void 0){const o=this.discriminator,s=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=o.layout.span),o.encode(e[o.property],t,r),a+s.encode(e[s.property],t,r+a)}return i.encode(e,t,r)}addVariant(e,t,r){const i=new zB(this,e,t,r);return this.registry[e]=i,i}getVariant(e,t){let r=e;return de.isBuffer(e)&&(t===void 0&&(t=0),r=this.discriminator.decode(e,t)),this.registry[r]}}class zB extends Yn{constructor(e,t,r,i){if(!(e instanceof a2))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof Yn))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=r?r.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,i),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,t+r)}decode(e,t){const r=this.makeDestinationObject();if(t===void 0&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r){r===void 0&&(r=0);let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let o=i;if(this.layout&&(this.layout.encode(e[this.property],t,r+i),o+=this.layout.getSpan(t,r+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class FB extends Yn{constructor(e,t){if(!(e instanceof Qo&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof Qo||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t){t===void 0&&(t=0);let r=this.span;return 0>r&&(r=this.length.decode(e,t)),e.slice(t,t+r)}encode(e,t,r){let i=this.length;if(this.length instanceof Qo&&(i=e.length),!(de.isBuffer(e)&&i===e.length))throw new TypeError(LB("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(r+i>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),r,i,"hex"),this.length instanceof Qo&&this.length.encode(i,t,r),i}}var WB=(n,e,t)=>new n2(n,e,t),HB=n=>new vf(1,n),wi=n=>new vf(4,n),jB=n=>new PB(n),Ni=n=>new DB(n),nn=(n,e,t)=>new UB(n,e,t),c2=(n,e,t)=>new a2(n,e,t),yl=(n,e)=>new FB(n,e);class KB extends wf{constructor(e){super(-1,e),this.property=e,this.layout=nn([wi("length"),wi("lengthPadding"),yl(WB(wi(),-8),"chars")],this.property)}encode(e,t,r=0){if(e==null)return this.layout.span;const i={chars:de.from(e,"utf8")};return this.layout.encode(i,t,r)}decode(e,t=0){return this.layout.decode(e,t).chars.toString()}getSpan(e,t=0){return wi().span+wi().span+new Tr(new Uint8Array(e).slice(t,t+4),10,"le").toNumber()}}function _f(n){return new KB(n)}function br(n){return yl(32,n)}const dr=c2(wi("instruction"));dr.addVariant(0,nn([Ni("lamports"),Ni("space"),br("owner")]),"createAccount");dr.addVariant(1,nn([br("owner")]),"assign");dr.addVariant(2,nn([Ni("lamports")]),"transfer");dr.addVariant(3,nn([br("base"),_f("seed"),Ni("lamports"),Ni("space"),br("owner")]),"createAccountWithSeed");dr.addVariant(4,nn([br("authorized")]),"advanceNonceAccount");dr.addVariant(5,nn([Ni("lamports")]),"withdrawNonceAccount");dr.addVariant(6,nn([br("authorized")]),"initializeNonceAccount");dr.addVariant(7,nn([br("authorized")]),"authorizeNonceAccount");dr.addVariant(8,nn([Ni("space")]),"allocate");dr.addVariant(9,nn([br("base"),_f("seed"),Ni("space"),br("owner")]),"allocateWithSeed");dr.addVariant(10,nn([br("base"),_f("seed"),br("owner")]),"assignWithSeed");dr.addVariant(11,nn([Ni("lamports"),_f("seed"),br("owner")]),"transferWithSeed");Math.max(...Object.values(dr.registry).map(n=>n.span));class VB extends wf{constructor(e,t,r,i){super(e.span,i),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}}function G1(n){return new VB(yl(32),e=>new Z(e),e=>e.toBuffer(),n)}nn([wi("version"),wi("state"),G1("authorizedPubkey"),G1("nonce"),nn([jB("lamportsPerSignature")],"feeCalculator")]);new Z("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new Z("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var q1={exports:{}};(function(n,e){var t=typeof self<"u"?self:IB,r=function(){function o(){this.fetch=!1,this.DOMException=t.DOMException}return o.prototype=t,new o}();(function(o){(function(s){var a={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function c(d){return d&&DataView.prototype.isPrototypeOf(d)}if(a.arrayBuffer)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(d){return d&&l.indexOf(Object.prototype.toString.call(d))>-1};function p(d){if(typeof d!="string"&&(d=String(d)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(d))throw new TypeError("Invalid character in header field name");return d.toLowerCase()}function g(d){return typeof d!="string"&&(d=String(d)),d}function h(d){var f={next:function(){var S=d.shift();return{done:S===void 0,value:S}}};return a.iterable&&(f[Symbol.iterator]=function(){return f}),f}function w(d){this.map={},d instanceof w?d.forEach(function(f,S){this.append(S,f)},this):Array.isArray(d)?d.forEach(function(f){this.append(f[0],f[1])},this):d&&Object.getOwnPropertyNames(d).forEach(function(f){this.append(f,d[f])},this)}w.prototype.append=function(d,f){d=p(d),f=g(f);var S=this.map[d];this.map[d]=S?S+", "+f:f},w.prototype.delete=function(d){delete this.map[p(d)]},w.prototype.get=function(d){return d=p(d),this.has(d)?this.map[d]:null},w.prototype.has=function(d){return this.map.hasOwnProperty(p(d))},w.prototype.set=function(d,f){this.map[p(d)]=g(f)},w.prototype.forEach=function(d,f){for(var S in this.map)this.map.hasOwnProperty(S)&&d.call(f,this.map[S],S,this)},w.prototype.keys=function(){var d=[];return this.forEach(function(f,S){d.push(S)}),h(d)},w.prototype.values=function(){var d=[];return this.forEach(function(f){d.push(f)}),h(d)},w.prototype.entries=function(){var d=[];return this.forEach(function(f,S){d.push([S,f])}),h(d)},a.iterable&&(w.prototype[Symbol.iterator]=w.prototype.entries);function k(d){if(d.bodyUsed)return Promise.reject(new TypeError("Already read"));d.bodyUsed=!0}function A(d){return new Promise(function(f,S){d.onload=function(){f(d.result)},d.onerror=function(){S(d.error)}})}function E(d){var f=new FileReader,S=A(f);return f.readAsArrayBuffer(d),S}function b(d){var f=new FileReader,S=A(f);return f.readAsText(d),S}function _(d){for(var f=new Uint8Array(d),S=new Array(f.length),T=0;T<f.length;T++)S[T]=String.fromCharCode(f[T]);return S.join("")}function x(d){if(d.slice)return d.slice(0);var f=new Uint8Array(d.byteLength);return f.set(new Uint8Array(d)),f.buffer}function L(){return this.bodyUsed=!1,this._initBody=function(d){this._bodyInit=d,d?typeof d=="string"?this._bodyText=d:a.blob&&Blob.prototype.isPrototypeOf(d)?this._bodyBlob=d:a.formData&&FormData.prototype.isPrototypeOf(d)?this._bodyFormData=d:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(d)?this._bodyText=d.toString():a.arrayBuffer&&a.blob&&c(d)?(this._bodyArrayBuffer=x(d.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(d)||u(d))?this._bodyArrayBuffer=x(d):this._bodyText=d=Object.prototype.toString.call(d):this._bodyText="",this.headers.get("content-type")||(typeof d=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(d)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var d=k(this);if(d)return d;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?k(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(E)}),this.text=function(){var d=k(this);if(d)return d;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(_(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(z)}),this.json=function(){return this.text().then(JSON.parse)},this}var U=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function D(d){var f=d.toUpperCase();return U.indexOf(f)>-1?f:d}function W(d,f){f=f||{};var S=f.body;if(d instanceof W){if(d.bodyUsed)throw new TypeError("Already read");this.url=d.url,this.credentials=d.credentials,f.headers||(this.headers=new w(d.headers)),this.method=d.method,this.mode=d.mode,this.signal=d.signal,!S&&d._bodyInit!=null&&(S=d._bodyInit,d.bodyUsed=!0)}else this.url=String(d);if(this.credentials=f.credentials||this.credentials||"same-origin",(f.headers||!this.headers)&&(this.headers=new w(f.headers)),this.method=D(f.method||this.method||"GET"),this.mode=f.mode||this.mode||null,this.signal=f.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&S)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(S)}W.prototype.clone=function(){return new W(this,{body:this._bodyInit})};function z(d){var f=new FormData;return d.trim().split("&").forEach(function(S){if(S){var T=S.split("="),I=T.shift().replace(/\+/g," "),O=T.join("=").replace(/\+/g," ");f.append(decodeURIComponent(I),decodeURIComponent(O))}}),f}function H(d){var f=new w,S=d.replace(/\r?\n[\t ]+/g," ");return S.split(/\r?\n/).forEach(function(T){var I=T.split(":"),O=I.shift().trim();if(O){var P=I.join(":").trim();f.append(O,P)}}),f}L.call(W.prototype);function q(d,f){f||(f={}),this.type="default",this.status=f.status===void 0?200:f.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in f?f.statusText:"OK",this.headers=new w(f.headers),this.url=f.url||"",this._initBody(d)}L.call(q.prototype),q.prototype.clone=function(){return new q(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new w(this.headers),url:this.url})},q.error=function(){var d=new q(null,{status:0,statusText:""});return d.type="error",d};var $=[301,302,303,307,308];q.redirect=function(d,f){if($.indexOf(f)===-1)throw new RangeError("Invalid status code");return new q(null,{status:f,headers:{location:d}})},s.DOMException=o.DOMException;try{new s.DOMException}catch{s.DOMException=function(f,S){this.message=f,this.name=S;var T=Error(f);this.stack=T.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function R(d,f){return new Promise(function(S,T){var I=new W(d,f);if(I.signal&&I.signal.aborted)return T(new s.DOMException("Aborted","AbortError"));var O=new XMLHttpRequest;function P(){O.abort()}O.onload=function(){var N={status:O.status,statusText:O.statusText,headers:H(O.getAllResponseHeaders()||"")};N.url="responseURL"in O?O.responseURL:N.headers.get("X-Request-URL");var y="response"in O?O.response:O.responseText;S(new q(y,N))},O.onerror=function(){T(new TypeError("Network request failed"))},O.ontimeout=function(){T(new TypeError("Network request failed"))},O.onabort=function(){T(new s.DOMException("Aborted","AbortError"))},O.open(I.method,I.url,!0),I.credentials==="include"?O.withCredentials=!0:I.credentials==="omit"&&(O.withCredentials=!1),"responseType"in O&&a.blob&&(O.responseType="blob"),I.headers.forEach(function(N,y){O.setRequestHeader(y,N)}),I.signal&&(I.signal.addEventListener("abort",P),O.onreadystatechange=function(){O.readyState===4&&I.signal.removeEventListener("abort",P)}),O.send(typeof I._bodyInit>"u"?null:I._bodyInit)})}return R.polyfill=!0,o.fetch||(o.fetch=R,o.Headers=w,o.Request=W,o.Response=q),s.Headers=w,s.Request=W,s.Response=q,s.fetch=R,Object.defineProperty(s,"__esModule",{value:!0}),s})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,n.exports=e})(q1,q1.exports);Ie.rustEnum([Ie.struct([],"uninitialized"),Ie.struct([Ie.option(Ie.publicKey(),"authorityAddress")],"buffer"),Ie.struct([Ie.publicKey("programdataAddress")],"program"),Ie.struct([Ie.u64("slot"),Ie.option(Ie.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,Ie.u32());const W0="Program log: ",l2="Program data: ",$B=W0.length,GB=l2.length;class qB{constructor(e,t,r){this._programId=e,this._provider=t,this._eventParser=new u2(e,r),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,t,r){var i;let o=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(e)||this._eventListeners.set(e,[]),this._eventListeners.set(e,((i=this._eventListeners.get(e))!==null&&i!==void 0?i:[]).concat(o)),this._eventCallbacks.set(o,[e,t]),this._onLogsSubscriptionId!==void 0||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(s,a)=>{if(!s.err)for(const c of this._eventParser.parseLogs(s.logs)){const l=this._eventListeners.get(c.name);l&&l.forEach(u=>{const p=this._eventCallbacks.get(u);if(p){const[,g]=p;g(c.data,a.slot,s.signature)}})}},r)),o}async removeEventListener(e){const t=this._eventCallbacks.get(e);if(!t)throw new Error(`Event listener ${e} doesn't exist!`);const[r]=t;let i=this._eventListeners.get(r);if(!i)throw new Error(`Event listeners don't exist for ${r}!`);if(this._eventCallbacks.delete(e),i=i.filter(o=>o!==e),this._eventListeners.set(r,i),i.length===0&&this._eventListeners.delete(r),this._eventCallbacks.size===0){if(this._eventListeners.size!==0)throw new Error(`Expected event listeners size to be 0 but got ${this._eventListeners.size}`);this._onLogsSubscriptionId!==void 0&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0)}}}class u2{constructor(e,t){this.coder=t,this.programId=e}*parseLogs(e,t=!1){const r=new ZB(e),i=new YB;let o=r.next();for(;o!==null;){let[s,a,c]=this.handleLog(i,o,t);s&&(yield s),a&&i.push(a),c&&i.pop(),o=r.next()}}handleLog(e,t,r){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(t,r):[null,...this.handleSystemLog(t)]}handleProgramLog(e,t){if(e.startsWith(W0)||e.startsWith(l2)){const r=e.startsWith(W0)?e.slice($B):e.slice(GB),i=this.coder.events.decode(r);if(t&&i===null)throw new Error(`Unable to decode event ${r}`);return[i,null,!1]}else return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const t=e.split(":")[0];return t.match(/^Program (.*) success/g)!==null?[null,!0]:t.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:t.includes("invoke")?["cpi",!1]:[null,!1]}}class YB{constructor(){this.stack=[]}program(){if(!this.stack.length)throw new Error("Expected the stack to have elements");return this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){if(!this.stack.length)throw new Error("Expected the stack to have elements");this.stack.pop()}}class ZB{constructor(e){this.logs=e}next(){if(this.logs.length===0)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}function Ef(n,e){var t,r;let i={};const o=n.args?n.args.length:0;if(e.length>o){if(e.length!==o+1)throw new Error(`provided too many arguments ${e} to instruction ${n==null?void 0:n.name} expecting: ${(r=(t=n.args)===null||t===void 0?void 0:t.map(s=>s.name))!==null&&r!==void 0?r:[]}`);i=e.pop()}return[e,i]}class kd{static build(e,t,r){if(e.name==="_inner")throw new Vi("the _inner name is reserved");const i=(...o)=>{const[s,a]=Ef(e,[...o]);kR(e.accounts,a.accounts),XB(e,...o);const c=i.accounts(a.accounts);return a.remainingAccounts!==void 0&&c.push(...a.remainingAccounts),JA("debug-logs")&&console.log("Outgoing account metas:",c),new Ge({keys:c,programId:r,data:t(e.name,uB(e,...s))})};return i.accounts=o=>kd.accountsArray(o,e.accounts,r,e.name),i}static accountsArray(e,t,r,i){return e?t.map(o=>{if(Yi(o)){const u=e[o.name];return kd.accountsArray(u,o.accounts,r,i).flat()}let s;try{s=Nr(e[o.name])}catch{throw new Error(`Wrong input type for account "${o.name}" in the instruction accounts object${i!==void 0?' for instruction "'+i+'"':""}. Expected PublicKey or string.`)}const a=o.optional&&s.equals(r),c=!!(o.writable&&!a),l=!!(o.signer&&!a);return{pubkey:s,isWritable:c,isSigner:l}}).flat():[]}}function XB(n,...e){}class QB{static build(e,t){return(...i)=>{var o,s,a;const[,c]=Ef(e,[...i]),l=new Me;if(c.preInstructions&&c.instructions)throw new Error("instructions is deprecated, use preInstructions");return(o=c.preInstructions)===null||o===void 0||o.forEach(u=>l.add(u)),(s=c.instructions)===null||s===void 0||s.forEach(u=>l.add(u)),l.add(t(...i)),(a=c.postInstructions)===null||a===void 0||a.forEach(u=>l.add(u)),l}}}class JB{static build(e,t,r,i){return async(...s)=>{var a;const c=t(...s),[,l]=Ef(e,[...s]);if(i.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await i.sendAndConfirm(c,(a=l.signers)!==null&&a!==void 0?a:[],l.options)}catch(u){throw e2(u,r)}}}}class e5{static build(e,t,r,i){var o;return((o=e.accounts)!==null&&o!==void 0?o:[]).reduce((s,a)=>(s[a.name]=new t5(e,a,r,i,t),s),{})}}class t5{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}constructor(e,t,r,i,o){this._idlAccount=t,this._programId=r,this._provider=i??z0(),this._coder=o??new t2(e),this._size=this._coder.accounts.size(t.name)}async fetchNullable(e,t){const{data:r}=await this.fetchNullableAndContext(e,t);return r}async fetchNullableAndContext(e,t){const r=await this.getAccountInfoAndContext(e,t),{value:i,context:o}=r;return{data:i&&i.data.length!==0?this._coder.accounts.decode(this._idlAccount.name,i.data):null,context:o}}async fetch(e,t){const{data:r}=await this.fetchNullableAndContext(e,t);if(r===null)throw new Error(`Account does not exist or has no data ${e.toString()}`);return r}async fetchAndContext(e,t){const{data:r,context:i}=await this.fetchNullableAndContext(e,t);if(r===null)throw new Error(`Account does not exist ${e.toString()}`);return{data:r,context:i}}async fetchMultiple(e,t){return(await this.fetchMultipleAndContext(e,t)).map(i=>i?i.data:null)}async fetchMultipleAndContext(e,t){return(await _B(this._provider.connection,e.map(i=>Nr(i)),t)).map(i=>{if(i==null)return null;const{account:o,context:s}=i;return{data:this._coder.accounts.decode(this._idlAccount.name,o.data),context:s}})}async all(e){const t=this.coder.accounts.memcmp(this._idlAccount.name,e instanceof de?e:void 0),r=[];return(t==null?void 0:t.offset)!=null&&(t==null?void 0:t.bytes)!=null&&r.push({memcmp:{offset:t.offset,bytes:t.bytes}}),(t==null?void 0:t.dataSize)!=null&&r.push({dataSize:t.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...r,...Array.isArray(e)?e:[]]})).map(({pubkey:o,account:s})=>({publicKey:o,account:this._coder.accounts.decode(this._idlAccount.name,s.data)}))}subscribe(e,t){const r=Xa.get(e.toString());if(r)return r.ee;const i=new tB;e=Nr(e);const o=this._provider.connection.onAccountChange(e,s=>{const a=this._coder.accounts.decode(this._idlAccount.name,s.data);i.emit("change",a)},t);return Xa.set(e.toString(),{ee:i,listener:o}),i}async unsubscribe(e){let t=Xa.get(e.toString());if(!t){console.warn("Address is not subscribed");return}Xa&&await this._provider.connection.removeAccountChangeListener(t.listener).then(()=>{Xa.delete(e.toString())}).catch(console.error)}async createInstruction(e,t){const r=this.size;if(this._provider.publicKey===void 0)throw new Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return ut.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:e.publicKey,space:t??r,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(t??r),programId:this._programId})}async getAccountInfo(e,t){return await this._provider.connection.getAccountInfo(Nr(e),t)}async getAccountInfoAndContext(e,t){return await this._provider.connection.getAccountInfoAndContext(Nr(e),t)}}const Xa=new Map;class n5{static build(e,t,r,i,o,s,a){return async(...l)=>{var u;const p=t(...l),[,g]=Ef(e,[...l]);let h;if(i.simulate===void 0)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{h=await i.simulate(p,g.signers,(u=g.options)===null||u===void 0?void 0:u.commitment)}catch(A){throw e2(A,r)}if(h===void 0)throw new Error("Unable to simulate transaction");const w=h.logs;if(!w)throw new Error("Simulated logs not found");const k=[];if(a.events){let A=new u2(s,o);for(const E of A.parseLogs(w))k.push(E)}return{events:k,raw:w}}}}function np(n){return new d2(yl(8),e=>i5.fromBuffer(e),e=>e.toBuffer(),n)}function tu(n){return new d2(yl(32),e=>new Z(e),e=>e.toBuffer(),n)}function rp(n,e){return new r5(n,e)}class d2 extends wf{constructor(e,t,r,i){super(e.span,i),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}}class r5 extends wf{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=wi()}encode(e,t,r=0){return e==null?this.layout.span+this.discriminator.encode(0,t,r):(this.discriminator.encode(1,t,r),this.layout.encode(e,t,r+4)+4)}decode(e,t=0){const r=this.discriminator.decode(e,t);if(r===0)return null;if(r===1)return this.layout.decode(e,t+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,t=0){return this.layout.getSpan(e,t+4)+4}}let i5=class f2 extends Tr{toBuffer(){const e=super.toArray().reverse(),t=de.from(e);if(t.length===8)return t;if(t.length>=8)throw new Error("u64 too large");const r=de.alloc(8);return t.copy(r),r}static fromBuffer(e){if(e.length!==8)throw new Error(`Invalid buffer length: ${e.length}`);return new f2([...e].reverse().map(t=>`00${t.toString(16)}`.slice(-2)).join(""),16)}};const o5=nn([tu("mint"),tu("owner"),np("amount"),rp(tu(),"delegate"),(n=>{const e=c2(HB("discriminator"),null,n);return e.addVariant(0,nn([]),"uninitialized"),e.addVariant(1,nn([]),"initialized"),e.addVariant(2,nn([]),"frozen"),e})("state"),rp(np(),"isNative"),np("delegatedAmount"),rp(tu(),"closeAuthority")]);function s5(n){return o5.decode(n)}class a5{constructor(e,t,r,i,o,s,a,c){this._args=e,this._accounts=t,this._provider=r,this._programId=i,this._idlIx=o,this._idlTypes=a,this._customResolver=c,this._accountStore=new c5(r,s,i)}args(e){this._args=e}async resolve(){this.resolveEventCpi(this._idlIx.accounts),this.resolveConst(this._idlIx.accounts);let e=0;for(;await this.resolvePdasAndRelations(this._idlIx.accounts)+await this.resolveCustom()>0;)if(e++,e===16){const t=s=>Yi(s)?s.accounts.some(t):!!(s.address||s.pda||s.relations),r=(s,a=[],c=[])=>{for(const l of s)Yi(l)?c.push(...r(l.accounts,[...a,l.name])):c.push([...a,l.name]);return c},i=this._idlIx.accounts.filter(t),o=r(i).filter(s=>!this.get(s)).map(s=>s.reduce((a,c)=>a+"."+c)).map(s=>`\`${s}\``).join(", ");throw new Error(["Reached maximum depth for account resolution.",`Unresolved accounts: ${o}`].join(" "))}}resolveOptionals(e){Object.assign(this._accounts,this.resolveOptionalsHelper(e,this._idlIx.accounts))}get(e){const t=e.reduce((r,i)=>r&&r[i],this._accounts);if(t&&t.toBase58)return t}set(e,t){let r=this._accounts;e.forEach((i,o)=>{var s;o===e.length-1&&(r[i]=t),r[i]=(s=r[i])!==null&&s!==void 0?s:{},r=r[i]})}resolveOptionalsHelper(e,t){const r={};for(const i of t){const o=i.name,s=e[o];s!==void 0&&(h2(s)?Yi(i)?r[o]=this.resolveOptionalsHelper(s,i.accounts):r[o]=p2(s):s!==null?r[o]=Nr(s):i.optional&&(r[o]=this._programId))}return r}async resolveCustom(){if(this._customResolver){const{accounts:e,resolved:t}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=e,t}return 0}resolveEventCpi(e,t=[]){for(const r in e){const i=e[r];Yi(i)&&this.resolveEventCpi(i.accounts,[...t,i.name]);const o=+r+1;if(o===e.length)return;const s=e[r].name,a=e[o].name;if(s==="eventAuthority"&&a==="program"){const c=[...t,s],l=[...t,a];this.get(c)||this.set(c,Z.findProgramAddressSync([de.from("__event_authority")],this._programId)[0]),this.get(l)||this.set(l,this._programId);return}}}resolveConst(e,t=[]){for(const r of e){const i=r.name;if(Yi(r))this.resolveConst(r.accounts,[...t,i]);else{const o=r;if((o.signer||o.address)&&!this.get([...t,i])){if(o.signer){if(!this._provider.publicKey)throw new Error("This function requires the `Provider` interface implementor to have a `publicKey` field.");this.set([...t,i],this._provider.publicKey)}o.address&&this.set([...t,i],Nr(o.address))}}}}async resolvePdasAndRelations(e,t=[]){let r=0;for(const i of e){const o=i.name;if(Yi(i))r+=await this.resolvePdasAndRelations(i.accounts,[...t,o]);else{const s=i;if((s.pda||s.relations)&&!this.get([...t,o])){r++;try{if(s.pda){const a=await Promise.all(s.pda.seeds.map(u=>this.toBuffer(u,t)));if(a.some(u=>!u))continue;const c=await this.parseProgramId(s,t),[l]=Z.findProgramAddressSync(a,c);this.set([...t,o],l)}}catch{}try{if(s.relations){const a=this.get([...t,s.relations[0]]);if(a){const c=await this._accountStore.fetchAccount({publicKey:a});this.set([...t,o],c[o])}}}catch{}}}}return r}async parseProgramId(e,t=[]){var r;if(!(!((r=e.pda)===null||r===void 0)&&r.program))return this._programId;const i=await this.toBuffer(e.pda.program,t);if(!i)throw new Error(`Program seed not resolved: ${e.name}`);return new Z(i)}async toBuffer(e,t=[]){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e,t);default:throw new Error(`Unexpected seed: ${e}`)}}toBufferConst(e){return this.toBufferValue("bytes",e.value)}async toBufferArg(e){const[t,...r]=e.path.split("."),i=this._idlIx.args.findIndex(a=>a.name===t);if(i===-1)throw new Error(`Unable to find argument for seed: ${t}`);const o=r.reduce((a,c)=>(a??{})[c],this._args[i]);if(o===void 0)return;const s=this.getType(this._idlIx.args[i].type,r);return this.toBufferValue(s,o)}async toBufferAccount(e,t=[]){const[r,...i]=e.path.split("."),o=this.get([...t,r]);if(!o)return;if(!i.length)return this.toBufferValue("pubkey",o);if(!e.account)throw new Error(`Seed account is required in order to resolve type: ${e.path}`);let a=await this._accountStore.fetchAccount({publicKey:o,name:e.account}),c=i;for(;c.length>0;)a=a[c[0]],c=c.slice(1);if(a===void 0)return;const l=this.getType({defined:{name:e.account}},i);return this.toBufferValue(l,a)}toBufferValue(e,t){switch(e){case"u8":case"i8":return de.from([t]);case"u16":case"i16":return new Tr(t).toArrayLike(de,"le",2);case"u32":case"i32":return new Tr(t).toArrayLike(de,"le",4);case"u64":case"i64":return new Tr(t).toArrayLike(de,"le",8);case"u128":case"i128":return new Tr(t).toArrayLike(de,"le",16);case"u256":case"i256":return new Tr(t).toArrayLike(de,"le",32);case"string":return de.from(t);case"pubkey":return t.toBuffer();case"bytes":return de.from(t);default:if(e!=null&&e.array)return de.from(t);throw new Error(`Unexpected seed type: ${e}`)}}getType(e,t=[]){var r;const i=(r=e==null?void 0:e.defined)===null||r===void 0?void 0:r.name;if(i){if(i==="tokenAccount")switch(t.at(0)){case"mint":case"owner":return"pubkey";case"amount":case"delagatedAmount":return"u64";default:throw new Error(`Unknown token account path: ${t}`)}const o=this._idlTypes.find(u=>u.name===i);if(!o)throw new Error(`Type not found: ${i}`);const[s,...a]=t,l=o.type.fields.find(u=>u.name===s);if(!l)throw new Error(`Field not found: ${s}`);return this.getType(l.type,a)}return e}}class c5{constructor(e,t,r){this._provider=e,this._cache=new Map,this._idls={},this._idls[r.toBase58()]=t}async fetchAccount({publicKey:e,name:t}){const r=e.toBase58();if(!this._cache.has(r)){const i=await this._provider.connection.getAccountInfo(e);if(i===null)throw new Error(`Account not found: ${r}`);if(t==="tokenAccount"){const o=s5(i.data);this._cache.set(r,o)}else{const o=await this.getAccountsNs(i.owner);if(o){const s=Object.values(o)[0];if(s){const a=s.coder.accounts.decodeAny(i.data);this._cache.set(r,a)}}}}return this._cache.get(r)}async getAccountsNs(e){const t=e.toBase58();if(!this._idls[t]){const r=await Ia.fetchIdl(e,this._provider);if(r){const i=new Ia(r,this._provider);this._idls[t]=i.account}}return this._idls[t]}}class l5{static build(e,t,r,i,o,s,a,c,l,u,p){return(...g)=>new u5(g,i,o,s,a,c,e,t,r,l,u,p)}}function h2(n){return typeof n=="object"&&n!==null&&!("_bn"in n)}function p2(n,e){const t={};for(const r in n){const i=n[r];if(i===null)throw new Error("Failed to resolve optionals due to IDL type mismatch with input accounts!");t[r]=h2(i)?p2(i):Nr(i)}return t}class u5{constructor(e,t,r,i,o,s,a,c,l,u,p,g){this._args=e,this._ixFn=t,this._txFn=r,this._rpcFn=i,this._simulateFn=o,this._viewFn=s,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._resolveAccounts=!0,this._accountsResolver=new a5(e,this._accounts,a,c,l,u,p,g)}args(e){this._args=e,this._accountsResolver.args(e)}accounts(e){return this.accountsPartial(e)}accountsPartial(e){return this._resolveAccounts=!0,this._accountsResolver.resolveOptionals(e),this}accountsStrict(e){return this._resolveAccounts=!1,this._accountsResolver.resolveOptionals(e),this}signers(e){return this._signers=this._signers.concat(e),this}remainingAccounts(e){return this._remainingAccounts=this._remainingAccounts.concat(e),this}preInstructions(e,t=!1){return t?this._preInstructions=e.concat(this._preInstructions):this._preInstructions=this._preInstructions.concat(e),this}postInstructions(e){return this._postInstructions=this._postInstructions.concat(e),this}async pubkeys(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._accounts}async instruction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async simulate(e){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async view(e){if(this._resolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error(["Method does not support views.","The instruction should return a value, and its accounts must be read-only"].join(" "));return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async rpc(e){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async rpcAndKeys(e){return{signature:await this.rpc(e),pubkeys:await this.pubkeys()}}async prepare(){return{instruction:await this.instruction(),signers:this._signers,pubkeys:await this.pubkeys()}}}class d5{static build(e,t,r,i){const o=t.accounts.find(c=>c.writable),s=!!t.returns;return o||!s?void 0:async(...c)=>{let l=await r(...c);const u=`Program return: ${e} `;let p=l.raw.find(k=>k.startsWith(u));if(!p)throw new Error("View expected return log");let g=AR(p.slice(u.length)),h=t.returns;if(!h)throw new Error("View expected return type");return Le.fieldLayout({type:h},i.types).decode(g)}}}class f5{static build(e,t,r,i,o){const s={},a={},c={},l={},u={},p={},g=lB(e),h=e.accounts?e5.build(e,t,r,i):{};return e.instructions.forEach(w=>{const k=kd.build(w,(U,D)=>t.instruction.encode(U,D),r),A=QB.build(w,k),E=JB.build(w,A,g,i),b=n5.build(w,A,g,i,t,r,e),_=d5.build(r,w,b,e),x=l5.build(i,r,w,k,A,E,b,_,h,e.types||[],o==null?void 0:o(w)),L=w.name;a[L]=k,c[L]=A,s[L]=E,l[L]=b,u[L]=x,_&&(p[L]=_)}),[s,a,c,h,l,u,p]}}class Ia{get programId(){return this._programId}get idl(){return this._idl}get rawIdl(){return this._rawIdl}get coder(){return this._coder}get provider(){return this._provider}constructor(e,t=z0(),r,i){this._idl=cB(e),this._rawIdl=e,this._provider=t,this._programId=Nr(e.address),this._coder=r??new t2(this._idl),this._events=new qB(this._programId,t,this._coder);const[o,s,a,c,l,u,p]=f5.build(this._idl,this._coder,this._programId,t,i);this.rpc=o,this.instruction=s,this.transaction=a,this.account=c,this.simulate=l,this.methods=u,this.views=p}static async at(e,t){const r=Nr(e),i=await Ia.fetchIdl(r,t);if(!i)throw new Error(`IDL not found for program: ${e.toString()}`);return new Ia(i,t)}static async fetchIdl(e,t){t=t??z0();const r=Nr(e),i=await iB(r),o=await t.connection.getAccountInfo(i);if(!o)return null;let s=aB(o.data.slice(8));const a=J8(s.data);return JSON.parse(rB(a))}addEventListener(e,t,r){return this._events.addEventListener(e,t,r)}async removeEventListener(e){return await this._events.removeEventListener(e)}}new Z("11111111111111111111111111111111");const h5="HTsUwP8nKSJJ5nJ627WVX1gj3HzxtgcCJuuzJSPxaRhq",p5={name:"solana_quadratic_voting_dao",version:"0.1.0",spec:"0.1.0",description:"Created with Anchor"},g5=[{name:"add_to_whitelist",discriminator:[157,211,52,54,144,81,5,55],accounts:[{name:"dao",pda:{seeds:[{kind:"const",value:[100,97,111]},{kind:"account",path:"dao.name",account:"Dao"}]}},{name:"whitelist_record",writable:!0,pda:{seeds:[{kind:"const",value:[119,104,105,116,101,108,105,115,116]},{kind:"account",path:"dao"},{kind:"arg",path:"user"}]}},{name:"authority",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"user",type:"pubkey"}]},{name:"cancel_proposal",discriminator:[106,74,128,146,19,65,39,23],accounts:[{name:"proposal",writable:!0},{name:"dao"},{name:"authority",signer:!0}],args:[]},{name:"create_proposal",discriminator:[132,116,68,174,216,160,198,22],accounts:[{name:"dao",writable:!0},{name:"proposal",writable:!0,pda:{seeds:[{kind:"const",value:[112,114,111,112,111,115,97,108]},{kind:"account",path:"dao"},{kind:"account",path:"dao.proposal_count",account:"Dao"}]}},{name:"proposer",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"title",type:"string"},{name:"description",type:"string"},{name:"voting_period",type:"i64"}]},{name:"execute_proposal",discriminator:[186,60,116,133,108,128,111,28],accounts:[{name:"proposal",writable:!0},{name:"dao"},{name:"authority",signer:!0}],args:[]},{name:"initialize",discriminator:[175,175,109,31,13,152,155,237],accounts:[{name:"dao",writable:!0,pda:{seeds:[{kind:"const",value:[100,97,111]},{kind:"arg",path:"name"}]}},{name:"governance_mint",writable:!0,pda:{seeds:[{kind:"const",value:[103,111,118,101,114,110,97,110,99,101,95,109,105,110,116]},{kind:"account",path:"dao"}]}},{name:"authority",writable:!0,signer:!0},{name:"token_program",address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"name",type:"string"},{name:"quorum_threshold",type:"u64"}]},{name:"mint_governance_tokens",discriminator:[34,236,35,108,203,108,129,215],accounts:[{name:"dao",pda:{seeds:[{kind:"const",value:[100,97,111]},{kind:"account",path:"dao.name",account:"Dao"}]}},{name:"governance_mint",writable:!0},{name:"recipient_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"recipient"},{kind:"account",path:"token_program"},{kind:"account",path:"governance_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"mint_record",writable:!0,pda:{seeds:[{kind:"const",value:[109,105,110,116,95,114,101,99,111,114,100]},{kind:"account",path:"recipient"}]}},{name:"recipient",writable:!0,signer:!0},{name:"token_program",address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"associated_token_program",address:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{name:"system_program",address:"11111111111111111111111111111111"}],args:[]},{name:"remove_from_whitelist",discriminator:[7,144,216,239,243,236,193,235],accounts:[{name:"dao",pda:{seeds:[{kind:"const",value:[100,97,111]},{kind:"account",path:"dao.name",account:"Dao"}]}},{name:"whitelist_record",writable:!0,pda:{seeds:[{kind:"const",value:[119,104,105,116,101,108,105,115,116]},{kind:"account",path:"dao"},{kind:"account",path:"whitelist_record.user",account:"WhitelistRecord"}]}},{name:"authority",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[]},{name:"tally_proposal",discriminator:[20,91,72,31,245,129,245,40],accounts:[{name:"proposal",writable:!0},{name:"dao"}],args:[]},{name:"vote",discriminator:[227,110,155,23,136,126,172,25],accounts:[{name:"proposal",writable:!0},{name:"dao"},{name:"whitelist_record",pda:{seeds:[{kind:"const",value:[119,104,105,116,101,108,105,115,116]},{kind:"account",path:"dao"},{kind:"account",path:"voter"}]}},{name:"vote_record",writable:!0,pda:{seeds:[{kind:"const",value:[118,111,116,101]},{kind:"account",path:"proposal"},{kind:"account",path:"voter"}]}},{name:"governance_mint",writable:!0},{name:"voter_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"voter"},{kind:"account",path:"token_program"},{kind:"account",path:"governance_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"voter",writable:!0,signer:!0},{name:"token_program",address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"vote_amount",type:"u64"},{name:"support",type:"bool"}]}],m5=[{name:"Dao",discriminator:[163,9,47,31,52,85,197,49]},{name:"MintRecord",discriminator:[47,252,142,126,241,162,116,188]},{name:"Proposal",discriminator:[26,94,189,187,116,136,53,33]},{name:"VoteRecord",discriminator:[112,9,123,165,234,9,157,167]},{name:"WhitelistRecord",discriminator:[212,112,61,182,76,232,45,46]}],y5=[{code:6e3,name:"TitleTooLong",msg:"Title too long (max 200 characters)"},{code:6001,name:"DescriptionTooLong",msg:"Description too long (max 1000 characters)"},{code:6002,name:"InvalidVotingPeriod",msg:"Invalid voting period"},{code:6003,name:"VotingClosed",msg:"Voting period has closed"},{code:6004,name:"ProposalNotActive",msg:"Proposal is not active"},{code:6005,name:"InvalidVoteAmount",msg:"Invalid vote amount"},{code:6006,name:"InsufficientTokens",msg:"Insufficient governance tokens"},{code:6007,name:"ArithmeticOverflow",msg:"Arithmetic overflow"},{code:6008,name:"VotingStillOpen",msg:"Voting is still open"},{code:6009,name:"ProposalNotPassed",msg:"Proposal has not passed"},{code:6010,name:"Unauthorized",msg:"Unauthorized"},{code:6011,name:"InvalidGovernanceMint",msg:"Invalid governance mint"},{code:6012,name:"BalanceTooHigh",msg:"Balance too high to mint (must be below 50 tokens)"},{code:6013,name:"MintCapReached",msg:"Cannot exceed maximum balance of 100 tokens"},{code:6014,name:"MintCooldownActive",msg:"Must wait 24 hours between mints"},{code:6015,name:"NotWhitelisted",msg:"User not whitelisted"}],w5=[{name:"Dao",type:{kind:"struct",fields:[{name:"authority",type:"pubkey"},{name:"governance_mint",type:"pubkey"},{name:"name",type:"string"},{name:"proposal_count",type:"u64"},{name:"quorum_threshold",type:"u64"},{name:"bump",type:"u8"}]}},{name:"MintRecord",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"last_mint_time",type:"i64"},{name:"bump",type:"u8"}]}},{name:"Proposal",type:{kind:"struct",fields:[{name:"dao",type:"pubkey"},{name:"proposer",type:"pubkey"},{name:"title",type:"string"},{name:"description",type:"string"},{name:"start_time",type:"i64"},{name:"end_time",type:"i64"},{name:"yes_votes",type:"u64"},{name:"no_votes",type:"u64"},{name:"total_votes_cast",type:"u64"},{name:"state",type:{defined:{name:"ProposalState"}}},{name:"proposal_id",type:"u64"},{name:"bump",type:"u8"}]}},{name:"ProposalState",type:{kind:"enum",variants:[{name:"Active"},{name:"Passed"},{name:"Rejected"},{name:"Executed"},{name:"Cancelled"},{name:"QuorumNotMet"}]}},{name:"VoteRecord",type:{kind:"struct",fields:[{name:"voter",type:"pubkey"},{name:"proposal",type:"pubkey"},{name:"vote_amount",type:"u64"},{name:"support",type:"bool"},{name:"timestamp",type:"i64"},{name:"tokens_spent",type:"u64"},{name:"bump",type:"u8"}]}},{name:"WhitelistRecord",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"whitelisted",type:"bool"},{name:"bump",type:"u8"}]}}],v5={address:h5,metadata:p5,instructions:g5,accounts:m5,errors:y5,types:w5};function za(){const{connection:n}=Em(),e=Bi();return Q.useMemo(()=>{if(!e.publicKey)return null;const t=new el(n,e,{commitment:"confirmed"});return new Ia(v5,t)},[n,e])}function _5({message:n,type:e,txHash:t,onClose:r}){Q.useEffect(()=>{const s=setTimeout(()=>{r()},8e3);return()=>clearTimeout(s)},[r]);const i=t?`https://explorer.solana.com/tx/${t}?cluster=devnet`:null,o=t?`${t.slice(0,8)}...${t.slice(-8)}`:null;return X.jsxs("div",{style:{position:"fixed",bottom:"2rem",right:"2rem",maxWidth:"400px",background:e==="success"?"rgba(46, 204, 113, 0.95)":"rgba(231, 76, 60, 0.95)",color:"white",padding:"1rem 1.5rem",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",zIndex:9999,animation:"slideIn 0.3s ease-out"},children:[X.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"1rem"},children:[X.jsxs("div",{style:{flex:1},children:[X.jsx("div",{style:{fontWeight:"bold",marginBottom:"0.5rem"},children:e==="success"?"Success!":"Error"}),X.jsx("div",{style:{fontSize:"0.9rem",marginBottom:t?"0.5rem":"0"},children:n}),t&&i&&X.jsxs("div",{style:{marginTop:"0.75rem",fontSize:"0.85rem"},children:[X.jsx("div",{style:{fontFamily:"monospace",fontSize:"0.75rem",opacity:.9,marginBottom:"0.5rem",wordBreak:"break-all"},children:o}),X.jsx("a",{href:i,target:"_blank",rel:"noopener noreferrer",style:{color:"white",textDecoration:"underline",fontSize:"0.85rem",display:"inline-block"},children:"View on Explorer "})]})]}),X.jsx("button",{onClick:r,style:{background:"transparent",border:"none",color:"white",fontSize:"1.5rem",cursor:"pointer",padding:"0",lineHeight:"1",minWidth:"auto"},children:""})]}),X.jsx("style",{children:`
        @keyframes slideIn {
          from {
            transform: translateX(400px);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
      `})]})}const g2=Q.createContext(void 0);function E5({children:n}){const[e,t]=Q.useState([]),r=(o,s,a)=>{const c=Date.now();t(l=>[...l,{id:c,message:o,type:s,txHash:a}])},i=o=>{t(s=>s.filter(a=>a.id!==o))};return X.jsxs(g2.Provider,{value:{showToast:r},children:[n,X.jsx("div",{style:{position:"fixed",bottom:"2rem",right:"2rem",display:"flex",flexDirection:"column",gap:"1rem",zIndex:9999},children:e.map((o,s)=>X.jsx("div",{style:{transform:`translateY(-${s*10}px)`},children:X.jsx(_5,{message:o.message,type:o.type,txHash:o.txHash,onClose:()=>i(o.id)})},o.id))})]})}function wl(){const n=Q.useContext(g2);if(!n)throw new Error("useToast must be used within ToastProvider");return n}function b5({onProposalCreated:n}){const{publicKey:e}=Bi(),t=za(),{showToast:r}=wl(),[i,o]=Q.useState(""),[s,a]=Q.useState(""),[c,l]=Q.useState("1"),[u,p]=Q.useState("0"),[g,h]=Q.useState(!1),[w,k]=Q.useState(""),A=async E=>{if(E.preventDefault(),!(!t||!e)){h(!0),k("");try{const b="MainDAO",[_]=Z.findProgramAddressSync([de.from("dao"),de.from(b)],t.programId),x=await t.account.dao.fetch(_),[L]=Z.findProgramAddressSync([de.from("proposal"),_.toBuffer(),x.proposalCount.toArrayLike(de,"le",8)],t.programId),U=parseInt(c)||0,D=parseInt(u)||0,W=U*3600+D*60,z=await t.methods.createProposal(i,s,new Tr(W)).accounts({dao:_,proposal:L,proposer:e,systemProgram:ut.programId}).rpc();r("Proposal created successfully!","success",z),o(""),a(""),l("1"),p("0"),n()}catch(b){console.error("Error creating proposal:",b);const _=b.message||"Failed to create proposal";k(_),r(_,"error")}finally{h(!1)}}};return X.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",borderRadius:"12px",padding:"1.5rem"},children:[X.jsx("h2",{style:{marginBottom:"1.5rem"},children:"Create Proposal"}),X.jsxs("form",{onSubmit:A,children:[X.jsxs("div",{style:{marginBottom:"1rem"},children:[X.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.9rem"},children:"Title"}),X.jsx("input",{type:"text",value:i,onChange:E=>o(E.target.value),placeholder:"Enter proposal title",maxLength:200,required:!0})]}),X.jsxs("div",{style:{marginBottom:"1rem"},children:[X.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.9rem"},children:"Description"}),X.jsx("textarea",{value:s,onChange:E=>a(E.target.value),placeholder:"Describe your proposal",rows:4,maxLength:1e3,required:!0})]}),X.jsxs("div",{style:{marginBottom:"1.5rem"},children:[X.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.9rem"},children:"Voting Period"}),X.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"0.5rem"},children:[X.jsxs("div",{style:{flex:1},children:[X.jsx("input",{type:"number",value:c,onChange:E=>l(E.target.value),placeholder:"Hours",min:"0",max:"168"}),X.jsx("small",{style:{color:"#aaa",fontSize:"0.75rem",display:"block",marginTop:"0.25rem"},children:"Hours"})]}),X.jsxs("div",{style:{flex:1},children:[X.jsx("input",{type:"number",value:u,onChange:E=>p(E.target.value),placeholder:"Minutes",min:"0",max:"59"}),X.jsx("small",{style:{color:"#aaa",fontSize:"0.75rem",display:"block",marginTop:"0.25rem"},children:"Minutes"})]})]}),X.jsxs("small",{style:{color:"#aaa",fontSize:"0.8rem"},children:["Total: ",parseInt(c)||0,"h ",parseInt(u)||0,"m"]})]}),w&&X.jsx("div",{style:{padding:"0.8rem",background:"rgba(255,0,0,0.1)",border:"1px solid rgba(255,0,0,0.3)",borderRadius:"8px",marginBottom:"1rem",fontSize:"0.9rem"},children:w}),X.jsx("button",{type:"submit",disabled:g,style:{width:"100%"},children:g?"Creating...":"Create Proposal"})]})]})}const S5=new Z("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),Ac=new Z("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),kc=new Z("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");new Z("So11111111111111111111111111111111111111112");new Z("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");const zm=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}};var vl={};Object.defineProperty(vl,"__esModule",{value:!0});function R5(n){{const e=de.from(n);e.reverse();const t=e.toString("hex");return t.length===0?BigInt(0):BigInt(`0x${t}`)}}var A5=vl.toBigIntLE=R5;function k5(n){{const e=n.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}vl.toBigIntBE=k5;function I5(n,e){{const t=n.toString(16),r=de.from(t.padStart(e*2,"0").slice(0,e*2),"hex");return r.reverse(),r}}var x5=vl.toBufferLE=I5;function T5(n,e){{const t=n.toString(16);return de.from(t.padStart(e*2,"0").slice(0,e*2),"hex")}}vl.toBufferBE=T5;const C5=n=>e=>{const t=Ye(n,e),{encode:r,decode:i}=zm(t),o=t;return o.decode=(s,a)=>{const c=i(s,a);return A5(de.from(c))},o.encode=(s,a,c)=>{const l=x5(s,n);return r(l,a,c)},o},N5=C5(8),O5=n=>{const e=Be(n),{encode:t,decode:r}=zm(e),i=e;return i.decode=(o,s)=>!!r(o,s),i.encode=(o,s,a)=>{const c=Number(o);return t(c,s,a)},i},Y1=n=>{const e=Ye(32,n),{encode:t,decode:r}=zm(e),i=e;return i.decode=(o,s)=>{const a=r(o,s);return new Z(a)},i.encode=(o,s,a)=>{const c=o.toBuffer();return t(c,s,a)},i};class M5 extends Error{constructor(e){super(e)}}class B5 extends M5{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}const L5=ge([pe("mintAuthorityOption"),Y1("mintAuthority"),N5("supply"),Be("decimals"),O5("isInitialized"),pe("freezeAuthorityOption"),Y1("freezeAuthority")]);L5.span;function H0(n,e,t=!1,r=S5,i=kc){if(!t&&!Z.isOnCurve(e.toBuffer()))throw new B5;const[o]=Z.findProgramAddressSync([e.toBuffer(),r.toBuffer(),n.toBuffer()],i);return o}function P5({proposalPda:n,onVoted:e}){const{publicKey:t}=Bi(),r=za(),{showToast:i}=wl(),[o,s]=Q.useState("1"),[a,c]=Q.useState(!0),[l,u]=Q.useState(!1),p=k=>k*k,g=async k=>{var A,E,b,_;if(k.preventDefault(),!(!r||!t)){u(!0);try{const x="MainDAO",[L]=Z.findProgramAddressSync([de.from("dao"),de.from(x)],r.programId),D=(await r.account.dao.fetch(L)).governanceMint,W=H0(D,t,!1,Ac,kc),[z]=Z.findProgramAddressSync([de.from("whitelist"),L.toBuffer(),t.toBuffer()],r.programId),[H]=Z.findProgramAddressSync([de.from("vote"),n.toBuffer(),t.toBuffer()],r.programId),q=await r.methods.vote(new Tr(o),a).accounts({proposal:n,dao:L,whitelistRecord:z,voteRecord:H,governanceMint:D,voterTokenAccount:W,voter:t,tokenProgram:Ac,systemProgram:ut.programId}).rpc();i("Vote submitted successfully!","success",q),e()}catch(x){console.error("Error voting:",x);let L="Failed to submit vote";(A=x.message)!=null&&A.includes("already in use")||(E=x.message)!=null&&E.includes("custom program error: 0x0")?L="You have already voted on this proposal.":(b=x.message)!=null&&b.includes("NotWhitelisted")?L="You are not whitelisted to vote on this proposal.":(_=x.message)!=null&&_.includes("insufficient funds")?L="Insufficient tokens to cast this vote. Check your balance.":x.message&&(L=x.message),i(L,"error")}finally{u(!1)}}},h=parseInt(o)||0,w=p(h);return X.jsxs("form",{onSubmit:g,style:{padding:"1.5rem",background:"rgba(0,0,0,0.3)",borderRadius:"8px"},children:[X.jsx("h4",{style:{marginBottom:"1rem"},children:"Cast Your Vote"}),X.jsxs("div",{style:{marginBottom:"1rem"},children:[X.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.9rem"},children:"Number of Votes"}),X.jsx("input",{type:"number",value:o,onChange:k=>s(k.target.value),min:"1",max:"1000",required:!0})]}),X.jsxs("div",{style:{padding:"1rem",background:"rgba(108, 92, 231, 0.1)",border:"1px solid rgba(108, 92, 231, 0.3)",borderRadius:"8px",marginBottom:"1rem"},children:[X.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"0.3rem",color:"#aaa"},children:"Quadratic Cost"}),X.jsxs("div",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"#6c5ce7"},children:[w," tokens"]}),X.jsxs("div",{style:{fontSize:"0.85rem",color:"#aaa",marginTop:"0.5rem"},children:["Formula: ",h," = ",w]})]}),X.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem"},children:[X.jsx("button",{type:"button",onClick:()=>c(!0),style:{flex:1,background:a?"#2ecc71":"rgba(46, 204, 113, 0.2)",borderColor:"#2ecc71"},children:"Vote YES"}),X.jsx("button",{type:"button",onClick:()=>c(!1),style:{flex:1,background:a?"rgba(231, 76, 60, 0.2)":"#e74c3c",borderColor:"#e74c3c"},children:"Vote NO"})]}),X.jsx("button",{type:"submit",disabled:l||h===0,style:{width:"100%"},children:l?"Submitting...":`Submit ${a?"YES":"NO"} Vote`})]})}function D5({proposal:n,onVoted:e}){const{publicKey:t}=Bi(),r=za(),{showToast:i}=wl(),[o,s]=Q.useState(!1),[a,c]=Q.useState(!1),l=b=>"active"in b?"#3498db":"passed"in b?"#2ecc71":"rejected"in b?"#e74c3c":"executed"in b?"#9b59b6":"quorumNotMet"in b?"#95a5a6":"#fff",u=b=>"active"in b?"Active":"passed"in b?"Passed":"rejected"in b?"Rejected":"executed"in b?"Executed":"cancelled"in b?"Cancelled":"quorumNotMet"in b?"Quorum Not Met":"Unknown",p=async()=>{if(!(!r||!t)){s(!0);try{const b="MainDAO",[_]=Z.findProgramAddressSync([de.from("dao"),de.from(b)],r.programId),x=await r.methods.tallyProposal().accounts({proposal:n.publicKey,dao:_}).rpc();i("Proposal tallied successfully!","success",x),e()}catch(b){console.error("Error tallying proposal:",b);const _=b.message||"Failed to tally proposal";i(_,"error")}finally{s(!1)}}},g=async()=>{if(!(!r||!t)){s(!0);try{const b="MainDAO",[_]=Z.findProgramAddressSync([de.from("dao"),de.from(b)],r.programId),x=await r.methods.executeProposal().accounts({proposal:n.publicKey,dao:_,authority:t}).rpc();i("Proposal executed successfully!","success",x),e()}catch(b){console.error("Error executing proposal:",b);const _=b.message||"Failed to execute proposal";i(_,"error")}finally{s(!1)}}},h=Math.floor(Date.now()/1e3),w="active"in n.state&&h<=n.endTime.toNumber(),k="active"in n.state&&h>n.endTime.toNumber(),A="passed"in n.state,E=n.totalVotesCast.toNumber()>0?n.yesVotes.toNumber()/n.totalVotesCast.toNumber()*100:0;return X.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",borderRadius:"12px",padding:"1.5rem",border:`1px solid ${l(n.state)}33`},children:[X.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1rem",flexWrap:"wrap",gap:"0.5rem"},children:[X.jsx("h3",{style:{fontSize:"1.2rem",flex:"1 1 200px"},children:n.title}),X.jsx("span",{style:{padding:"0.3rem 0.8rem",borderRadius:"20px",fontSize:"0.85rem",background:l(n.state)+"22",color:l(n.state),whiteSpace:"nowrap",alignSelf:"flex-start"},children:u(n.state)})]}),X.jsx("p",{style:{color:"#ccc",marginBottom:"1.5rem",lineHeight:"1.6"},children:n.description}),X.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"1rem",marginBottom:"1.5rem",padding:"1rem",background:"rgba(0,0,0,0.3)",borderRadius:"8px"},children:[X.jsxs("div",{children:[X.jsx("div",{style:{fontSize:"0.85rem",color:"#aaa"},children:"YES Votes"}),X.jsx("div",{style:{fontSize:"1.5rem",color:"#2ecc71",fontWeight:"bold"},children:n.yesVotes.toString()})]}),X.jsxs("div",{children:[X.jsx("div",{style:{fontSize:"0.85rem",color:"#aaa"},children:"NO Votes"}),X.jsx("div",{style:{fontSize:"1.5rem",color:"#e74c3c",fontWeight:"bold"},children:n.noVotes.toString()})]})]}),X.jsxs("div",{style:{marginBottom:"1.5rem"},children:[X.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",fontSize:"0.85rem"},children:[X.jsxs("span",{children:["Total Votes: ",n.totalVotesCast.toString()]}),X.jsxs("span",{children:[E.toFixed(1),"% YES"]})]}),X.jsx("div",{style:{height:"8px",background:"rgba(255,255,255,0.1)",borderRadius:"4px",overflow:"hidden"},children:X.jsx("div",{style:{width:`${E}%`,height:"100%",background:"linear-gradient(90deg, #2ecc71 0%, #27ae60 100%)",transition:"width 0.3s"}})})]}),X.jsxs("div",{style:{fontSize:"0.85rem",color:"#aaa",marginBottom:"1rem",padding:"0.8rem",background:"rgba(0,0,0,0.2)",borderRadius:"6px"},children:[X.jsxs("div",{children:["Ends: ",new Date(n.endTime.toNumber()*1e3).toLocaleString()]}),X.jsxs("div",{children:["Proposal ID: #",n.proposalId.toString()]})]}),X.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[w&&X.jsx("button",{onClick:()=>c(!a),style:{flex:1},children:a?"Hide Vote Form":"Vote"}),k&&X.jsx("button",{onClick:p,disabled:o,style:{flex:1},children:o?"Tallying...":"Tally Results"}),A&&X.jsx("button",{onClick:g,disabled:o,style:{flex:1},children:o?"Executing...":"Execute"})]}),a&&w&&X.jsx("div",{style:{marginTop:"1rem"},children:X.jsx(P5,{proposalPda:n.publicKey,onVoted:()=>{c(!1),e()}})})]})}function U5(){const n=za(),[e,t]=Q.useState([]),[r,i]=Q.useState(!0);Q.useEffect(()=>{o()},[n]);const o=async()=>{if(n)try{const s="MainDAO",[a]=Z.findProgramAddressSync([de.from("dao"),de.from(s)],n.programId);try{await n.account.dao.fetch(a)}catch{i(!1);return}const l=(await n.account.proposal.all([{memcmp:{offset:8,bytes:a.toBase58()}}])).map(u=>({publicKey:u.publicKey,...u.account})).sort((u,p)=>p.proposalId.toNumber()-u.proposalId.toNumber());t(l)}catch(s){console.error("Error loading proposals:",s)}finally{i(!1)}};return r?X.jsx("div",{style:{textAlign:"center",padding:"2rem",background:"rgba(255,255,255,0.05)",borderRadius:"12px"},children:"Loading proposals..."}):e.length===0?X.jsxs("div",{style:{textAlign:"center",padding:"3rem 2rem",background:"rgba(255,255,255,0.05)",borderRadius:"12px"},children:[X.jsx("h3",{style:{marginBottom:"0.5rem"},children:"No Proposals Yet"}),X.jsx("p",{style:{color:"#aaa"},children:"Create the first proposal to get started!"})]}):X.jsxs("div",{children:[X.jsxs("h2",{style:{marginBottom:"1.5rem",fontSize:"1.5rem"},children:["Proposals (",e.length,")"]}),X.jsx("div",{style:{display:"grid",gap:"1.5rem"},children:e.map(s=>X.jsx(D5,{proposal:s,onVoted:o},s.publicKey.toString()))})]})}function z5(){const{publicKey:n}=Bi(),{connection:e}=Em(),t=za(),{showToast:r}=wl(),[i,o]=Q.useState(!1),[s,a]=Q.useState(null),[c,l]=Q.useState(!1),[u,p]=Q.useState("");Q.useEffect(()=>{g();const w=setInterval(()=>{g()},3e3);return()=>clearInterval(w)},[n,t]);const g=async()=>{var w;if(!(!t||!n))try{const k="MainDAO",[A]=Z.findProgramAddressSync([de.from("dao"),de.from(k)],t.programId),b=(await t.account.dao.fetch(A)).governanceMint,_=H0(b,n,!1,Ac,kc);let x=0;try{const z=await e.getTokenAccountBalance(_);x=parseFloat(((w=z.value.uiAmount)==null?void 0:w.toString())||"0"),a(x)}catch{a(0)}const[L]=Z.findProgramAddressSync([de.from("mint_record"),n.toBuffer()],t.programId);let U=x<50,D=!1,W="";try{const H=(await t.account.mintRecord.fetch(L)).lastMintTime.toNumber(),$=Math.floor(Date.now()/1e3)-H,R=24*60*60;if($<R){D=!0,U=!1;const d=R-$,f=Math.floor(d/3600),S=Math.floor(d%3600/60);W=`Must wait ${`${f}h ${S}m`} before minting again`}}catch{}l(U),x>=100?p("Maximum balance of 100 tokens reached"):x>=50?p("Balance must be below 50 tokens to mint"):p(D?W:"")}catch(k){console.error("Error checking mint eligibility:",k)}},h=async()=>{var w,k,A;if(!(!t||!n)){o(!0);try{const E="MainDAO",[b]=Z.findProgramAddressSync([de.from("dao"),de.from(E)],t.programId),x=(await t.account.dao.fetch(b)).governanceMint,L=H0(x,n,!1,Ac,kc),[U]=Z.findProgramAddressSync([de.from("mint_record"),n.toBuffer()],t.programId),D=await t.methods.mintGovernanceTokens().accounts({dao:b,governanceMint:x,recipientTokenAccount:L,mintRecord:U,recipient:n,tokenProgram:Ac,associatedTokenProgram:kc,systemProgram:ut.programId}).rpc();r("Minted 100 tokens successfully!","success",D),await g()}catch(E){console.error("Error minting tokens:",E);let b="Failed to mint tokens";(w=E.message)!=null&&w.includes("BalanceTooHigh")?b="Balance too high to mint (must be below 50 tokens)":(k=E.message)!=null&&k.includes("MintCapReached")?b="Cannot exceed maximum balance of 100 tokens":(A=E.message)!=null&&A.includes("MintCooldownActive")?b="Must wait 24 hours between mints":E.message&&(b=E.message),r(b,"error")}finally{o(!1)}}};return n?X.jsx("div",{style:{padding:"1.5rem",background:"rgba(46, 204, 113, 0.1)",border:"1px solid rgba(46, 204, 113, 0.3)",borderRadius:"12px",marginBottom:"2rem"},children:X.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[X.jsxs("div",{style:{flex:"1 1 200px"},children:[X.jsx("h3",{style:{marginBottom:"0.5rem"},children:"Governance Tokens"}),X.jsx("p",{style:{color:"#aaa",fontSize:"0.9rem"},children:s!==null?X.jsxs(X.Fragment,{children:["Balance: ",X.jsx("span",{style:{color:"#2ecc71",fontWeight:"bold"},children:s.toFixed(2)})," tokens"]}):"Loading balance..."}),u&&X.jsx("p",{style:{color:"#e74c3c",fontSize:"0.85rem",marginTop:"0.5rem"},children:u})]}),X.jsx("button",{onClick:h,disabled:i||!c,style:{background:c?"#2ecc71":"rgba(149, 165, 166, 0.3)",borderColor:c?"#27ae60":"#95a5a6",minWidth:"150px",flex:"0 1 auto"},children:i?"Minting...":"Mint 100 Tokens"})]})}):null}function F5(){const{publicKey:n}=Bi(),e=za(),{showToast:t}=wl(),[r,i]=Q.useState(!1),[o,s]=Q.useState(""),[a,c]=Q.useState(!1);Q.useEffect(()=>{l()},[n,e]);const l=async()=>{if(!(!e||!n))try{const g="MainDAO",[h]=Z.findProgramAddressSync([de.from("dao"),de.from(g)],e.programId),w=await e.account.dao.fetch(h);c(w.authority.toString()===n.toString())}catch(g){console.error("Error checking authority:",g)}},u=async()=>{if(!(!e||!n||!o)){i(!0);try{const g="MainDAO",[h]=Z.findProgramAddressSync([de.from("dao"),de.from(g)],e.programId),w=new Z(o),[k]=Z.findProgramAddressSync([de.from("whitelist"),h.toBuffer(),w.toBuffer()],e.programId),A=await e.methods.addToWhitelist(w).accounts({dao:h,whitelistRecord:k,authority:n,systemProgram:ut.programId}).rpc();t("User added to whitelist successfully!","success",A),s("")}catch(g){console.error("Error adding to whitelist:",g);const h=g.message||"Failed to add user to whitelist";t(h,"error")}finally{i(!1)}}},p=async()=>{if(!(!e||!n||!o)){i(!0);try{const g="MainDAO",[h]=Z.findProgramAddressSync([de.from("dao"),de.from(g)],e.programId),w=new Z(o),[k]=Z.findProgramAddressSync([de.from("whitelist"),h.toBuffer(),w.toBuffer()],e.programId),A=await e.methods.removeFromWhitelist().accounts({dao:h,whitelistRecord:k,authority:n,systemProgram:ut.programId}).rpc();t("User removed from whitelist successfully!","success",A),s("")}catch(g){console.error("Error removing from whitelist:",g);const h=g.message||"Failed to remove user from whitelist";t(h,"error")}finally{i(!1)}}};return!n||!a?null:X.jsxs("div",{style:{padding:"1.5rem",background:"rgba(155, 89, 182, 0.1)",border:"1px solid rgba(155, 89, 182, 0.3)",borderRadius:"12px",marginBottom:"2rem"},children:[X.jsx("h3",{style:{marginBottom:"1rem"},children:"Whitelist Management (Admin Only)"}),X.jsx("p",{style:{color:"#aaa",fontSize:"0.9rem",marginBottom:"1rem"},children:"Add or remove users from the voting whitelist"}),X.jsxs("div",{style:{marginBottom:"1rem"},children:[X.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.9rem"},children:"User Address"}),X.jsx("input",{type:"text",value:o,onChange:g=>s(g.target.value),placeholder:"Enter wallet address",style:{marginBottom:"1rem"}})]}),X.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[X.jsx("button",{onClick:u,disabled:r||!o,style:{flex:"1 1 150px",background:"#9b59b6",borderColor:"#8e44ad"},children:r?"Processing...":"Add to Whitelist"}),X.jsx("button",{onClick:p,disabled:r||!o,style:{flex:"1 1 150px",background:"#e74c3c",borderColor:"#c0392b"},children:r?"Processing...":"Remove from Whitelist"})]})]})}function W5(){const{connected:n}=Bi(),[e,t]=Q.useState(0),r=()=>{t(i=>i+1)};return n?X.jsxs("div",{children:[X.jsx(z5,{}),X.jsx(F5,{}),X.jsx("div",{style:{marginBottom:"2rem"},children:X.jsx(b5,{onProposalCreated:r})}),X.jsx(U5,{},e)]}):X.jsxs("div",{style:{textAlign:"center",padding:"4rem 2rem",background:"rgba(255,255,255,0.05)",borderRadius:"12px"},children:[X.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"1rem"},children:"Connect Your Wallet"}),X.jsx("p",{style:{color:"#aaa"},children:"Please connect your wallet to interact with the Quadratic Voting DAO"})]})}function H5(){const n=u0.Devnet,e=Q.useMemo(()=>nS(n),[n]),t=Q.useMemo(()=>[new A4],[]);return X.jsx(k3,{endpoint:e,children:X.jsx(g4,{wallets:t,autoConnect:!0,children:X.jsx(E4,{children:X.jsx(E5,{children:X.jsxs("div",{style:{padding:"1rem",maxWidth:"1200px",margin:"0 auto"},children:[X.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem",padding:"1rem",background:"rgba(255,255,255,0.05)",borderRadius:"12px",flexWrap:"wrap",gap:"1rem"},children:[X.jsxs("div",{style:{flex:"1 1 250px"},children:[X.jsx("h1",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:"Quadratic DAO"}),X.jsx("p",{style:{color:"#aaa",fontSize:"0.9rem"},children:"Fair governance through quadratic voting"})]}),X.jsx(S4,{})]}),X.jsx(W5,{})]})})})})})}ip.createRoot(document.getElementById("root")).render(X.jsx(re.StrictMode,{children:X.jsx(H5,{})}));
